window.__require = function e(t, i, n) {
    function o(s, r) {
        if (!i[s]) {
            if (!t[s]) {
                var l = s.split("/");
                if (l = l[l.length - 1], !t[l]) {
                    var c = "function" == typeof __require && __require;
                    if (!r && c)
                        return c(l, !0);
                    if (a)
                        return a(l, !0);
                    throw new Error("Cannot find module '" + s + "'")
                }
                s = l
            }
            var g = i[s] = {
                exports: {}
            };
            t[s][0].call(g.exports, function(e) {
                return o(t[s][1][e] || e)
            }, g, g.exports, e, t, i, n)
        }
        return i[s].exports
    }
    for (var a = "function" == typeof __require && __require, s = 0; s < n.length; s++)
        o(n[s]);
    return o
}({
    ActivityCodeConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "830a9QCWwZJ2Kjy1MT2DWQA", "ActivityCodeConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.value = {
                    gem: 200
                }, t.condition = {
                    godOfWar: 1,
                    recovery: 1
                }, t.or = 1, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.des = e.des, i.value = e.value, i.level = e.level, i.recharge = e.recharge, i.condition = e.condition, i.or = e.or, i.error = e.error, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ActivityCodeConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    AdModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1d2e0ZxSKNCa6ZrTp0OP5X1", "AdModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n,
            o = e("../../engine/LocalStorage"),
            a = e("./RoleInfoModel"),
            s = e("../../engine/DateUtil"),
            r = e("../config/DefaultConfig"),
            l = e("../../engine/EventManager"),
            c = e("../event/CommonEvent"),
            g = e("../../engine/Logger"),
            f = e("./ServerTime");
        (function(e) {
            e[e.MakeEquip = 1] = "MakeEquip", e[e.Antique = 2] = "Antique", e[e.Coin = 3] = "Coin", e[e.NULL = Number.MAX_VALUE] = "NULL"
        })(n = i.Ad_Type || (i.Ad_Type = {}));
        var d = function() {
            function e() {
                this.adType = n.NULL, this.leftTimes = 0, this.lastTime = 0
            }
            return e.init = function() {
                e.Ad_Times[n.MakeEquip] = r.DefaultConfig.getConfigById(16).value.times, e.Ad_Times[n.Antique] = r.DefaultConfig.getConfigById(17).value.times, e.Ad_Times[n.Coin] = r.DefaultConfig.getConfigById(17).value.times, this.localKey = this.defaultLocalKey + a.default.instance.roleId, this.modelList = [];
                var t = o.default.getItem(this.localKey);
                if (t)
                    for (var i = JSON.parse(t), s = 0; s < i.length; s++) {
                        var l = new e;
                        l.adType = i[s].adType, l.lastTime = i[s].lastTime, l.leftTimes = i[s].leftTimes, this.modelList[s] = l
                    }
                g.Logger.log = function(a) {};
                g.Logger.log("\u5e7f\u544a==str", t, "====this.modelList====", this.modelList, " AdModel.Ad_Times==", e.Ad_Times)
            }, e.getAdLostTimes = function(e) {
                g.Logger.log("\u83b7\u53d6\u5e7f\u544a\u6b21\u6570==", e, "====", this.modelList);
                for (var t = 0; t < this.modelList.length; t++) {
                    var i = this.modelList[t];
                    if (i.adType == e)
                        return i.leftTimes
                }
            }, e.updateAdTimes = function(t) {
                for (var i, n = 0; n < this.modelList.length; n++) {
                    var o = this.modelList[n];
                    o.adType == t && (i = o)
                }
                return i || ((i = new e).adType = t, i.lastTime = 0, i.leftTimes = e.Ad_Times[t], this.modelList.push(i)), i.leftTimes--, i.lastTime = f.ServerTime.getServerTime(), s.default.isToday(i.lastTime) || (i.leftTimes = e.Ad_Times[t]), this.saveToLocalStorage(), i.leftTimes
            }, e.saveToLocalStorage = function() {
                o.default.setItem(this.localKey, JSON.stringify(this.modelList))
            }, e.getAdById = function(e) {
                for (var t = 0; t < this.modelList.length; t++) {
                    var i = this.modelList[t];
                    if (i.adType == e)
                        return i
                }
            }, e.proto2ModelList = function(t) {
                for (var i = t.getAdvertisementListList(), n = 0; n < i.length; n++) {
                    var o = this.getAdById(i[n].getId());
                    o || (o = new e, this.modelList.push(o)), o.adType = i[n].getId(), o.leftTimes = i[n].getNum(), o.leftTimes = i[n].getNum()
                }
                l.EventManager.instance.dispatch(c.CommonEvent.Event_AdInfoUpdate)
            }, e.modelList = [], e.Ad_Times = [5, 5, 5], e.defaultLocalKey = "AdModel", e.localKey = "", e.nowAdType = 0, e
        }();
        i.default = d, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../config/DefaultConfig": "DefaultConfig",
        "../event/CommonEvent": "CommonEvent",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    AdapterHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0240aeTSeFBpr1OT2tA3oP0", "AdapterHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.fixApdater = function() {
                var e = cc.view.getFrameSize();
                this.winSizeWidth || (this.winSizeWidth = cc.winSize.width, this.winSizeHeiht = cc.winSize.height);
                var t = cc.view.getDesignResolutionSize(),
                    i = cc.Canvas.instance;
                e.height / e.width > t.height / t.width ? (i.fitHeight = !1, i.fitWidth = !0) : (i.fitHeight = !0, i.fitWidth = !1)
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    Astar: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1656cBL+z9Ikr2c9sZDM2Uj", "Astar");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a,
            s = cc._decorator,
            r = s.ccclass;
        s.property;
        (function(e) {
            e[e.Hider = 0] = "Hider", e[e.Normal = 1] = "Normal", e[e.End = 2] = "End"
        })(a = i.AstarGridType || (i.AstarGridType = {}));
        var l = function() {
            return function() {
                this.x = 0, this.y = 0, this.f = 0, this.g = 0, this.h = 0, this.type = 0, this.parent = null
            }
        }();
        i.AstarGrid = l;
        var c = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.mapW = 24, t.mapH = 13, t.is8dir = !1, t.openList = [], t.closeList = [], t.path = [], t.gridsList = [], t
            }
            return n(t, e), t.prototype.onLoad = function() {}, t.prototype.init = function(e, t, i) {
                void 0 === i && (i = !1), this.mapW = e, this.mapH = t, this.is8dir = i, this.initMap()
            }, t.prototype.initMap = function() {
                this.openList = [], this.closeList = [], this.path = [], this.gridsList = new Array(this.mapW + 1);
                for (var e = 0; e < this.gridsList.length; e++)
                    this.gridsList[e] = new Array(this.mapH + 1);
                for (e = 0; e <= this.mapW; e++)
                    for (var t = 0; t <= this.mapH; t++)
                        this.addGrid(e, t, a.Normal)
            }, t.prototype.addGrid = function(e, t, i) {
                void 0 === i && (i = a.Hider);
                var n = new l;
                n.x = e, n.y = t, n.type = i, this.gridsList[e][t] = n
            }, t.prototype.setGridType = function(e, t, i) {
                this.gridsList[e][t].type = i
            }, t.prototype.resetAllParent = function() {
                for (var e = 0; e < this.gridsList.length; e++)
                    for (var t = 0; t < this.gridsList[e].length; t++)
                        this.gridsList[e][t].parent = null, this.gridsList[e][t].f = 0, this.gridsList[e][t].g = 0, this.gridsList[e][t].h = 0
            }, t.prototype.findPath = function(e, t, i) {
                void 0 === i && (i = null), this.resetAllParent();
                var n = this.gridsList[e.x][e.y];
                this.openList = [], this.closeList = [], this.path = [], this.openList.push(n);
                for (var o = this.openList[0]; this.openList.length > 0 && o.type != a.End;) {
                    if ((o = this.openList[0]).type == a.End)
                        return this.generatePath(o), void (i && i(this.path));
                    for (var s = -1; s <= 1; s++)
                        for (var r = -1; r <= 1; r++)
                            if (0 != s || 0 != r) {
                                var l = o.x + s,
                                    c = o.y + r;
                                if (l >= 0 && c >= 0 && l <= this.mapW && c <= this.mapH && this.gridsList[l][c].type != a.Hider && this.closeList.indexOf(this.gridsList[l][c]) < 0) {
                                    if (this.is8dir) {
                                        if (this.gridsList[l - s][c].type == a.Hider || this.gridsList[l][c - r].type == a.Hider)
                                            continue
                                    } else if (Math.abs(s) == Math.abs(r))
                                        continue;
                                    var g = o.g + Math.floor(Math.sqrt(Math.pow(10 * s, 2)) + Math.pow(10 * r, 2));
                                    (0 == this.gridsList[l][c].g || this.gridsList[l][c].g > g) && (this.gridsList[l][c].g = g, this.gridsList[l][c].parent = o), this.gridsList[l][c].h = Math.abs(t.x - l) + Math.abs(t.y - c), this.gridsList[l][c].f = this.gridsList[l][c].g + this.gridsList[l][c].h, this.openList.indexOf(this.gridsList[l][c]) < 0 && this.openList.push(this.gridsList[l][c])
                                }
                            }
                    if (this.closeList.push(o), this.openList.splice(this.openList.indexOf(o), 1), this.openList.length <= 0) {
                        this.path = [], i && i(this.path);
                        break
                    }
                    this.openList.sort(function(e, t) {
                        return e.f - t.f
                    })
                }
            }, t.prototype.generatePath = function(e) {
                for (this.path.push(e); e.parent;)
                    e = e.parent, this.path.push(e);
                return this.path
            }, t.prototype.onDestroy = function() {}, t = o([r], t)
        }(cc.Component);
        i.Astar = c, cc._RF.pop()
    }, {}],
    AudioPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1a1f5cxpChKaYyVWltgRVG/", "AudioPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = cc._decorator,
            r = s.ccclass,
            l = s.property,
            c = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.audioList = [], t
                }
                return n(t, e), o([l({
                    type: [cc.AudioClip]
                })], t.prototype, "audioList", void 0), t = o([r], t)
            }(a.default);
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase"
    }],
    BagAddView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "bb0bcK8Ea9ALIk39Kdb/EF0", "BagAddView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../model/RoleInfoModel"),
            r = e("../../config/BagConfig"),
            l = e("../../../engine/EventManager"),
            c = e("../../config/GameConst"),
            g = e("../../../engine/UIManager"),
            f = e("../../config/ViewConfig"),
            d = e("../../utils/UIHelper"),
            h = e("../../sdk/SdkHelper"),
            u = e("../../event/CommonEvent"),
            p = e("../../../engine/Logger"),
            m = e("../../config/GameConfig"),
            C = e("../../network/SocketClient"),
            v = e("../../miniGameTools/tttool"),
            _ = e("../../model/AdModel"),
            y = e("../../model/PrivilegeModel"),
            M = cc._decorator,
            I = M.ccclass,
            b = (M.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    var e = this.getChild(this.node, "view");
                    this.btnCancel = this.getChild(e, "btnCancel"), this.btnCoin = this.getChild(e, "btnCoin"), this.btnAd = this.getChild(e, "btnAd"), this.btnGem = this.getChild(e, "btnGem"), this.icon = this.getChild(this.node, "view/btnCoin/icon"), this.button_mianfeihuode_gkgg = this.getChild(this.node, "view/btnAd/button_mianfeihuode_gkgg"), this.initData(), this.onEvent(), this.refreshInfo()
                }, t.prototype.refreshInfo = function() {
                    y.default.hadFreePrivilege() && (this.button_mianfeihuode_gkgg.active = !1)
                }, t.prototype.onEvent = function() {
                    l.EventManager.instance.on(u.CommonEvent.Event_ad_end, this.onAdEnd, this), this.onAddEvent(this.btnCoin, this.onAddBagAmount.bind(this, 1)), this.onAddEvent(this.btnGem, this.onAddBagAmount.bind(this, 2)), this.onAddEvent(this.btnAd, this.onAddBagAmount.bind(this, 3)), this.onAddEvent(this.btnCancel, this.onClose.bind(this))
                }, t.prototype.initData = function() {
                    this.btnCancel.active = this.btnCoin.active = this.icon.active = !1, this.btnGem.active = this.btnAd.active = !1;
                    var e = r.BagConfig.getConfigById(s.default.addBagTimes + 1);
                    if (p.Logger.log("addBagTimes==================", s.default.addBagTimes, e), null != e) {
                        this.conifg = e;
                        for (var t = [e.gold, e.gem, e.ad], i = [this.btnCoin, this.btnGem, this.btnAd], n = 0; n < t.length; n++)
                            if (0 != t[n]) {
                                if (0 == n)
                                    this.getChild(this.btnCoin, "lblCoin", cc.Label).string = d.UIHelper.tranNumber(e.gold);
                                else
                                    this.getChild(this.btnGem, "lblCoin", cc.Label).string = "" + e.gem;
                                i[n].active = !0
                            }
                        0 == e.gold && (this.btnCancel.active = !0)
                    }
                }, t.prototype.onAddBagAmount = function(e) {
                    var t;
                    if (s.default.instance.bagAMount >= s.default.instance.maxServerBagNum)
                        d.UIHelper.showTip("\u80cc\u5305\u4e0a\u9650MAX");
                    else
                        switch (e) {
                        case 1:
                            s.default.instance.getCoin() >= this.conifg.gold && (t = !0), t ? m.GameConfig.connectServer ? (this.closeView(), C.default.req_buy(5, 1, 1, 1, 1, "1")) : (s.default.instance.addBagAmount(), this.initData(), l.EventManager.instance.dispatch(c.EVENT_NAME.BAG_ADD_AMOUNT), l.EventManager.instance.dispatch(c.EVENT_NAME.DEC_COIN), this.onClose()) : m.GameConfig.platform === cc.sys.WECHAT_GAME ? _.default.getAdLostTimes(_.Ad_Type.Coin) > 0 ? g.default.instance.createView(f.default.gameView.buyMoney) : d.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : d.UIHelper.showCoinNoEnough();
                            break;
                        case 2:
                            s.default.instance.getGold() >= this.conifg.gem && (t = !0), t ? (this.closeView(), C.default.req_buy(5, 2, 1, 1, 1, "1")) : d.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3!");
                            break;
                        case 3:
                            y.default.hadFreePrivilege() ? this.onAdEnd() : m.GameConfig.platform === cc.sys.WECHAT_GAME ? v.tttool.OpenAD() : h.default.sdkAd()
                        }
                }, t.prototype.onAdEnd = function() {
                    this.closeView(), C.default.req_buy(5, 2, 1, 1, 1, "1")
                }, t.prototype.onClose = function() {
                    g.default.instance.closeView(f.default.gameView.bagAdd)
                }, t = o([I], t)
            }(a.default));
        i.default = b, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/BagConfig": "BagConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../miniGameTools/tttool": "tttool",
        "../../model/AdModel": "AdModel",
        "../../model/PrivilegeModel": "PrivilegeModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../sdk/SdkHelper": "SdkHelper",
        "../../utils/UIHelper": "UIHelper"
    }],
    BagConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "57425Ybq2BLoaXa+MTM/M95", "BagConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.bag = 50, t.gold = 1, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.bag = e.bag, i.gold = e.gold, i.gem = e.gem, i.ad = e.ad, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.id = parseInt(i)
                })
            }, t.getConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    i.id == e && (t = i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.BagConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    BagEqItemInfo: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f176dYPtWNJtpO9oGOXZPgw", "BagEqItemInfo");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/EventManager"),
            s = e("../../../engine/UIManager"),
            r = e("../../../engine/ViewBase"),
            l = e("../../config/EquipConfig"),
            c = e("../../config/GameConst"),
            g = e("../../config/ITemsConfig"),
            f = e("../../config/MagicNameConfig"),
            d = e("../../config/RandomFuMoConfig"),
            h = e("../../config/ViewConfig"),
            u = e("../../model/ItemInfoModel"),
            p = e("../../model/MagicModel"),
            m = e("../../model/RoleInfoModel"),
            C = e("../../utils/UIHelper"),
            v = e("../../prefab/ItemPrefab"),
            _ = e("../../../engine/Logger"),
            y = e("../../config/ColorConfig"),
            M = e("../../config/GameConfig"),
            I = e("../../network/SocketClient"),
            b = e("../../config/MapConfig"),
            L = e("../../config/RuneConfig"),
            w = e("../../utils/MusicHelper"),
            S = e("../../config/JingJieConfig"),
            E = e("../../../engine/ProtoConfig"),
            k = e("../../../engine/ProtoUtils"),
            T = e("../../model/BlessModel"),
            N = cc._decorator,
            R = N.ccclass,
            B = (N.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.baseNodeList = [], t.randomNodeList = [], t.fuwenList = [], t.fuwenNodeList = [], t.funwenAtrNodeList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    if (this.model = e, this.config = l.EquipConfig.getEquipConfigById(this.model.itemType), _.Logger.log("this.config", this.config), this.config.world == b.MapConfig.WORLD.LunHui) {
                        this.runConfig = L.RuneConfig.getRuneById(this.model.fuwenId), _.Logger.log("this.runConfig", this.runConfig);
                        for (var t = 0; t < this.model.fuwenNeedList.length; t++)
                            this.fuwenList[t] = null
                    }
                }, t.prototype.onShow = function() {
                    s.default.instance.setTopUI(this.viewPath);
                    var e = this.getChild(this.node, "view/pnlValue");
                    this.pnlValue = e, this.btnUser = this.getChild(e, "bottom/bottom/user"), this.btnLock = this.getChild(e, "bottom/bottom/lock"), this.btnClose = this.getChild(e, "top/top/btnClose"), this.btnRefine = this.getChild(e, "top/btn/btnRefine"), this.btnCompared = this.getChild(e, "top/top/btnCompared"), this.itemBaseNode = this.findChild(e, "mid/content/itemBaseNode"), this.itemInfo = this.findChild(e, "mid/content/itemInfo"), this.itemRandomNode = this.findChild(e, "mid/content/itemRandomNode"), this.txtFanRenZhiLi = this.getChild(e, "top/top/pnlType/val/txtFanRenZhiLi", cc.Label), this.txtFightName = this.getChild(e, "top/top/pnlType/val/txtFanRenZhiLi/txtFightName", cc.Label), this.txtFightName.string = S.JingJieConfig.getDesc(this.config.world) + ":", this.itemFuWen = this.findChild(e, "mid/content/itemFuWen"), this.itemFuWen.active = !1, this.itemGodNode = this.findChild(e, "mid/content/itemGodNode"), this.itemGodNode.active = !1, this.itemGodInfo = this.findChild(e, "mid/content/itemGodInfo"), this.itemGodInfo.active = !1, this.initData(), this.onEvent(), a.EventManager.instance.on("GUIDE_1003", function(e) {
                        this.onUser()
                    }.bind(this), this), a.EventManager.instance.on("GUIDE_1005", function(e) {
                        this.onUser()
                    }.bind(this), this)
                }, t.prototype.initData = function() {
                    if (this.model) {
                        var e = this.model.getConfig();
                        this.config = l.EquipConfig.getEquipConfigById(e.id), this.initBtn(), this.initPnlvalue(), this.refreshAttriInfo(this.model, this.config)
                    }
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == E.ProtoConfig.c_seq_embed) {
                        var i = k.ProtoUtils.DeserializeBinary(E.ProtoConfig.c_seq_embed, t);
                        _.Logger.log("onSocketRespMsg==c_seq_embed=====", this.model), 1 == i.getRet() && (this.model.fuwenActive = !0, this.refreshAttriInfo(this.model, this.config))
                    }
                }, t.prototype.initBtn = function() {
                    this.model.gridId >= 0 ? (this.getChild(this.btnUser, "up", cc.Node).active = !1, this.getChild(this.btnUser, "down", cc.Node).active = !0) : (this.getChild(this.btnUser, "up", cc.Node).active = !0, this.getChild(this.btnUser, "down", cc.Node).active = !1), this.getChild(this.btnLock, "open", cc.Node).active = !this.model.isLock, this.getChild(this.btnLock, "close", cc.Node).active = this.model.isLock;
                    var e = l.EquipConfig.getGridTypeByPart(this.config.position, !0),
                        t = m.default.instance.getEquipModelByGrid(e);
                    this.config.position != c.Position.BRACELET && this.config.position != c.Position.RING && this.config.position != c.Position.BRACELET_lunhui && this.config.position != c.Position.RING_lunhui || t || (e = l.EquipConfig.getGridTypeByPart(this.config.position, !1), t = m.default.instance.getEquipModelByGrid(e));
                    var i = 0;
                    i = this.model ? u.default.getItemAmountById(this.model.itemId) : u.default.getItemAmount(this.config.id), _.Logger.log("getEquipModelByGrid=====", e, t, i, this.config), t && this.model && t.itemId != this.model.itemId && this.model.gridId <= 0 ? this.btnCompared.active = !0 : this.btnCompared.active = !1, this.btnRefine.active = !1, (this.model.randAttrList.length > 0 || this.model.fuwenAtriList.length > 0) && (this.btnRefine.active = !0), this.getChild(this.node, "view/pnlValue/bottom/bottom/txtSellMoney").active = !1, i <= 0 && (this.btnRefine.active = !1, this.getChild(this.node, "view/pnlValue/bottom/bottom/txtSellMoney").active = !0, this.getChild(this.node, "view/pnlValue/bottom/bottom/txtSellMoney", cc.Label).string = this.config.getPrice(this.model.quality) + "\u91d1\u5e01", this.getChild(this.btnLock, "open", cc.Node).parent.active = !1, this.getChild(this.btnUser, "down", cc.Node).parent.active = !1, _.Logger.log("\u88c5\u5907\u754c\u9762======\u9690\u85cf\u6309\u94ae")), 1 == this.config.dingzhi && (this.btnRefine.active = !1)
                }, t.prototype.onEvent = function() {
                    this.onAddEvent(this.btnUser, this.onUser.bind(this)), this.onAddEvent(this.btnLock, this.onLock.bind(this)), this.onAddEvent(this.btnClose, this.onClose.bind(this)), this.onAddEvent(this.btnRefine, this.onRefine.bind(this)), this.onAddEvent(this.btnCompared, this.onCompared.bind(this))
                }, t.prototype.initPnlvalue = function() {
                    var e = this.config,
                        t = this.getChild(this.pnlValue, "top/top/title", cc.Label);
                    this.config.world == b.MapConfig.WORLD.FanRen ? t.string = e.name + "\xb7\u51e1\u4eba" : t.string = e.name + "\xb7\u8f6e\u56de", this.getChild(this.pnlValue, "top/top/pnlType/icon").getComponent(v.default).init(this.model);
                    var i = this.getChild(this.pnlValue, "top/top/pnlType/val");
                    C.UIHelper.formatPart(i.getChildByName("txtType").getComponent(cc.Label), e.position), C.UIHelper.formatRoleOccupation(i.getChildByName("txtOccupation").getComponent(cc.Label), e.pro), C.UIHelper.formatRoleLevel(i.getChildByName("cdtionLevel").getComponent(cc.Label), e), C.UIHelper.formatQuality(i.getChildByName("lblQuality").getComponent(cc.Label), this.model.quality), this.model.quality > c.GameConst.QUALITY.WHITE ? (i.getChildByName("jipin").active = !0, i.getChildByName("jipin").getComponent(cc.Label).string = this.model.getCurrBaseAddAttrValue() + "(" + this.model.getJiPinPersent() + "%)", i.getChildByName("jipin").color = y.ColorConfig.getQualityColor(this.model.quality), this.getChild(this.pnlValue, "top/top/pnlType/title/jipin").active = !0) : (i.getChildByName("jipin").active = !1, this.getChild(this.pnlValue, "top/top/pnlType/title/jipin").active = !1)
                }, t.prototype.onUser = function() {
                    if (this.model.gridId < 0) {
                        var e = m.default.instance.addEquipByPosition(this.config.position, this.model.itemId);
                        _.Logger.log("BagEqItemInfo=============22===", this.model, this.config), e == c.ADD_EQ.SUCCESS && this.onClose()
                    } else
                        m.default.instance.removeEquip(this.model.gridId), this.onClose()
                }, t.prototype.onLock = function() {
                    var e = u.default.getItemByid(this.model.itemId);
                    M.GameConfig.connectServer ? I.default.s_equip_lock(e.itemId, !e.isLock) : (e.isLock = !this.model.isLock, m.default.instance.updateBagEquip(e)), this.onClose()
                }, t.prototype.onRefine = function() {
                    s.default.instance.closeView(h.default.gameView.equipInfo), this.config.world == b.MapConfig.WORLD.FanRen ? s.default.instance.createView(h.default.gameView.refine, null, this.model) : this.config.world == b.MapConfig.WORLD.LunHui && s.default.instance.createView(h.default.gameView.cuilian, null, this.model)
                }, t.prototype.onCompared = function() {
                    var e = this,
                        t = function() {
                            e.onClose()
                        }.bind(this);
                    s.default.instance.createView(h.default.gameView.equipContrastView, null, this.model, t)
                }, t.prototype.onClose = function() {
                    s.default.instance.closeView(h.default.gameView.equipInfo)
                }, t.prototype.refreshAttriInfo = function(e, t) {
                    var i = this;
                    _.Logger.log("refreshAttriInfo====", e, t), 1 == t.dingzhi && t.world == b.MapConfig.WORLD.FanRen ? this.txtFanRenZhiLi.string = l.EquipConfig.getFanRenZhiLiByDingZhi(t) + "" : this.txtFanRenZhiLi.string = e.fight + "", this.itemInfo.active = !1, this.itemRandomNode.active = !1, this.itemFuWen.active = !1;
                    for (var n = [f.MagicNameConfig.MagicId.atk, f.MagicNameConfig.MagicId.mag, f.MagicNameConfig.MagicId.spt, f.MagicNameConfig.MagicId.def, f.MagicNameConfig.MagicId.hp], o = 0; o < n.length; o++) {
                        var a = e.getBaseAddValue(n[o]),
                            r = a;
                        if (1 == t.dingzhi ? r = t.d_jipin[n[o]] : n[o] == f.MagicNameConfig.MagicId.atk ? r += t.atk : n[o] == f.MagicNameConfig.MagicId.mag ? r += t.mag : n[o] == f.MagicNameConfig.MagicId.spt ? r += t.spt : n[o] == f.MagicNameConfig.MagicId.def ? r += t.def : n[o] == f.MagicNameConfig.MagicId.hp && (r += t.hp), r > 0) {
                            var c = void 0;
                            this.baseNodeList[o] ? c = this.baseNodeList[o] : (c = cc.instantiate(this.itemInfo), this.baseNodeList[o] = c), c.parent = this.itemInfo.parent, c.active = !0, (B = c.getChildByName("txtDesc").getComponent(cc.Label)).string = f.MagicNameConfig.getDesc(n[o]) + ":", (P = c.getChildByName("txtDefaultValue").getComponent(cc.Label)).string = "" + r;
                            var m = c.getChildByName("txtExtra").getComponent(cc.Label);
                            t.dingzhi, m.string = "(" + a + ")", m.node.active = a > 0
                        }
                    }
                    if (e.blessAtttList.length > 0) {
                        var v = cc.instantiate(this.itemGodNode);
                        v.parent = this.itemGodNode.parent, v.active = !0;
                        var M = cc.instantiate(this.itemGodInfo);
                        M.parent = this.itemGodInfo.parent, M.active = !0;
                        for (o = 0; o < e.blessAtttList.length; o++)
                            M.getChildByName("txtDesc").getComponent(cc.Label).string = T.default.getdes(e.blessAtttList[o].blessId, e.blessAtttList[o].blessValue)
                    }
                    if (t.world == b.MapConfig.WORLD.FanRen) {
                        e.randAttrList.length > 0 && (this.itemRandomNode.active = !0, this.itemRandomNode.zIndex = 2);
                        for (o = 0; o < e.randAttrList.length; o++) {
                            var I = e.randAttrList[o];
                            c = void 0;
                            (c = this.randomNodeList[o] ? this.randomNodeList[o] : cc.instantiate(this.itemInfo)).parent = this.itemInfo.parent, c.zIndex = 3, c.active = !0;
                            var L = d.RandomFuMoConfig.getRandomFuMoConfig(t, I.magicId),
                                S = d.RandomFuMoConfig.getMagicValueByConfig(L, t.level);
                            (B = c.getChildByName("txtDesc").getComponent(cc.Label)).string = f.MagicNameConfig.getDesc(I.magicId) + ":" + p.default.formatMagicValue(I.magicId, I.magicValue), (P = c.getChildByName("txtDefaultValue").getComponent(cc.Label)).node.active = !1, P.node.x = B.node.x + B.node.width;
                            m = c.getChildByName("txtExtra").getComponent(cc.Label);
                            1 == t.dingzhi ? (m.string = "(\u4e0a\u9650" + p.default.formatMagicValue(I.magicId, I.magicValue) + ")", m.node.color = y.ColorConfig.hexToColor("#df1500"), B.node.color = y.ColorConfig.hexToColor("#df1500")) : (B.node.color = l.EquipConfig.getRandomAttColor(t, I), m.string = "(\u4e0a\u9650" + p.default.formatMagicValue(I.magicId, S[1]) + ")", m.node.color = B.node.color, P.node.color = B.node.color), this.randomNodeList[o] = c
                        }
                    } else if (t.world == b.MapConfig.WORLD.LunHui && this.runConfig) {
                        this.itemFuWen.active = !0, this.itemFuWen.zIndex = 2;
                        var E = this.itemFuWen.getChildByName("txtFuWenName");
                        E.getChildByName("txtName").getComponent(cc.Label).string = this.runConfig.name;
                        var k = E.getChildByName("txtStatus").getComponent(cc.Label);
                        this.model.fuwenActive ? (k.string = "(\u5df2\u6fc0\u6d3b)", k.node.color = y.ColorConfig.GreenColor) : (k.string = "(\u672a\u6fc0\u6d3b)", k.node.color = y.ColorConfig.RedColor);
                        var N = this.itemFuWen.getChildByName("imgPro").getChildByName("itemInfo");
                        N.active = !1;
                        for (o = 0; o < e.fuwenAtriList.length; o++) {
                            var R = void 0;
                            this.funwenAtrNodeList[o] ? R = this.funwenAtrNodeList[o] : (R = cc.instantiate(N), this.funwenAtrNodeList[o] = R), R.active = !0, R.zIndex = 4, R.parent = N.parent;
                            var B,
                                P,
                                A = R.getChildByName("leftNode");
                            (B = A.getChildByName("txtDesc").getComponent(cc.Label)).string = f.MagicNameConfig.getDesc(e.fuwenAtriList[o].magicId) + ":", (P = A.getChildByName("txtDefaultValue").getComponent(cc.Label)).string = "" + p.default.formatMagicValue(e.fuwenAtriList[o].magicId, e.fuwenAtriList[o].magicValue), P.node.x = B.node.x + B.node.width;
                            m = R.getChildByName("txtExtra").getComponent(cc.Label);
                            this.model.fuwenActive ? (B.node.color = y.ColorConfig.getEquipQualityColor(e.fuwenAtriList[o].color), P.node.color = B.node.color, m.node.color = B.node.color) : (B.node.color = y.ColorConfig.hexToColor("#6f6f6f"), P.node.color = y.ColorConfig.hexToColor("#6f6f6f"), m.node.color = y.ColorConfig.hexToColor("#6f6f6f")), m.string = "(\u4e0a\u9650" + p.default.formatMagicValue(e.fuwenAtriList[o].magicId, e.fuwenAtriList[o].max) + ")"
                        }
                        var O = this.itemFuWen.getChildByName("fuWenContainer").getChildByName("fuwen");
                        O.active = !1;
                        var x = function(t) {
                                var n,
                                    o = g.ITemsConfig.getITemsConfigById(e.fuwenNeedList[t].item_type),
                                    a = void 0;
                                V.fuwenNodeList[t] ? (a = V.fuwenNodeList[t], n = a.getChildByName("btnEquip")) : (a = cc.instantiate(O), V.fuwenNodeList.push(a), (n = a.getChildByName("btnEquip")).on(cc.Node.EventType.TOUCH_END, function() {
                                    (w.MusicHelper.play_click(), 1 == i.getLeftFuWen()) ? s.default.instance.createView(h.default.gameView.DialogCheck, null, "\u7b26\u6587\u4e4b\u8bed\u5c06\u88ab\u6fc0\u6d3b\uff0c\u53ef\u83b7\u5f97\u7b26\u6587\u4e4b\u8bed\n\u5c5e\u6027\uff0c\u4f46\u5bf9\u5e94\u7b26\u6587\u5c06\u65e0\u6cd5\u53d6\u4e0b\uff0c\u662f\u5426\u786e\u5b9a\u6fc0\u6d3b\uff1f", function(e) {
                                        e && (i.fuwenList[t] || (u.default.getItemAmount(o.id) - i.getHadUseItemNum(o.id) > 0 ? (i.fuwenList[t] = o.name, n.active = !1, i.refreshAttriInfo(i.model, i.config), i.checkFinishFuWen()) : C.UIHelper.showTip("\u7b26\u6587\u4e0d\u8db3!")))
                                    }) : i.fuwenList[t] || (u.default.getItemAmount(o.id) - i.getHadUseItemNum(o.id) > 0 ? (i.fuwenList[t] = o.name, n.active = !1, i.refreshAttriInfo(i.model, i.config), i.checkFinishFuWen()) : C.UIHelper.showTip("\u7b26\u6587\u4e0d\u8db3!"))
                                })), a.active = !0, a.parent = O.parent;
                                var r = a.getChildByName("fuwenNo"),
                                    l = a.getChildByName("fuwenHad");
                                r.active = !1, l.active = !1;
                                var c = "";
                                c = o.rune >= 10 ? "$" + o.rune % 10 : "" + o.rune % 10, r.getChildByName("txtValue").getComponent(cc.Label).string = c + "", l.getChildByName("txtValue").getComponent(cc.Label).string = c + "", V.model.fuwenActive || V.fuwenList[t] ? (l.active = !0, n.active = !1) : (r.active = !0, n.active = !0)
                            },
                            V = this;
                        for (o = 0; o < e.fuwenNeedList.length; o++)
                            x(o)
                    }
                }, t.prototype.getLeftFuWen = function() {
                    for (var e = 0, t = 0; t < this.fuwenList.length; t++)
                        this.fuwenList[t] || e++;
                    return e
                }, t.prototype.checkFinishFuWen = function() {
                    for (var e = 0; e < this.fuwenList.length; e++)
                        if (!this.fuwenList[e])
                            return;
                    I.default.s_seq_embed(parseInt(this.model.itemId))
                }, t.prototype.getHadUseItemNum = function(e) {
                    for (var t = 0, i = 0; i < this.fuwenList.length; i++)
                        this.fuwenList[i] == e && t++;
                    return t
                }, t = o([R], t)
            }(r.default));
        i.BagEqItemInfo = B, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ProtoConfig": "ProtoConfig",
        "../../../engine/ProtoUtils": "ProtoUtils",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/JingJieConfig": "JingJieConfig",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/MapConfig": "MapConfig",
        "../../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../../config/RuneConfig": "RuneConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/BlessModel": "BlessModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/MagicModel": "MagicModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper"
    }],
    BagItemInfo: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ca9504vcFREJYD4LASouXQv", "BagItemInfo");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../model/ItemInfoModel"),
            c = e("../../utils/MusicHelper"),
            g = e("../../../engine/Logger"),
            f = e("../../prefab/ItemPrefab"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bagIndex = 0, t
                }
                return n(t, e), t.prototype.onInitChild = function(e, t, i) {
                    void 0 === i && (i = !0), this.model = e, this.bagIndex = t, this.isOwn = i, this.initWidget()
                }, t.prototype.init = function(e) {
                    this.model = e, this.initWidget()
                }, t.prototype.initWidget = function() {
                    this.setTopUI(), this.pnlResolution = this.getChild(this.node, "view/pnlResolution"), this.pnlResolution.active = !1, this.pnlResolution.setPosition(0, 0), this.pnlDisplay = this.getChild(this.node, "view/panel1"), this.pnlUseResulo = this.getChild(this.node, "view/panel2"), this.pnlUse = this.getChild(this.node, "view/panel3"), this.pnlComplex = this.getChild(this.node, "view/panel4"), this.initData()
                }, t.prototype.initData = function() {
                    this.pnlComplex.active = this.pnlDisplay.active = this.pnlUseResulo.active = this.pnlUse.active = !1;
                    var e = this.model.getConfig();
                    g.Logger.log("config===================", e), 1 == e.compose ? this.initComplex() : e.use && this.isOwn ? e.break ? this.initUseResulo() : this.initUse() : this.initDisplay()
                }, t.prototype.initComplex = function() {
                    var e = this,
                        t = this.model.getConfig();
                    this.pnlComplex.active = !0, this.pnlDisplay.active = !1, this.pnlUse.active = !1, this.pnlUseResulo.active = !1, this.pnlComplex.setPosition(0, 0);
                    var i = this.pnlComplex.getChildByName("btnContainer");
                    i.getChildByName("btnUse").on(cc.Node.EventType.TOUCH_END, this.onClickComplex.bind(this));
                    var n = i.getChildByName("btnBreak");
                    t.break ? n.active = !0 : n.active = !1, n.on(cc.Node.EventType.TOUCH_END, function() {
                        c.MusicHelper.play_click(), e.onUseRes()
                    }), this.pnlComplex.getChildByName("icon").getComponent(f.default).init(this.model), this.pnlComplex.getChildByName("content").getComponent(cc.RichText).string = "" + t.description;
                    var o = this.pnlComplex.getChildByName("needClass").getChildByName("classNum").getComponent(cc.Label);
                    t.level ? o.string = t.level + "" : o.node.parent.active = !1, this.pnlComplex.getChildByName("pnlNum").getChildByName("num").getComponent(cc.Label).string = this.model.itemCnt.toString(), this.getChild(this.pnlComplex, "close").on(cc.Node.EventType.TOUCH_END, function() {
                        e.closeView()
                    }, this)
                }, t.prototype.initDisplay = function() {
                    this.pnlDisplay.active = !0, this.pnlDisplay.x = 0, this.initComNode(this.pnlDisplay), this.getChild(this.pnlDisplay, "content", cc.RichText).string = "" + this.model.getConfig().description
                }, t.prototype.initUseResulo = function() {
                    var e = this.model.getConfig();
                    this.pnlUseResulo.active = !0, this.pnlUseResulo.x = 0, this.pnlResolution.active = !1, this.initComNode(this.pnlUseResulo), this.getChild(this.pnlUseResulo, "btnRes").on("click", this.onUseRes, this);
                    var t = this.getChild(this.pnlUseResulo, "user");
                    t.on("click", this.onUse, this), 0 == e.use && (t.active = !1), this.getChild(this.pnlUseResulo, "content", cc.RichText).string = "" + this.model.getConfig().description
                }, t.prototype.initUse = function() {
                    this.pnlUse.active = !0, this.pnlUse.x = 0, this.initComNode(this.pnlUse);
                    var e = this.getChild(this.pnlUse, "count/pnlEdit");
                    this.bingdingAmountCtrl(e, this.model.itemCnt), this.getChild(this.pnlUse, "btnUse").on(cc.Node.EventType.TOUCH_END, this.onUse, this), this.getChild(this.pnlUse, "content", cc.RichText).string = "" + this.model.getConfig().description
                }, t.prototype.onUseRes = function() {
                    var e = this.pnlResolution;
                    e.active = !0;
                    var t = this.getChild(e, "pnlEdit");
                    this.bingdingAmountCtrl(t, this.model.itemCnt), this.getChild(e, "block").on(cc.Node.EventType.TOUCH_END, function() {
                        e.active = !1
                    }, this), this.getChild(e, "close").on(cc.Node.EventType.TOUCH_END, function() {
                        e.active = !1
                    }, this), this.getChild(t, "amountEditBox", cc.EditBox).string = "1", this.getChild(e, "pnlNum/num", cc.Label).string = "" + this.model.itemCnt, this.getChild(e, "btnUse").on("click", this.onResolu, this)
                }, t.prototype.initComNode = function(e) {
                    (this.getChild(e, "icon").getComponent(f.default).init(this.model), this.getChild(e, "close").on("click", this.onClose, this), e.getChildByName("pnlNum")) && (this.getChild(e, "pnlNum/num", cc.Label).string = "" + this.model.itemCnt)
                }, t.prototype.onUse = function() {
                    c.MusicHelper.play_click(), this.onClose();
                    var e = 0;
                    e = this.editboxAmount ? parseInt(this.editboxAmount.string) : 1, this.model.useArticle(e, this.bagIndex)
                }, t.prototype.onResolu = function() {
                    c.MusicHelper.play_click(), this.onClose();
                    var e = parseInt(this.editboxAmount.string) || 1;
                    l.default.resolutionArticle(this.model, e, this.bagIndex)
                }, t.prototype.bingdingAmountCtrl = function(e, t) {
                    var i = this.getChild(e, "amountEditBox", cc.EditBox);
                    i.string = "1", this.editboxAmount = i;
                    var n = function() {
                            var e = parseInt(i.string) || 0;
                            e = (e = e < 1 ? 1 : e) > t ? t : e, i.string = "" + e
                        },
                        o = function() {
                            n()
                        };
                    i.node.off("text-changed"), i.node.on("text-changed", o, this);
                    var a = this.getChild(e, "btn_jia"),
                        s = this.getChild(e, "btn_jian"),
                        r = this.getChild(e, "btn_max");
                    a.off("click"), s.off("click"), r.off("click"), a.on("click", function() {
                        var e = parseInt(i.string) || 0;
                        i.string = "" + ++e, n()
                    }, this), s.on("click", function() {
                        var e = parseInt(i.string) || 0;
                        i.string = "" + --e, n()
                    }, this), r.on("click", function() {
                        i.string = "" + t, o()
                    }, this)
                }, t.prototype.onClickComplex = function() {
                    this.closeView(), c.MusicHelper.play_click(), s.default.instance.createView(r.default.gameView.complex, null, this.model)
                }, t.prototype.onClose = function() {
                    s.default.instance.closeView(r.default.gameView.ItemInfo), c.MusicHelper.play_click()
                }, t.prototype.formatName = function(e) {
                    switch (e.length) {
                    case 1:
                    case 2:
                    case 3:
                        return e;
                    case 4:
                    case 5:
                        return e.slice(0, 2) + "\n" + e.slice(2);
                    case 6:
                        return e.slice(0, 3) + "\n" + e.slice(3)
                    }
                }, t = o([h], t)
            }(a.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../utils/MusicHelper": "MusicHelper"
    }],
    BagItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "eb45fIxl5VE2opfa/DaQ0X5", "BagItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../model/RoleInfoModel"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../../engine/ComponentBase"),
            c = e("../../model/ItemInfoModel"),
            g = e("../../utils/MusicHelper"),
            f = e("../../../engine/Logger"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bagIndex = 0, t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.onEvent()
                }, t.prototype.init = function(e, t) {
                    this.model = e, this.bagIndex = t, this.initWidget()
                }, t.prototype.setShowArticle = function(e) {
                    for (var t = this.node.children, i = 0; i < t.length; i++)
                        "contetn" == t[i].name ? t[i].active = !0 : t[i].active = e;
                    this.model = null
                }, t.prototype.initWidget = function() {
                    this.spRed = this.getChild(this.node, "spRed"), this.itemPrefab = this.getChild(this.node, "ItemPrefab"), this.initData()
                }, t.prototype.onEvent = function() {
                    this.node.on(cc.Node.EventType.TOUCH_END, this.onTouch.bind(this))
                }, t.prototype.onTouch = function() {
                    if (this.model) {
                        if (1 == this.model.isNew)
                            this.spRed.active = !1, this.model.isNew = !1, c.default.getItemByid(this.model.itemId).isNew = !1, a.default.saveToLocalStorage();
                        g.MusicHelper.play_click(), f.Logger.log("\u70b9\u51fb\u7269\u54c1", this.model), "I6004" == this.model.itemType ? s.default.instance.createView(r.default.gameView.ZuiQiangFangYuGiftView, null, this.model) : "I6005" == this.model.itemType ? s.default.instance.createView(r.default.gameView.ZuiQiangJiNengGiftView, null, this.model) : 2 == this.model.itemKind ? s.default.instance.createView(r.default.gameView.equipInfo, null, this.model) : s.default.instance.createView(r.default.gameView.ItemInfo, null, this.model, this.bagIndex)
                    }
                }, t.prototype.initData = function() {
                    this.spRed.active = this.model.isNew || !1, this.node.getChildByName("ItemPrefab").getComponent("ItemPrefab").init(this.model)
                }, t.prefabName = "bagItem", t = o([h], t)
            }(l.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../../engine/ComponentBase": "ComponentBase",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../utils/MusicHelper": "MusicHelper"
    }],
    BagView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "37d6dLJxs5Gf6cdmdKVhQOR", "BagView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/EventManager"),
            s = e("../../../engine/UIManager"),
            r = e("../../../engine/ViewBase"),
            l = e("../../config/GameConst"),
            c = e("../../config/ViewConfig"),
            g = e("../../model/GuideModel"),
            f = e("../../model/RoleInfoModel"),
            d = e("./BagItem"),
            h = e("../../utils/UIHelper"),
            u = e("../../config/BagConfig"),
            p = e("./ButtomView"),
            m = e("../../event/CommonEvent"),
            C = e("../UserInfoView"),
            v = e("../../../engine/Logger"),
            _ = e("../../utils/MusicHelper"),
            y = e("../GameUIView"),
            M = e("../Skill/SkillView"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bagModelList = [], t.toggleStatus = 0, t.currTabIndex = 0, t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.skillView = this.node.getChildByName("skillView"), this.skillView.getComponent(M.default).onShow(), this.skillView.active = !1, this.buttomView = this.findChild(this.node, "bottom").getComponent(p.ButtomView), this.strengthen = this.node.getChildByName("strengthen"), this.strengthen.active = !1, this.jingJieView = this.node.getChildByName("JingJieView"), this.jingJieView.active = !1, this.scrollContent = this.getChild(this.node, "bag/panel/view/content"), this.toggleTable = this.getChild(this.node, "bag/table"), this.btnAdd = this.getChild(this.node, "bag/btnAdd"), this.btnSort = this.getChild(this.node, "bag/btnSort"), this.lblAmount = this.getChild(this.node, "bag/lblAmount", cc.Label), this.weaponView = this.node.getChildByName("weaponView"), this.weaponView.active = !1, this.buttomView.init(this), this.onAddEvent(this.btnSort, this.onSortBag.bind(this, 1, 2, 3)), this.onAddEvent(this.btnAdd, this.onAdd.bind(this));
                    for (var t = 0; t < this.toggleTable.childrenCount; t++) {
                        this.toggleTable.children[t].on("toggle", this.onToggleTable.bind(this, t), this)
                    }
                    this.createScrollContent(), this.refresh()
                }, t.prototype.onEnable = function() {
                    this.onEvent(), this.refresh(), a.EventManager.instance.on("GUIDE_1002", function(e) {
                        g.GuideModel.dispatchTounchEndEvent(this.scrollContent.children[3], e)
                    }.bind(this), this), a.EventManager.instance.on("GUIDE_1004", function(e) {
                        g.GuideModel.dispatchTounchEndEvent(this.scrollContent.children[4], e)
                    }.bind(this), this), f.default.instance.isFullBag() && 1 == y.default.tabIndex && g.GuideModel.instance.checkGuide(g.GUIDE_TYPE.YUN_YOU)
                }, t.prototype.onShow = function() {}, t.prototype.jumptoBagSkillTab = function(e) {
                    this.selectTab(4), s.default.instance.createView(c.default.gameView.SkillEffectView, null, e)
                }, t.prototype.selectTab = function(e) {
                    if (v.Logger.log("tabIndex====", e), 1 != e) {
                        if (this.currTabIndex == e)
                            return;
                        this.currTabIndex = e, this.strengthen.active = !1, this.jingJieView.active = !1, this.skillView.active = !1, this.weaponView.active = !1, 0 == e ? (C.default.panelIndex = 0, a.EventManager.instance.dispatch(m.CommonEvent.Event_userinfoViewSwitch)) : 2 == e ? (C.default.panelIndex = 1, this.strengthen.active = !0, a.EventManager.instance.dispatch(m.CommonEvent.Event_userinfoViewSwitch)) : 3 == e ? this.jingJieView.active = !0 : 4 == e ? this.skillView.active = !0 : 5 == e && 0 == this.weaponView.active && (this.weaponView.active = !0)
                    } else
                        s.default.instance.createView(c.default.gameView.business)
                }, t.prototype.onEvent = function() {
                    a.EventManager.instance.on(l.EVENT_NAME.BAG_ADD_AMOUNT, this.onEventBagAddAmount, this), a.EventManager.instance.on(m.CommonEvent.Event_UserInfoRefresh, this.refresh, this), a.EventManager.instance.on(l.EVENT_NAME.BAG_ADD, this.onEventAddModel, this), a.EventManager.instance.on(l.EVENT_NAME.BAG_CUT, this.onEventCutModel, this), a.EventManager.instance.on(m.CommonEvent.Event_JumpToSkillEffectView, this.jumptoBagSkillTab, this)
                }, t.prototype.fixBagModelList = function() {
                    if (f.default.instance.bagModelList.length < f.default.instance.bagAMount)
                        for (var e = f.default.instance.bagAMount - f.default.instance.bagModelList.length, t = 0; t < e; t++)
                            f.default.instance.bagModelList.push(null)
                }, t.prototype.onEventAddModel = function(e, t) {
                    void 0 === t && (t = 0), this.refresh()
                }, t.prototype.onEventCutModel = function(e, t) {
                    void 0 === t && (t = 0), this.refresh()
                }, t.prototype.onEventBagAddAmount = function() {
                    this.refresh()
                }, t.prototype.upBagAmout = function() {
                    var e = f.default.instance.isFullBag() ? "#FF0000" : "#FFFFFF";
                    this.lblAmount.string = f.default.instance.getBagHadItemNum() + "/" + f.default.instance.bagAMount, this.lblAmount.node.color = cc.color().fromHEX(e)
                }, t.prototype.createScrollContent = function(e) {
                    void 0 === e && (e = f.default.instance.bagAMount), this.scrollContent.childrenCount < 10 && this.scrollContent.removeAllChildren();
                    for (var t = 0; t < e; t++) {
                        var i = cc.instantiate(d.default.prefab);
                        this.scrollContent.addChild(i), i.getComponent(d.default).setShowArticle(!1)
                    }
                }, t.prototype.initScrollContent = function(e, t) {
                    for (var i = 0; i < f.default.instance.bagAMount; i++) {
                        var n = this.scrollContent.children[i];
                        switch (t) {
                        case 0:
                            !e[i] || i >= e.length ? (n.active = !0, n.getComponent(d.default).setShowArticle(!1)) : (n.active = !0, n.getComponent(d.default).setShowArticle(!0), n.getComponent(d.default).init(e[i], i));
                            break;
                        case 1:
                        case 2:
                            !e[i] || i >= e.length ? n.active = !1 : (n.active = !0, n.getComponent(d.default).setShowArticle(!0), n.getComponent(d.default).init(e[i], i))
                        }
                    }
                }, t.prototype.onToggleTable = function(e, t) {
                    void 0 === e && (e = this.toggleStatus), void 0 === t && (t = null), _.MusicHelper.play_click(), this.refresh(e)
                }, t.prototype.refresh = function(e) {
                    void 0 === e && (e = this.toggleStatus), this.scrollContent.children.length < f.default.instance.bagAMount && this.createScrollContent(f.default.instance.bagAMount - this.scrollContent.children.length), this.fixBagModelList(), this.upBagAmout();
                    var t = [];
                    switch (e) {
                    case 0:
                        t = f.default.instance.bagModelList;
                        break;
                    case 1:
                        for (var i = 0; i < f.default.instance.bagModelList.length; i++) {
                            (n = f.default.instance.bagModelList[i]) && 1 != n.itemKind && t.push(f.default.instance.bagModelList[i])
                        }
                        break;
                    case 2:
                        for (i = 0; i < f.default.instance.bagModelList.length; i++) {
                            var n;
                            (n = f.default.instance.bagModelList[i]) && 1 == n.itemKind && t.push(f.default.instance.bagModelList[i])
                        }
                    }
                    this.initScrollContent(t, e), this.toggleStatus = e
                }, t.prototype.onAdd = function() {
                    u.BagConfig.getConfigById(f.default.addBagTimes + 1) ? s.default.instance.createView(c.default.gameView.bagAdd) : h.UIHelper.showTip("\u80cc\u5305\u5bb9\u91cf\u5df2\u8fbe\u4e0a\u9650")
                }, t.prototype.onSortBag = function() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    f.default.instance.sortBag(), this.refresh()
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), s.default.instance.closeView(c.default.gameView.equipInfo)
                }, t = o([b], t)
            }(r.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/BagConfig": "BagConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/GuideModel": "GuideModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper",
        "../GameUIView": "GameUIView",
        "../Skill/SkillView": "SkillView",
        "../UserInfoView": "UserInfoView",
        "./BagItem": "BagItem",
        "./ButtomView": "ButtomView"
    }],
    BlessModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "75081DCqiVEBYobgB1FM7fv", "BlessModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./MagicModel"),
            o = e("../config/ShenCiConfig"),
            a = function() {
                function e() {
                    this.blessId = 0, this.blessValue = 0
                }
                return e.getdes = function(e, t) {
                    var i = o.ShenCiConfig.getConfigById(e),
                        a = i.des,
                        s = n.default.formatMagicValue(Number(i.statid), t);
                    return a.replace("[#]", s)
                }, e.proto2ModelList = function(e) {}, e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "../config/ShenCiConfig": "ShenCiConfig",
        "./MagicModel": "MagicModel"
    }],
    BossModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1a57fXF3ZRAYbYY6WZuOMmN", "BossModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/LocalStorage"),
            o = e("../config/MapConfig"),
            a = e("../../engine/Logger"),
            s = e("./RoleInfoModel"),
            r = e("../../engine/EventManager"),
            l = e("./ServerTime"),
            c = function() {
                function e() {}
                return e.init = function() {
                    this.bossModelLocalKey = this.defaultLocalKey + s.default.instance.roleId, this.modelList = [];
                    var t = n.default.getItem(this.bossModelLocalKey);
                    if (t)
                        for (var i = JSON.parse(t), a = 0; a < i.length; a++) {
                            (r = new e).mapId = i[a].mapId, r.monsterId = parseInt(i[a].monsterId), r.reviveTime = i[a].reviveTime, this.modelList[a] = r
                        }
                    else {
                        for (a = 0; a < o.MapConfig.bossMapList.length; a++) {
                            var r = new e,
                                l = o.MapConfig.bossMapList[a];
                            r.mapId = l.mapId, r.monsterId = parseInt(l.boss.monsterid), r.reviveTime = 0, this.modelList[a] = r
                        }
                        this.saveToLocalStorage()
                    }
                }, e.saveToLocalStorage = function() {
                    n.default.setItem(this.bossModelLocalKey, JSON.stringify(this.modelList))
                }, e.getBoss = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.mapId == e)
                            return i
                    }
                }, e.prototype.bossRefresh = function() {
                    this.reviveTime = l.ServerTime.getServerTime() / 1e3 + 60, a.Logger.log("bossRefresh===================", this.reviveTime)
                }, e.prototype.getCanRevive = function() {
                    return this.canRevive
                }, e.prototype.getLeftTime = function() {
                    var e = this.reviveTime - l.ServerTime.getServerTime() / 1e3;
                    return (e = Math.floor(e)) <= 0 && (e = 0), e = Math.ceil(e)
                }, e.proto2BossModelList = function(t) {
                    var i = t.getBossInfoList();
                    l.ServerTime.setServerTime(1e3 * t.getServerTime()), e.modelList = [];
                    for (var n = 0; n < i.length; n++) {
                        var s = i[n];
                        (c = new e).mapId = s.getScene(), c.monsterId = parseInt(s.getType()), c.reviveTime = s.getTime(), l.ServerTime.getServerTime() >= 1e3 * c.reviveTime ? c.canRevive = !0 : c.canRevive = !1, e.modelList.push(c)
                    }
                    for (n = 0; n < o.MapConfig.bossMapList.length; n++) {
                        var c,
                            g = o.MapConfig.bossMapList[n];
                        if (!(c = this.getBoss(g.mapId))) {
                            var f = new e,
                                d = o.MapConfig.bossMapList[n];
                            f.mapId = d.mapId, f.monsterId = parseInt(d.boss.monsterid), f.reviveTime = 0, f.canRevive = !0, e.modelList.push(f)
                        }
                    }
                    e.modelList.sort(function(e, t) {
                        var i = o.MapConfig.getMapConfigByMapId(e.mapId),
                            n = o.MapConfig.getMapConfigByMapId(t.mapId);
                        return i.Lv - n.Lv
                    }), a.Logger.log("bossRefresh===========3333========", e.modelList), r.EventManager.instance.dispatch(e.Event_Boss_Init)
                }, e.modelList = [], e.defaultLocalKey = "bossModelLocalKey", e.bossModelLocalKey = "", e.Event_Boss_Init = "Event_BossInit", e
            }();
        i.BossModel = c, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../config/MapConfig": "MapConfig",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    BusinessModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "6bf999OGDtCy598gPjJ+wEk", "BusinessModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("./ItemInfoModel"),
            a = e("../../engine/EventManager"),
            s = e("../../engine/LocalStorage"),
            r = e("../../engine/RandomUtil"),
            l = e("../../engine/Logger"),
            c = e("../event/CommonEvent"),
            g = e("./ServerTime"),
            f = e("./PrivilegeModel");
        (function(e) {
            e[e.SellTime = 0] = "SellTime", e[e.BagTime = 1] = "BagTime", e[e.BuyTime = 2] = "BuyTime"
        })(i.BusinessTimeType || (i.BusinessTimeType = {}));
        var d = function() {
            return function() {
                this.item_id = "", this.priceIndex = 0, this.item_num = 0, this.shop_item_id = 0, this.shop_item_resource_num = 0, this.index = 0
            }
        }();
        i.BusinessItem = d;
        var h = function() {
            function e() {
                this.tipsTxt1 = "\u4f60\u53ef\u4ee5\u5728\u8001\u738b\u6211\u8fd9\u4e70\u5356\u4e1c\u897f\uff0c\u81f3\u4e8e\u4ef7\u683c\u561b\uff0c\u563f\u563f\u563f..\u4f46\u662f\u81f3\u5c11\u4f60\u4e0d\u7528\u56de\u57ce\u4e00\u8d9f\u4e86\u4e0d\u662f\uff1f\u5c0f\u8001\u5934\u7684\u80cc\u5305\u4e5f\u4e0d\u5927\uff0c\u8fdb\u8d27\u51fa\u8d27\u4e5f\u9700\u8981\u65f6\u95f4\uff0c\u8fd8\u8bf7\u8010\u5fc3\u7b49\u5f85\u54e6\u3002", this.tipsTxt2 = "\u8001\u738b\u7684\u80cc\u5305\u683c\u5b50\u4e0d\u591f\u4e86\uff0c\u5f97\u53bb\u6e05\u7406\u4e0b\u80cc\u5305\u624d\u80fd\u7ee7\u7eed\u6536\u4f60\u7684\u88c5\u5907\u4e86\u3002\u5b9e\u5728\u4e0d\u60f3\u7b49\u7684\u8bdd\uff0c\u53ef\u4ee5\u8bd5\u8bd5[\u7acb\u523b\u6e05\u5305]\u529f\u80fd\uff0c\u6216\u8bb8\u6709\u8d77\u6548\u5462\u3002", this.tipsTxt3 = "\u6e05\u7406\u5b8c\u6bd5\uff0c\u5927\u80c6\u7684\u628a\u4f60\u6253\u5230\u7684\u795e\u5175\u5229\u5668\u5f80\u6211\u8eab\u4e0a\u7838\u5427\uff01", this.tipsTxt4 = "\u8fd9\u4e2a\u4e1c\u897f\u53ef\u662f\u4e2a\u5b9d\u8d1d\uff0c\u771f\u7684\u9001\u7ed9\u6211\u5417\uff1f\u4f60\u771f\u571f\u8c6a\uff01\uff08\u8001\u738b\u5f88\u5f00\u5fc3\uff0c\u88c5\u5907\u66f4\u503c\u94b1\uff09", this.tipsTxt5 = "\u4f60\u7adf\u6562\u62ff\u8fd9\u4e9b\u7834\u70c2\u6765\u7cca\u5f04\u6211\uff01\uff08\u8001\u738b\u5f88\u751f\u6c14\uff0c\u540e\u679c\u5f88\u4e25\u91cd\uff09", this.tipsTxt6 = "\u6211\u8fd9\u91cc\u7684\u836f\u8d35\u662f\u8d35\u4e86\u70b9\uff0c\u4f46\u662f\u4f60\u8bf4\u662f\u94b1\u91cd\u8981\u8fd8\u662f\u547d\u91cd\u8981\uff1f", this.tipsTxt7 = "\u8fd9\u8001\u5934\u602a\u5f97\u5f88\uff0c\u56de\u6536\u88c5\u5907\u7684\u4ef7\u683c\u5168\u51ed\u5fc3\u60c5\uff0c\u4e00\u4f1a\u4e00\u4e2a\u6837\uff0c\u542c\u8bf4\u8001\u5934\u559c\u6b22\u53e4\u8463\uff0c\u8d3f\u8d42\u4e00\u4e0b\u4e5f\u8bb8\u6709\u7528\uff01", this.tipsTxt8 = "\u8001\u738b\u7684\u8d27\u6e90\u6781\u5176\u4e0d\u7a33\u5b9a\uff0c\u7ecf\u5e38\u662f\u6709\u4ec0\u4e48\u5356\u4ec0\u4e48\uff0c\u60f3\u8981\u9ad8\u7ea7\u8d27\u5efa\u8bae\u4f60\u9002\u5f53\u201c\u7763\u4fc3\u201d\u4ed6\u53bb\u627e\u70b9\u597d\u7684\u8d27\u6e90\u3002", this.tipsTxt9 = "\u2018\u7763\u4fc3\u2019\u8001\u738b\u91cd\u65b0\u8fdb\u8d27\u6709\u51e0\u7387\u5237\u65b0\u51fa\u9ad8\u7ea7\u7269\u54c1\uff0c\u4ec0\u4e48\u90fd\u53ef\u80fd\u6709\u54e6\uff01", this.equName = ["\u666e\u901a\u88c5\u5907", "\u4f18\u79c0\u88c5\u5907", "\u7cbe\u826f\u88c5\u5907", "\u53f2\u8bd7\u88c5\u5907", "\u4f20\u5947\u88c5\u5907"], this.timeLocalKeyList = ["BusinessSellTime", "BusinessBagTime", "BusinessBuyTime"], this.buyList = []
            }
            return e.prototype.isRecovePrivilege = function() {
                return f.default.hadRecoveryPrivilege()
            }, e.prototype.getPreTime = function(t) {
                var i = this.timeLocalKeyList[t] + n.default.instance.roleId,
                    o = s.default.getInt(i),
                    a = g.ServerTime.getServerTime();
                return 0 == o || a - o > e.COUNTDOWN_COUNT ? (s.default.setInt(i, a), e.COUNTDOWN_COUNT) : e.COUNTDOWN_COUNT - (a - o)
            }, e.prototype.refreshTime = function(t) {
                var i = this.timeLocalKeyList[t] + n.default.instance.roleId,
                    o = g.ServerTime.getServerTime();
                return s.default.setInt(i, o), e.COUNTDOWN_COUNT
            }, e.prototype.countDownToDate = function(e) {
                var t = Math.floor(e / 1e3),
                    i = Math.floor(t / 60),
                    n = t % 60;
                return (i < 10 ? "0" + i : i) + "\u5206" + (n < 10 ? "0" + n : n) + "\u79d2"
            }, e.prototype.getPreRatio = function() {
                var t = e.LOCAL_KEY.BUSINESS_SELL_RATIO + n.default.instance.roleId,
                    i = s.default.getInt(t);
                return 0 == i ? this.refreshRatio() : i
            }, e.prototype.refreshRatio = function() {
                var t = e.LOCAL_KEY.BUSINESS_SELL_RATIO + n.default.instance.roleId,
                    i = r.default.nextInt(50, 150);
                return s.default.setInt(t, i), i
            }, e.prototype.getRatio = function() {
                var t = this.getPreRatio();
                return this.isRecovePrivilege() ? t * e.PRIVILEGE_SELL_RATIO : t
            }, e.prototype.getUseBagSize = function() {
                var t = e.LOCAL_KEY.BUSINESS_USE_BAG_SIZE + n.default.instance.roleId;
                return s.default.getInt(t)
            }, e.prototype.getLostBagSize = function() {
                return this.getMaxBagSize() - this.getUseBagSize()
            }, e.prototype.getMaxBagSize = function() {
                return e.BASE_BAG_SIZE * (this.isRecovePrivilege() ? e.PRIVILEGE_BAG_RATIO : 1)
            }, e.prototype.updateBagSize = function(t) {
                var i = e.LOCAL_KEY.BUSINESS_USE_BAG_SIZE + n.default.instance.roleId,
                    o = t + this.getUseBagSize();
                s.default.setInt(i, o)
            }, e.prototype.refreshBagSize = function() {
                var t = e.LOCAL_KEY.BUSINESS_USE_BAG_SIZE + n.default.instance.roleId;
                s.default.setInt(t, 0)
            }, e.prototype.getPreShopData = function() {
                return this.buyList
            }, e.prototype.updateShopData = function(e, t) {}, e.prototype.refreshShopData = function() {}, e.prototype.getRurioNums = function() {
                return n.default.instance.getRurioAmount()
            }, e.prototype.subRurioNums = function() {
                o.default.getItem("I3003").useArticle(1)
            }, e.prototype.getIsOwnOccupation = function() {
                var t = e.LOCAL_KEY.BUSINESS_IS_OWN + n.default.instance.roleId;
                return s.default.getBoolean(t)
            }, e.prototype.setIsOwnOccupation = function(t) {
                var i = e.LOCAL_KEY.BUSINESS_IS_OWN + n.default.instance.roleId;
                s.default.setBoolean(i, t)
            }, e.prototype.proto2ModelList = function(e) {
                var t = e.getShopItemListList();
                this.nextRefreshTime = e.getTime(), l.Logger.log("BusinessModel proto2ModelList=", this.nextRefreshTime, t), this.proto2ItemList(t)
            }, e.prototype.proto2ItemList = function(e) {
                this.buyList = [];
                for (var t = 0; t < e.length; t++) {
                    var i = e[t],
                        n = new d;
                    n.shop_item_id = i.getShopItemId(), n.item_id = i.getItemType(), n.item_num = i.getShopItemNum(), n.priceIndex = i.getShopItemResourceType() - 1, n.shop_item_resource_num = i.getShopItemResourceNum(), n.index = i.getIndex(), this.buyList.push(n)
                }
                this.buyList.sort(function(e, t) {
                    return e.index - t.index
                }), l.Logger.log("buyList=====================", this.buyList), a.EventManager.instance.dispatch(c.CommonEvent.Event_req_shop_fresh_info)
            }, e.instance = new e, e.LOCAL_KEY = {
                BUSINESS_SELL_RATIO: "BusinessSellRatio",
                BUSINESS_USE_BAG_SIZE: "BusinessUseBagSize",
                BUSINESS_SHOP_DATA: "BusinessShopData",
                BUSINESS_IS_OWN: "BusinessIsOwn"
            }, e.COUNTDOWN_COUNT = 18e5, e.BASE_BAG_SIZE = 100, e.PRIVILEGE_SELL_RATIO = 2, e.PRIVILEGE_BAG_RATIO = 2, e
        }();
        i.BusinessModel = h, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/RandomUtil": "RandomUtil",
        "../event/CommonEvent": "CommonEvent",
        "./ItemInfoModel": "ItemInfoModel",
        "./PrivilegeModel": "PrivilegeModel",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    BusinessView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "795c3epAbtM5b6Xa0tnQ9bP", "BusinessView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/EventManager"),
            s = e("../../engine/Logger"),
            r = e("../../engine/UIManager"),
            l = e("../../engine/ViewBase"),
            c = e("../config/GameConst"),
            g = e("../config/ShopAllConfig"),
            f = e("../config/ViewConfig"),
            d = e("../model/BusinessModel"),
            h = e("../model/ItemInfoModel"),
            u = e("../model/RoleInfoModel"),
            p = e("../utils/UIHelper"),
            m = e("../config/ColorConfig"),
            C = e("../utils/MusicHelper"),
            v = e("./BuyShopView"),
            _ = e("../network/SocketClient"),
            y = e("../event/CommonEvent"),
            M = e("../config/GameConfig"),
            I = e("../model/ServerTime"),
            b = e("../../engine/ProtoConfig"),
            L = e("../../engine/ProtoUtils"),
            w = e("../sdk/SdkHelper"),
            S = e("../model/PrivilegeModel"),
            E = e("../config/WordConfig"),
            k = e("../miniGameTools/tttool"),
            T = cc._decorator,
            N = T.ccclass,
            R = (T.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.tabList = [], t.sellItemList = [], t.curTabIndex = 0, t.sellTimeText = null, t.bagTimeText = null, t.buyTimeText = null, t.sellCountDown = 0, t.bagCountDown = 0, t.buyCountDown = 0, t.cleanUpBtnNode = null, t.isBagCountdown = !1, t.isBuyCountdownByServer = !1, t.isSellCountDownByServer = !1, t.isBagByServer = !1, t.buyNodeContent = null, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    a.EventManager.instance.on(y.CommonEvent.Event_UserInfoRefresh, this.refreshEquipSellListUI, this), a.EventManager.instance.on(y.CommonEvent.Event_ad_end, this.onAdEnd, this), a.EventManager.instance.on(y.CommonEvent.Event_req_shop_fresh_info, this.onRefreshShopInfo, this), r.default.instance.setTopUI(f.default.gameView.business), this.buyNode = this.node.getChildByName("buyNode"), this.tabList = this.node.getChildByName("selectTab").children, this.sellItemList = this.node.getChildByName("sellNode").children, this.buyNodeContent = this.findChild(this.node, "buyNode/view/content"), this.btn1 = this.node.getChildByName("btn1"), this.btn1.on(cc.Node.EventType.TOUCH_END, this.onClickRefreshSell.bind(this)), this.btn2 = this.node.getChildByName("btn2"), this.btn2.on(cc.Node.EventType.TOUCH_END, this.onClickRefreshBuy.bind(this)), this.sellTips = this.node.getChildByName("sellTips"), this.changePrice1 = this.findChild(this.sellTips, "antiqueLayout/changePrice"), this.buyTips = this.node.getChildByName("buyTips"), this.changePrice2 = this.buyTips.getChildByName("changePrice"), this.tipsTxt1 = this.node.getChildByName("talkFrame").getChildByName("tipsTxt1"), this.tipsTxt2 = this.node.getChildByName("tipTxt2"), this.sellTimeText = this.sellTips.getChildByName("changeTime").getComponent(cc.Label), this.bagTimeText = this.findChild(this.sellTips, "bagTipsNode_1/bagTime").getComponent(cc.Label), this.buyTimeText = this.buyTips.getChildByName("changeTime2").getComponent(cc.Label), this.cleanUpBtnNode = this.findChild(this.sellTips, "bagTipsNode_1/btn_likeqingbao"), this.cleanUpBtnNode1 = this.findChild(this.sellTips, "bagTipsNode_1/btn_likeqingbao_01"), this.cleanUpBtnNode.on(cc.Node.EventType.TOUCH_END, this.onClickRefreshBag.bind(this)), this.cleanUpBtnNode1.on(cc.Node.EventType.TOUCH_END, this.onClickRefreshBag.bind(this)), this.sellNode = this.node.getChildByName("sellNode");
                    for (var e = 0; e < this.sellItemList.length; e++) {
                        this.sellItemList[e].getChildByName("btn_chushou").on(cc.Node.EventType.TOUCH_END, this.onClickSell.bind(this, e))
                    }
                    a.EventManager.instance.on(c.EVENT_NAME.BAG_ADD, this.onEventAddModel, this), a.EventManager.instance.on(c.EVENT_NAME.BAG_CUT, this.onEventCutModel, this), this.isOwn = this.node.getChildByName("isOwn"), this.isOwn.on("toggle", this.onClickToggle, this), this.isOwn.getComponent(cc.Toggle).isChecked = d.BusinessModel.instance.getIsOwnOccupation(), this.refreshTab(), this.refreshRurioNumsUI(), this.refreshSellRatioUI(), this.refreshBagTipsUI(), this.refreshEquipSellListUI(), this.refreshBuyUI(), _.default.req_shop_fresh_info(), _.default.req_reback_info(), M.GameConfig.connectServer || this.startCountdown()
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == b.ProtoConfig.c_req_reback_items) {
                        var i = L.ProtoUtils.DeserializeBinary(b.ProtoConfig.c_req_reback_items, t),
                            n = i.getRestNum();
                        this.rest_num = n;
                        var o = i.getTime(),
                            a = i.getRebacktime();
                        this.bagCountDown = 1e3 * a - I.ServerTime.getServerTime();
                        var r = i.getRate();
                        this.sellCountDown = 1e3 * o - I.ServerTime.getServerTime(), this.nowRadio = r, this.sellCountDown <= 0 && (this.sellCountDown = 0), this.isSellCountDownByServer = !0, this.bagCountDown <= 0 ? this.bagCountDown = 0 : this.isBagCountdown = !0, this.isBagByServer = !0, s.Logger.log("\u5356\u4fe1\u606f\u66f4\u65b0=============", i, this.rest_num, this.bagCountDown, this.sellCountDown, this.nowRadio), this.refreshBagTipsUI(), this.refreshSellRatioUI(), this.resetSell(), this.resetBagSize(), this.resetBuy(), this.refreshEquipSellListUI(), this.isStartTime ? this.nowRadio >= 100 ? this.playTxtMv(this.tipsTxt1.getComponent(cc.Label), d.BusinessModel.instance.tipsTxt4) : this.playTxtMv(this.tipsTxt1.getComponent(cc.Label), d.BusinessModel.instance.tipsTxt5) : (this.startCountdown(), this.isStartTime = !0)
                    }
                }, t.prototype.onRefreshShopInfo = function() {
                    this.isBuyCountdownByServer = !0;
                    var e = I.ServerTime.getServerTime() / 1e3,
                        t = d.BusinessModel.instance.nextRefreshTime - e;
                    t <= 0 && (t = 0), this.buyCountDown = 1e3 * t, s.Logger.log("\u4e70\u4fe1\u606f\u66f4\u65b0===", this.buyCountDown), this.refreshBuyUI(), S.default.hadFreePrivilege() && (this.cleanUpBtnNode1.active = !0, this.cleanUpBtnNode.active = !1)
                }, t.prototype.refreshTab = function() {
                    this.unscheduleAllCallbacks();
                    for (var e = 0; e < this.tabList.length; e++)
                        e == this.curTabIndex ? this.tabList[e].getChildByName("select").active = !0 : this.tabList[e].getChildByName("select").active = !1;
                    0 == this.curTabIndex ? (this.sellNode.active = !0, this.buyNode.active = !1, this.refreshEquipSellListUI(), this.btn1.active = !0, this.btn2.active = !1, this.sellTips.active = !0, this.buyTips.active = !1, this.tipsTxt1.getComponent(cc.Label).string = d.BusinessModel.instance.tipsTxt1, this.tipsTxt2.getComponent(cc.Label).string = d.BusinessModel.instance.tipsTxt7) : (this.sellNode.active = !1, this.buyNode.active = !0, this.btn1.active = !1, this.btn2.active = !0, this.sellTips.active = !1, this.buyTips.active = !0, this.tipsTxt1.getComponent(cc.Label).string = d.BusinessModel.instance.tipsTxt6, this.tipsTxt2.getComponent(cc.Label).string = d.BusinessModel.instance.tipsTxt8)
                }, t.prototype.resetSell = function() {
                    d.BusinessModel.instance.refreshRatio(), M.GameConfig.connectServer || (this.sellCountDown = d.BusinessModel.instance.refreshTime(d.BusinessTimeType.SellTime)), this.refreshCountdown(), this.refreshSellRatioUI(), this.refreshEquipSellListUI()
                }, t.prototype.resetBuy = function() {
                    d.BusinessModel.instance.refreshShopData(), M.GameConfig.connectServer || (this.buyCountDown = d.BusinessModel.instance.refreshTime(d.BusinessTimeType.BuyTime)), this.refreshCountdown(), this.refreshBuyUI()
                }, t.prototype.resetBagSize = function() {
                    d.BusinessModel.instance.refreshBagSize(), M.GameConfig.connectServer || (this.bagCountDown = d.BusinessModel.instance.refreshTime(d.BusinessTimeType.BagTime)), this.refreshCountdown(), this.refreshBagTipsUI(), this.refreshEquipSellListUI()
                }, t.prototype.refreshSellRatioUI = function() {
                    var e = d.BusinessModel.instance.getRatio();
                    M.GameConfig.connectServer && (e = this.nowRadio);
                    var t = this.sellTips.getChildByName("pricePercent").getComponent(cc.Label),
                        i = this.sellTips.getChildByName("up"),
                        n = this.sellTips.getChildByName("down"),
                        o = this.sellTips.getChildByName("godPrivilegeTxt");
                    t.string = e + "%", o.active = d.BusinessModel.instance.isRecovePrivilege(), e >= 100 ? (t.node.color = cc.Color.GREEN, i.active = !0, n.active = !1) : e < 100 ? (t.node.color = cc.Color.RED, i.active = !1, n.active = !0) : (t.node.color = cc.Color.WHITE, i.active = !1, n.active = !1)
                }, t.prototype.refreshEquipSellListUI = function() {
                    for (var e = 0; e < this.sellItemList.length; e++) {
                        var t = u.default.instance.getShowEquip(e, d.BusinessModel.instance.getIsOwnOccupation()),
                            i = Math.floor(t.price * this.nowRadio / 100),
                            n = Math.floor(t.cream * this.nowRadio / 100);
                        this.sellItemList[e].getChildByName("txtName").getComponent(cc.Label).string = d.BusinessModel.instance.equName[e] + ":" + t.count, this.sellItemList[e].getChildByName("txtCoin").getComponent(cc.Label).string = i + "", this.sellItemList[e].getChildByName("txtCream").getComponent(cc.Label).string = n + ""
                    }
                }, t.prototype.refreshBagTipsUI = function() {
                    var e = this.sellTips.getChildByName("bagTipsNode_1"),
                        t = this.sellTips.getChildByName("bagTipsNode_2"),
                        i = d.BusinessModel.instance.getUseBagSize(),
                        n = d.BusinessModel.instance.getMaxBagSize(),
                        o = d.BusinessModel.instance.getLostBagSize();
                    if (M.GameConfig.connectServer && (i = n - (o = this.rest_num)), 0 == i) {
                        e.active = !1, t.active = !0, (a = t.getChildByName("bagNums").getComponent(cc.Label)).string = o + "/" + n
                    } else {
                        e.active = !0, t.active = !1;
                        var a = e.getChildByName("bagNums").getComponent(cc.Label),
                            s = e.getChildByName("maxBagNums").getComponent(cc.Label);
                        a.string = o + "", s.string = "", a.node.color = 0 == o ? cc.Color.RED : cc.Color.GREEN
                    }
                }, t.prototype.refreshBuyUI = function() {
                    for (var e = d.BusinessModel.instance.getPreShopData(), t = this.buyNodeContent.childrenCount - 1; t >= 0; t--) {
                        var i = this.buyNodeContent.children[t];
                        "temporary" == i.name && i.removeFromParent()
                    }
                    var n = this.buyNodeContent.getChildByName("item");
                    n.active = !1;
                    for (var o = 0; o < e.length; o++) {
                        var a = g.ShopAllConfig.getConfig(e[o].item_id);
                        if (a) {
                            var s = cc.instantiate(n);
                            s.name = "temporary", s.parent = this.buyNodeContent, s.active = !0, s.getChildByName("mask").active = 0 == e[o].item_num;
                            var r = m.ColorConfig.getQualityColor(h.default.getConfigById(a.item_id).quality),
                                l = s.getChildByName("name");
                            l.getComponent(cc.Label).string = a.name + "x" + e[o].item_num, l.color = r;
                            var c = e[o].priceIndex;
                            s.getChildByName("price").getComponent(cc.Label).string = 0 == c ? "\u91d1\u5e01:" + e[o].shop_item_resource_num : "\u5143\u5b9d:" + e[o].shop_item_resource_num, s.on(cc.Node.EventType.TOUCH_END, this.onClickOpenBuyPanel.bind(this, o))
                        }
                    }
                }, t.prototype.refreshRurioNumsUI = function() {
                    var e = d.BusinessModel.instance.getRurioNums();
                    this.changePrice1.getComponent(cc.Label).string = e + "", this.changePrice2.getComponent(cc.Label).string = e + "", 0 == e ? (this.changePrice1.color = cc.Color.RED, this.changePrice2.color = cc.Color.RED) : (this.changePrice1.color = cc.Color.GREEN, this.changePrice2.color = cc.Color.GREEN)
                }, t.prototype.startCountdown = function() {
                    var e = this;
                    M.GameConfig.connectServer || (this.sellCountDown = d.BusinessModel.instance.getPreTime(d.BusinessTimeType.SellTime), this.bagCountDown = d.BusinessModel.instance.getPreTime(d.BusinessTimeType.BagTime), this.buyCountDown = d.BusinessModel.instance.getPreTime(d.BusinessTimeType.BuyTime), this.isBuyCountdownByServer = !0, this.isSellCountDownByServer = !0, this.isBagByServer = !0), this.refreshCountdown(), d.BusinessModel.COUNTDOWN_COUNT > this.bagCountDown && (this.isBagCountdown = !0), this.timeId = setInterval(function() {
                        e.isSellCountDownByServer && (e.sellCountDown -= 1e3, e.sellCountDown <= 0 && (M.GameConfig.connectServer ? (e.isSellCountDownByServer = !1, _.default.resh_reback_info(1)) : e.resetSell())), e.isBagByServer && (e.bagCountDown -= 1e3, e.bagCountDown <= 0 && (M.GameConfig.connectServer ? _.default.resh_reback_info(2) : e.resetBagSize())), e.isBuyCountdownByServer && (e.buyCountDown -= 1e3, e.buyCountDown <= 0 && (M.GameConfig.connectServer ? _.default.req_shop_fresh(2) : e.resetBuy())), e.refreshCountdown()
                    }, 1e3)
                }, t.prototype.refreshCountdown = function() {
                    this.sellCountDown <= 0 && (this.sellCountDown = 0), this.buyCountDown <= 0 && (this.buyCountDown = 0), this.bagCountDown <= 0 && (this.bagCountDown = 0), this.sellCountDown >= 0 && (this.sellTimeText.string = d.BusinessModel.instance.countDownToDate(this.sellCountDown)), this.bagCountDown >= 0 && (this.bagTimeText.string = "(\u6e05\u5305\u65f6\u95f4:" + d.BusinessModel.instance.countDownToDate(this.bagCountDown) + "\uff09"), this.buyCountDown >= 0 && (this.buyTimeText.string = d.BusinessModel.instance.countDownToDate(this.buyCountDown))
                }, t.prototype.onAdEnd = function() {
                    this.playTxtMv(this.tipsTxt1.getComponent(cc.Label), d.BusinessModel.instance.tipsTxt3), _.default.resh_reback_info(2, 1)
                }, t.prototype.onClickRefreshBag = function() {
                    C.MusicHelper.play_click(), M.GameConfig.connectServer ? S.default.hadFreePrivilege() ? this.onAdEnd() : M.GameConfig.platform === cc.sys.WECHAT_GAME ? k.tttool.OpenAD() : w.default.sdkAd() : this.resetBagSize()
                }, t.prototype.playTxtMv = function(e, t, i) {
                    void 0 === i && (i = 1), t && t.length > 0 && i < t.length && (e.string = t.substring(0, i), this.unscheduleAllCallbacks(), this.scheduleOnce(this.playTxtMv.bind(this, e, t, i + 1), .002))
                }, t.prototype.onClickRefreshSell = function() {
                    if (C.MusicHelper.play_click(), d.BusinessModel.instance.getRurioNums() <= 0) {
                        var e = {
                            itemId: c.ItemId.ANTIQUE,
                            desc: "     \u53e4\u8463\u4e0d\u591f\uff0c\u8001\u738b\u4e0d\u7406\u4f60\u4e86\uff0c\u8981\u4e0d\u8981\u514d\u8d39\u6765\u4e00\u70b9\u53e4\u8463\uff1f",
                            amount: 3,
                            type: 1
                        };
                        r.default.instance.createView(f.default.gameView.buyItem, null, e)
                    } else
                        M.GameConfig.connectServer ? (w.default.sdkCustomAction(27, 1), _.default.resh_reback_info(1, 1)) : (d.BusinessModel.instance.subRurioNums(), this.refreshRurioNumsUI(), this.resetSell())
                }, t.prototype.onClickRefreshBuy = function() {
                    if (C.MusicHelper.play_click(), d.BusinessModel.instance.getRurioNums() <= 0) {
                        var e = {
                            itemId: c.ItemId.ANTIQUE,
                            desc: "     \u53e4\u8463\u4e0d\u591f\uff0c\u8001\u738b\u4e0d\u7406\u4f60\u4e86\uff0c\u8981\u4e0d\u8981\u514d\u8d39\u6765\u4e00\u70b9\u53e4\u8463\uff1f",
                            amount: 3,
                            type: 2
                        };
                        r.default.instance.createView(f.default.gameView.buyItem, null, e)
                    } else
                        M.GameConfig.connectServer ? (w.default.sdkCustomAction(28, 1), _.default.req_shop_fresh(1)) : (d.BusinessModel.instance.subRurioNums(), this.refreshRurioNumsUI(), this.resetBuy())
                }, t.prototype.onClickSell = function(e) {
                    C.MusicHelper.play_click();
                    var t = u.default.instance.getShowEquip(e, d.BusinessModel.instance.getIsOwnOccupation(), d.BusinessModel.instance.getLostBagSize()),
                        i = t.equipList;
                    if (i.length > 0) {
                        var n = Math.floor(t.price * this.nowRadio / d.BusinessModel.instance.getMaxBagSize()),
                            o = Math.floor(t.cream * this.nowRadio / d.BusinessModel.instance.getMaxBagSize());
                        if (M.GameConfig.connectServer) {
                            if (this.rest_num <= 0)
                                return void E.WordConfig.showWord(60125);
                            for (var a = [], s = 0; s < i.length; s++) {
                                var r = i[s];
                                a.push(parseInt(r.itemId))
                            }
                            w.default.sdkCustomAction(14, n), w.default.sdkCustomAction(23, o), _.default.req_reback_items(a, 2)
                        } else
                            u.default.instance.addCoin(n), u.default.instance.addCream(o), u.default.instance.recoveryEquipList(t.equipList), d.BusinessModel.instance.updateBagSize(t.count), this.isBagCountdown = !0, this.refreshBagTipsUI(), this.refreshEquipSellListUI()
                    } else
                        p.UIHelper.showTip("\u6ca1\u88c5\u5907\u56de\u6536\u54e6!")
                }, t.prototype.onClickTab = function(e, t) {
                    C.MusicHelper.play_click();
                    var i = parseInt(t);
                    this.curTabIndex = i, this.refreshTab()
                }, t.prototype.onClickToggle = function() {
                    C.MusicHelper.play_click(), d.BusinessModel.instance.getIsOwnOccupation() ? (this.isOwn.getComponent(cc.Toggle).uncheck(), d.BusinessModel.instance.setIsOwnOccupation(!1)) : (this.isOwn.getComponent(cc.Toggle).check(), d.BusinessModel.instance.setIsOwnOccupation(!0)), this.refreshEquipSellListUI()
                }, t.prototype.onClickOpenBuyPanel = function(e) {
                    var t = this;
                    C.MusicHelper.play_click();
                    var i = d.BusinessModel.instance.getPreShopData()[e],
                        n = g.ShopAllConfig.getConfig(i.item_id);
                    s.Logger.log("buyItemObj===", i, n), r.default.instance.createView(f.default.gameView.BuyShopView, null, v.default.BuyType.YunYouShangRen, 1, i.item_id, i.shop_item_resource_num, i.shop_item_resource_num, i.priceIndex, i.item_num, function(e, i) {
                        d.BusinessModel.instance.updateShopData(e, i), t.refreshBuyUI()
                    }.bind(this, e), null, i.shop_item_id, i.index)
                }, t.prototype.onEventAddModel = function(e, t) {
                    void 0 === t && (t = 0), e && "I3003" == e.itemType && this.refreshRurioNumsUI()
                }, t.prototype.onEventCutModel = function(e, t) {
                    void 0 === t && (t = 0), e && "I3003" == e.itemType && this.refreshRurioNumsUI()
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), clearInterval(this.timeId)
                }, t = o([N], t)
            }(l.default));
        i.default = R, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ShopAllConfig": "ShopAllConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/BusinessModel": "BusinessModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ServerTime": "ServerTime",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./BuyShopView": "BuyShopView"
    }],
    ButtomView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "29dc5No/ZhISIAJMgGaxbdd", "ButtomView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../utils/MusicHelper"),
            c = e("../../../engine/EventManager"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.currentView = 1, t.curTabIndex = 0, t
                }
                return n(t, e), t.prototype.init = function(e) {
                    this.bagView = e, this.onShow()
                }, t.prototype.onEnable = function() {
                    this.curTabIndex = 0, this.refreshSelect(), this.getChild(this.node, "scrollView/view/content").x = 102.686
                }, t.prototype.onShow = function() {
                    this.view = this.node.parent;
                    for (var e = this.getChild(this.node, "scrollView/view/content"), t = 0; t < e.childrenCount; t++) {
                        var i = e.getChildByName("tabNode" + t);
                        this.onAddEvent(i, this.onToggle.bind(this, t))
                    }
                    this.refreshSelect(), c.EventManager.instance.on("GUIDE_2001", function(e) {
                        this.onToggle(1)
                    }.bind(this), this)
                }, t.prototype.onToggle = function(e) {
                    l.MusicHelper.play_click(), this.curTabIndex = e, this.refreshSelect()
                }, t.prototype.refreshSelect = function() {
                    for (var e = this.getChild(this.node, "scrollView/view/content"), t = 0; t < e.childrenCount; t++) {
                        var i = e.getChildByName("tabNode" + t);
                        if (1 == this.curTabIndex)
                            break;
                        t == this.curTabIndex ? i.getChildByName("checkmark").active = !0 : i.getChildByName("checkmark").active = !1
                    }
                    this.bagView.selectTab(this.curTabIndex)
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), s.default.instance.closeView(r.default.gameView.business), s.default.instance.closeView(r.default.gameView.strengthen)
                }, t = o([f], t)
            }(a.default));
        i.ButtomView = d, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig",
        "../../utils/MusicHelper": "MusicHelper"
    }],
    BuyShopView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "38ce9bfoFFI/JhY/jTxZl+t", "BuyShopView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/MusicHelper"),
            r = e("../config/ITemsConfig"),
            l = e("../model/RoleInfoModel"),
            c = e("../utils/UIHelper"),
            g = e("../model/ItemInfoModel"),
            f = e("../../engine/UIManager"),
            d = e("../config/ViewConfig"),
            h = e("../config/WordConfig"),
            u = e("../config/GameConfig"),
            p = e("../network/SocketClient"),
            m = e("../sdk/SdkHelper"),
            C = e("../config/GameConst"),
            v = e("../model/AdModel"),
            _ = cc._decorator,
            y = _.ccclass,
            M = (_.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.nowBuyNum = 1, t.closeCallFunc = null, t.buyCallFunc = null, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e, t, i, n, o, a, s, r, c, g, f, d) {
                    void 0 === o && (o = 0), void 0 === a && (a = 0), void 0 === s && (s = Number.MAX_VALUE), void 0 === r && (r = null), void 0 === c && (c = null), void 0 === g && (g = 1), void 0 === f && (f = 1), void 0 === d && (d = 1), this.buyType = e, this.itemId = i, this.unit_price = n, this.gem = o, this.priceIndex = a;
                    var h = 0;
                    this.maxNum = s, 0 == this.priceIndex ? h = Math.floor(l.default.instance.getCoin() / n) : 1 == this.priceIndex && (h = Math.floor(l.default.instance.getGold() / n)), this.maxNum = Math.min(s, h), this.maxNum <= 0 && (this.maxNum = 1), this.closeCallFunc = c, this.buyCallFunc = r, this.nowBuyNum = t, this.shop_item_id = g, this.shopIndex = f, this.groupNum = d
                }, t.prototype.onShow = function() {
                    f.default.instance.setTopUI(d.default.gameView.BuyShopView), this.findChild(this.node, "btnClose").on(cc.Node.EventType.TOUCH_END, this.onClickClose.bind(this)), this.findChild(this.node, "btnDec").on(cc.Node.EventType.TOUCH_END, this.onCLickPre.bind(this)), this.findChild(this.node, "btnAdd").on(cc.Node.EventType.TOUCH_END, this.onClickNext.bind(this)), this.findChild(this.node, "btnMax").on(cc.Node.EventType.TOUCH_END, this.onClickMax.bind(this)), this.findChild(this.node, "btnBuy").on(cc.Node.EventType.TOUCH_END, this.onCLickBuy.bind(this));
                    var e = r.ITemsConfig.getITemsConfigById(this.itemId);
                    this.config = e, this.node.getChildByName("ItemPrefab").getComponent("ItemPrefab").init(e), this.node.getChildByName("txtDesc").getComponent(cc.RichText).string = e.description, this.node.getChildByName("txtLevel").getComponent(cc.Label).string = e.level + "", this.node.getChildByName("txtLevel").color = e.level > l.default.instance.level ? cc.Color.RED : cc.Color.GREEN, this.costNode = this.findChild(this.node, "costNode"), this.iconCoin = this.costNode.getChildByName("iconCoin"), this.iconGold = this.costNode.getChildByName("iconGold"), this.txtCoin = this.getChild(this.costNode, "txtCoin", cc.Label), this.txtPriceType = this.getChild(this.node, "txtPriceType", cc.Label), this.amountEditBox = this.getChild(this.node, "amountEditBox", cc.EditBox), this.amountEditBox.node.on("text-changed", this.onTextChange, this), this.refreBuy()
                }, t.prototype.onHide = function() {}, t.prototype.onTextChange = function() {
                    this.nowBuyNum = parseInt(this.amountEditBox.string), this.refreBuy()
                }, t.prototype.refreBuy = function() {
                    0 == this.priceIndex ? (this.iconGold.active = !1, this.iconCoin.active = !0, this.txtPriceType.string = "\u91d1\u5e01\u6d88\u8017:", this.amountEditBox.string = this.nowBuyNum + "", this.txtCoin.string = this.nowBuyNum * this.unit_price + "", this.txtCoin.node.color = this.nowBuyNum * this.unit_price > l.default.instance.getCoin() ? cc.Color.RED : cc.Color.GREEN, this.costNode.getChildByName("")) : 1 == this.priceIndex && (this.iconGold.active = !0, this.iconCoin.active = !1, this.txtPriceType.string = "\u5143\u5b9d\u6d88\u8017:", this.amountEditBox.string = this.nowBuyNum + "", this.txtCoin.string = this.nowBuyNum * this.gem + "", this.txtCoin.node.color = this.nowBuyNum * this.gem > l.default.instance.getGold() ? cc.Color.RED : cc.Color.GREEN), this.node.getChildByName("ItemPrefab").getChildByName("numTxt").active = !0, this.node.getChildByName("ItemPrefab").getChildByName("numTxt").getComponent(cc.Label).string = this.groupNum * this.nowBuyNum + ""
                }, t.prototype.onClickMax = function() {
                    if (s.MusicHelper.play_click(), 0 == this.priceIndex) {
                        var e = Math.floor(l.default.instance.getCoin() / this.unit_price);
                        this.nowBuyNum = this.maxNum < e ? this.maxNum : e
                    } else if (1 == this.priceIndex) {
                        e = Math.floor(l.default.instance.getGold() / this.gem);
                        this.nowBuyNum = this.maxNum < e ? this.maxNum : e
                    }
                    this.refreBuy()
                }, t.prototype.onClickNext = function() {
                    s.MusicHelper.play_click();
                    var e = this.nowBuyNum + 1;
                    0 == this.priceIndex ? l.default.instance.getCoin() >= e * this.unit_price && e <= this.maxNum && (this.nowBuyNum++, this.refreBuy()) : 1 == this.priceIndex && l.default.instance.getGold() >= e * this.gem && e <= this.maxNum && (this.nowBuyNum++, this.refreBuy())
                }, t.prototype.onCLickPre = function() {
                    s.MusicHelper.play_click(), this.nowBuyNum > 1 && (this.nowBuyNum--, this.refreBuy())
                }, t.prototype.onCLickBuy = function() {
                    s.MusicHelper.play_click(), l.default.instance.getAddItemMaxNum(g.AddItemParamStruct.create(l.default.instance, this.config.kind, this.config.id, this.nowBuyNum, this.config.quality, !0)) < this.nowBuyNum ? h.WordConfig.showWord(60001) : this.nowBuyNum > 0 && (0 == this.priceIndex ? l.default.instance.getCoin() >= this.nowBuyNum * this.unit_price ? (u.GameConfig.connectServer && ("ordinaryHp" != this.config.position && "ordinaryMp" != this.config.position && "seniorHp" != this.config.position && "seniorMp" != this.config.position || m.default.sdkCustomAction(19, this.nowBuyNum * this.unit_price), this.itemId == C.ItemId.REFINE ? (m.default.sdkCustomAction(20, this.nowBuyNum * this.unit_price), m.default.sdkCustomAction(30, this.nowBuyNum)) : this.itemId == C.ItemId.Book ? m.default.sdkCustomAction(21, this.nowBuyNum * this.unit_price) : this.itemId == C.ItemId.SkillDan && (m.default.sdkCustomAction(22, this.nowBuyNum * this.unit_price), m.default.sdkCustomAction(36, this.nowBuyNum)), this.buyType == i.BuyType.FangShi ? p.default.s_seq_fangbuy(this.shop_item_id, this.nowBuyNum) : p.default.req_buy(this.buyType, this.shop_item_id, this.nowBuyNum, this.priceIndex + 1, this.shopIndex, this.itemId)), this.onSureBuy()) : (this.closeView(), u.GameConfig.platform === cc.sys.WECHAT_GAME ? v.default.getAdLostTimes(v.Ad_Type.Coin) > 0 ? f.default.instance.createView(d.default.gameView.buyMoney) : c.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : c.UIHelper.showCoinNoEnough()) : 1 == this.priceIndex && (l.default.instance.getGold() >= this.nowBuyNum * this.gem ? (u.GameConfig.connectServer && (this.itemId == C.ItemId.REFINE && m.default.sdkCustomAction(29, this.nowBuyNum), this.buyType == i.BuyType.FangShi ? p.default.s_seq_fangbuy(this.shop_item_id, this.nowBuyNum) : p.default.req_buy(this.buyType, this.shop_item_id, this.nowBuyNum, this.priceIndex + 1, this.shopIndex, this.itemId)), this.onSureBuy()) : h.WordConfig.showWord(60115)))
                }, t.prototype.onSureBuy = function() {
                    0 == this.priceIndex ? (u.GameConfig.connectServer, this.buyCallFunc && this.buyCallFunc(this.nowBuyNum), this.onClose()) : 1 == this.priceIndex && (u.GameConfig.connectServer, this.buyCallFunc && this.buyCallFunc(this.nowBuyNum), this.onClose())
                }, t.prototype.onClickClose = function() {
                    s.MusicHelper.play_click(), this.onClose()
                }, t.prototype.onClose = function() {
                    this.closeCallFunc && this.closeCallFunc(), this.closeView()
                }, t.prototype.update = function() {
                    this.nowBuyNum = parseInt(this.amountEditBox.string), (isNaN(this.nowBuyNum) || this.nowBuyNum <= 0) && (this.nowBuyNum = 1, this.amountEditBox.string = this.nowBuyNum + "", this.refreBuy()), this.nowBuyNum >= this.maxNum && (this.nowBuyNum = this.maxNum, this.amountEditBox.string = this.nowBuyNum + "", this.refreBuy())
                }, t.BuyType = {
                    YunYouShangRen: 1,
                    YaoDian: 2,
                    KuaiJieGouMai: 3,
                    FangShi: 4
                }, t = i = o([y], t)
            }(a.default));
        i.default = M, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../model/AdModel": "AdModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    ChangeWorldGiftView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "8611bLV6tlOlKSS5uyUIjKj", "ChangeWorldGiftView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/UIManager"),
            r = e("../config/ViewConfig"),
            l = e("../config/GameConfig"),
            c = e("../network/SocketClient"),
            g = e("../model/RoleInfoModel"),
            f = cc._decorator,
            d = f.ccclass,
            h = (f.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    s.default.instance.setTopUI(r.default.gameView.ChangeWorldGiftView), this.addEvent()
                }, t.prototype.addEvent = function() {
                    this.onAddEvent(this.findChild(this.node, "btnClose"), this.onClickClose.bind(this)), this.onAddEvent(this.findChild(this.node, "btn_qhsj"), this.onClickChangeWorld.bind(this))
                }, t.prototype.onClickChangeWorld = function() {
                    g.default.instance.switchingMapId = 1001, l.GameConfig.connectServer ? c.default.req_switch_map(1001) : g.default.instance.switchMap(!1)
                }, t.prototype.onClickClose = function() {
                    s.default.instance.closeView(r.default.gameView.ChangeWorldGiftView)
                }, t = o([d], t)
            }(a.default));
        i.default = h, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient"
    }],
    ChargeActivityModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "aaa94d7IddKEYTPxH6x4myL", "ChargeActivityModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/EventManager"),
            o = e("../event/CommonEvent"),
            a = e("../../engine/Logger"),
            s = e("../config/ChongZhiConfig"),
            r = e("./ServerTime"),
            l = function() {
                function e() {
                    this.num = 0, this.gift_id = 0, this.time = 0
                }
                return e.getCoinChargeModel = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.ChargetType.Coin)
                            return i
                    }
                }, e.getShuYeModel = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.ChargetType.ShuYe)
                            return i
                    }
                }, e.getXiLianShiModel = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.ChargetType.XiLianShi)
                            return i
                    }
                }, e.getCoinTimes = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.ChargetType.Coin)
                            return i.num
                    }
                    return 0
                }, e.getCanSActivityCharge = function() {
                    for (var e = 0; e < this.modelList.length; e++) {
                        var t = this.modelList[e];
                        if (t && t.gift_id > 0)
                            return !0
                    }
                }, e.getShuYeLeftTime = function() {
                    var e = this.getShuYeModel();
                    if (!e || e.gift_id <= 0)
                        return 0;
                    var t = (e.time + 108e5 - r.ServerTime.getServerTime()) / 1e3;
                    return t <= 0 && (t = 0), t
                }, e.getXiLianShiLeftTime = function() {
                    var e = this.getXiLianShiModel();
                    if (!e || e.gift_id <= 0)
                        return 0;
                    var t = (e.time + 108e5 - r.ServerTime.getServerTime()) / 1e3;
                    return t <= 0 && (t = 0), t
                }, e.getCoinLeftTime = function() {
                    var e = this.getCoinChargeModel();
                    if (!e || e.gift_id <= 0)
                        return 0;
                    var t = e.gift_id + 201 - 1,
                        i = s.ChongZhiConfig.getConfigById(t),
                        n = (e.time + 1e3 * i.time - r.ServerTime.getServerTime()) / 1e3;
                    return n <= 0 && (n = 0), n
                }, e.proto2ModelList = function(t) {
                    e.total_charge_num = t.getTotalChargeNum();
                    var i = t.getGiftInfoList();
                    this.modelList = [];
                    for (var s = 0; s < i.length; s++) {
                        var r = new e;
                        r.type = i[s].getType(), r.num = i[s].getNum(), r.gift_id = i[s].getGiftId(), r.time = 1e3 * i[s].getTime(), r.is_out_time = i[s].getIsOutTime(), this.modelList.push(r)
                    }
                    this.buy_coin_num = t.getBuyCoinNum(), this.buy_item_num = t.getBuyItemNum(), a.Logger.log("ChargeActivityModel=", t, JSON.stringify(this.modelList), this.total_charge_num), n.EventManager.instance.dispatch(o.CommonEvent.Event_ChargeActivity)
                }, e.ChargetType = {
                    Coin: 1,
                    XiLianShi: 2,
                    ShuYe: 3
                }, e.GiftId = {
                    Coin_1: 1,
                    Coin_2: 2,
                    Coin_3: 3,
                    XiLianShi: 4,
                    ShuYe: 5
                }, e.buy_coin_num = 0, e.buy_item_num = 0, e.modelList = [], e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/ChongZhiConfig": "ChongZhiConfig",
        "../event/CommonEvent": "CommonEvent",
        "./ServerTime": "ServerTime"
    }],
    ChargeSucView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f5006D3B8ZAt7VRPwZgpBTq", "ChargeSucView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/MusicHelper"),
            r = e("../config/ChongZhiConfig"),
            l = e("../../engine/Logger"),
            c = e("../../engine/UIManager"),
            g = e("../config/ViewConfig"),
            f = e("../config/FangShopConfig"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e, t) {
                    this.chargeId = e, this.diamond = t, this.config = r.ChongZhiConfig.getConfigById(e), l.Logger.log("ChargeSucView=", this.config)
                }, t.prototype.onShow = function() {
                    var e = this;
                    c.default.instance.setTopUI(g.default.gameView.ChargeSucView);
                    var t = r.ChongZhiConfig.getConfigById(this.chargeId);
                    this.node.getChildByName("btnSure").on(cc.Node.EventType.TOUCH_END, function() {
                        if (s.MusicHelper.play_click(), e.closeView(), 601 == e.chargeId || 602 == e.chargeId || 603 == e.chargeId) {
                            var t = f.default.getConfigByCharge(e.chargeId).shopId;
                            c.default.instance.createView(g.default.gameView.ZhenBaoDes, null, t)
                        }
                    });
                    var i = this.node.getChildByName("txtDesc").getComponent(cc.Label);
                    2 == this.chargeId ? i.string = "\u56de\u6536\u7279\u6743\u6301\u7eed\u65f6\u95f4+30\u5929" : 3 == this.chargeId ? i.string = "\u6218\u795e\u7279\u6743\u6301\u7eed\u65f6\u95f4+30\u5929" : 4 == this.chargeId ? i.string = "\u56de\u6536\u7279\u6743\u6301\u7eed\u65f6\u95f4+90\u5929" : 5 == this.chargeId ? i.string = "\u6218\u795e\u7279\u6743\u6301\u7eed\u65f6\u95f4+90\u5929" : 6 == this.chargeId ? i.string = "\u56de\u6536\u7279\u6743\u6301\u7eed\u65f6\u95f4+90\u5929\n\u6218\u795e\u7279\u6743\u6301\u7eed\u65f6\u95f4+90\u5929" : 601 == this.chargeId || 602 == this.chargeId || 603 == this.chargeId ? i.string = "\u6210\u529f\u8d2d\u4e70" + t.des : i.string = "\u5145\u503c\u6210\u529f\n\u5143\u5b9d+" + this.diamond
                }, t = o([h], t)
            }(a.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ChongZhiConfig": "ChongZhiConfig",
        "../config/FangShopConfig": "FangShopConfig",
        "../config/ViewConfig": "ViewConfig",
        "../utils/MusicHelper": "MusicHelper"
    }],
    ChatModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "66e42l05ndPGLujZf9I1Ogs", "ChatModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n,
            o = e("../../engine/EventManager"),
            a = e("../event/CommonEvent");
        (function(e) {
            e[e.monsterRefresh = 0] = "monsterRefresh", e[e.monsterDead = 1] = "monsterDead", e[e.useGoods = 2] = "useGoods", e[e.roleDead = 3] = "roleDead", e[e.bagFull = 4] = "bagFull"
        })(n = i.ChatType || (i.ChatType = {}));
        var s = function() {
            function e() {}
            return e.reInit = function() {
                this.modelList = []
            }, e.addChatStr = function(t, i) {
                var n = new e;
                n.chatType = t, n.showStr = i, this.modelList.push(n), this.modelList.length > this.maxChatNum && this.modelList.shift(), o.EventManager.instance.dispatch(a.CommonEvent.Event_addChat, n)
            }, e.addChat = function(t, i, s, r, l, c) {
                void 0 === i && (i = null), void 0 === s && (s = null), void 0 === r && (r = 0), void 0 === l && (l = -1), void 0 === c && (c = null);
                var g = new e;
                g.chatType = t, t == n.monsterRefresh ? (g.AAA = i, g.showStr = i + "\u602a\u7269\u5237\u65b0\u4e86\uff01") : t == n.monsterDead ? (g.AAA = i, g.BBB = s, g.CCC = r, g.DDD = l, g.EEE = c, g.showStr = i + "\u6740\u6b7b" + s + "\uff0c\u83b7\u5f97\u7ecf\u9a8c" + r + "\uff0c\u83b7\u5f97\u91d1\u5e01" + l + "\uff0c\u83b7\u5f97\u88c5\u5907" + c + "\uff0cFFF") : t == n.useGoods ? (g.AAA = i, g.BBB = s, g.showStr = i + "\u559d\u4e0b\u4e86" + s + "\u3011") : t == n.roleDead && (g.AAA = i, g.showStr = i + "\u529b\u6218\u4e0d\u652f\uff0c\u88ab\u51f6\u6b8b\u7684\u602a\u7269\u51fb\u8d25......\uff08\u6218\u8d25\u540e\u56de\u590d\u6d3b\u5230\u6700\u8fd1\u7684\u636e\u70b9\uff09"), this.modelList.push(g), this.modelList.length > this.maxChatNum && this.modelList.shift(), o.EventManager.instance.dispatch(a.CommonEvent.Event_addChat, g)
            }, e.addBagFull = function() {
                e.addChatStr(n.bagFull, "<color=#ff0000>\u60a8\u7684\u80cc\u5305\u5df2\u6ee1,\u65e0\u6cd5\u83b7\u5f97\u7269\u54c1!</color>")
            }, e.modelList = [], e.maxChatNum = 20, e
        }();
        i.ChatModel = s, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../event/CommonEvent": "CommonEvent"
    }],
    ChatPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c8da0I2vddABYhYTdQBeWKn", "ChatPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../model/ChatModel"),
            s = e("../config/ColorConfig"),
            r = e("../../engine/EventManager"),
            l = e("../event/CommonEvent"),
            c = e("../model/BossModel"),
            g = e("../config/MonsterConfig"),
            f = e("../config/MapConfig"),
            d = e("../../engine/DateUtil"),
            h = e("../model/RoleInfoModel"),
            u = e("../utils/UIHelper"),
            p = e("../../engine/UIManager"),
            m = e("../config/ViewConfig"),
            C = e("../../engine/Logger"),
            v = e("../model/PrivilegeModel"),
            _ = e("../utils/MusicHelper"),
            y = e("./GameManager"),
            M = e("../config/GameConfig"),
            I = e("../miniGameTools/tttool"),
            b = e("../../engine/ViewBase"),
            L = e("../model/ZoneModel"),
            w = e("../model/SpiritsModel"),
            S = e("../model/ShenBinSkillModel"),
            E = cc._decorator,
            k = E.ccclass,
            T = E.property,
            N = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.item = null, t.chatItemNodeList = [], t.bossNode = null, t.msgNode = null, t.bossPrefabItem = null, t.bossList = [], t.itemPool = new cc.NodePool, t.timeOut = 0, t.recorderTime = 0, t.isRecorder = !1, t.startTime = 0, t.worldId = 0, t.lastVla = 0, t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this);
                    for (var t = 0; t < a.ChatModel.maxChatNum + 1; t++)
                        this.itemPool.put(cc.instantiate(this.item));
                    if (this.chatScrollView = this.findChild(this.node, "msg").getComponent(cc.ScrollView), this.chatContainer = this.findChild(this.node, "msg/view/content"), this.chatContainer.removeAllChildren(), this.msgNode = this.findChild(this.node, "msg"), this.btnGoDown = this.findChild(this.msgNode, "btnGoDown"), this.btnGoDown.active = !1, this.btnGoDown.on(cc.Node.EventType.TOUCH_END, this.onClickGoDown.bind(this)), this.recorder = this.msgNode.getChildByName("recorder"), this.recorder && (M.GameConfig.platform === cc.sys.WECHAT_GAME ? (this.recorder.active = !0, this.btnStart = this.findChild(this.recorder, "btn_start"), this.btnIng = this.findChild(this.recorder, "btn_ing"), this.btnShare = this.findChild(this.recorder, "btn_share"), this.btnStart.on(cc.Node.EventType.TOUCH_END, this.onClickStart.bind(this)), this.btnIng.on(cc.Node.EventType.TOUCH_END, this.onClickStop.bind(this)), this.btnShare.on(cc.Node.EventType.TOUCH_END, this.onClickShare.bind(this)), this.pointAni = this.findChild(this.node, "msg/recorder/btn_ing/pointAni").getComponent(cc.Label)) : this.recorder.active = !1), this.node.getChildByName("table_0")) {
                        this.sysbtn = this.findChild(this.node, "table_0/select"), this.boosBtn = this.findChild(this.node, "table_1/select"), this.bossNode = this.findChild(this.node, "bossNode"), this.bossPrefabItem = this.findChild(this.node, "bossNode/scrollView/view/content/item"), this.bossPrefabItem.active = !1, this.node.getChildByName("table_0").on(cc.Node.EventType.TOUCH_END, this.onClickChat.bind(this)), this.node.getChildByName("table_1").on(cc.Node.EventType.TOUCH_END, this.onClickBoss.bind(this));
                        var i = this.findChild(this.node, "bossNode/btnIntro");
                        i && i.on(cc.Node.EventType.TOUCH_END, this.onClickIntroduce.bind(this)), 100009 == L.ZoneModel.nowZoneInfoModel.unique_id ? i.active = !1 : i.active = !0, this.onSysChat()
                    }
                    this.initChatMsg()
                }, t.prototype.onEnable = function() {
                    this.unscheduleAllCallbacks(), r.EventManager.instance.on(l.CommonEvent.Event_addChat, this.onChatMsg, this)
                }, t.prototype.update = function() {
                    this.timeOut++, this.timeOut >= cc.game.getFrameRate() && (this.timeOut = 0, this.bossPrefabItem && this.bossNode && this.bossNode.active && this.refreshBoss()), this.isRecorder && (this.recorderTime++, this.recorderTime % 10 == 0 && this.onAnim())
                }, t.prototype.start = function() {
                    this.msgNode.getComponent(cc.ScrollView).scrollToBottom()
                }, t.prototype.getItermFromPool = function() {
                    return this.itemPool.size() > 0 ? this.itemPool.get() : cc.instantiate(this.item)
                }, t.prototype.release2Pool = function(e) {
                    this.itemPool.put(e)
                }, t.prototype.onClickChat = function() {
                    _.MusicHelper.play_click(), this.onSysChat()
                }, t.prototype.onClickBoss = function() {
                    _.MusicHelper.play_click(), this.onBoosChat()
                }, t.prototype.onSysChat = function() {
                    this.unscheduleAllCallbacks(), this.sysbtn.active = !0, this.boosBtn.active = !1, this.bossNode.active = !1, this.msgNode.active = !0
                }, t.prototype.onBoosChat = function() {
                    this.btnGoDown.active = !1, this.sysbtn.active = !1, this.boosBtn.active = !0, this.msgNode.active = !0, this.bossNode.active = !0, this.unscheduleAllCallbacks(), this.refreshBoss()
                }, t.prototype.refreshBoss = function() {
                    if (this.bossList.length > 0)
                        for (var e = 0; e < this.bossList.length; e++) {
                            var t = this.bossList[e],
                                i = (a = c.BossModel.modelList[e]).getLeftTime();
                            f.MapConfig.curMapConfig.world == f.MapConfig.getMapConfigByMapId(a.mapId).world ? t.active = !0 : t.active = !1, t.getChildByName("txtTime").getComponent(cc.Label).string = i <= 0 ? "\u5df2\u5237\u65b0" : d.default.formatLeftTime2(1e3 * i);
                            var n = f.MapConfig.getMapConfigByMapId(a.mapId),
                                o = g.MonsterConfig.getMonsterConfigById(a.monsterId);
                            t.getChildByName("txtName").getComponent(cc.Label).string = o.name, t.getChildByName("txtMap").getComponent(cc.Label).string = n.name, t.getChildByName("txtFight").getComponent(cc.Label).string = n.Lv + "", this.onAddEvent(t.getChildByName("btnSwitch"), this.onGoMap.bind(this, a, o)), S.default.hasOpen(100001) && M.GameConfig.platform != cc.sys.WECHAT_GAME && i <= 0 ? t.getChildByName("btnKill").active = !0 : t.getChildByName("btnKill").active = !1
                        }
                    else {
                        (t = cc.instantiate(this.bossPrefabItem)).active = !0, t.parent = this.bossPrefabItem.parent, t.getChildByName("txtName").getComponent(cc.Label).string = "--", t.getChildByName("txtMap").getComponent(cc.Label).string = "\u94f6\u674f\u6751", t.getChildByName("txtFight").getComponent(cc.Label).string = "--", t.getChildByName("txtTime").getComponent(cc.Label).string = "--", t.getChildByName("btnKill").active = !1, M.GameConfig.platform === cc.sys.WECHAT_GAME && (t.getChildByName("btnSwitch").active = !1), C.Logger.log("\u521d\u59cb\u5316=========", t), this.onAddEvent(t.getChildByName("btnSwitch"), this.onGoMap.bind(this));
                        for (e = 0; e < c.BossModel.modelList.length; e++) {
                            var a = c.BossModel.modelList[e],
                                s = (o = g.MonsterConfig.getMonsterConfigById(a.monsterId), cc.instantiate(this.bossPrefabItem));
                            f.MapConfig.curMapConfig.world == f.MapConfig.getMapConfigByMapId(a.mapId).world ? s.active = !0 : s.active = !1, s.parent = this.bossPrefabItem.parent;
                            n = f.MapConfig.getMapConfigByMapId(a.mapId);
                            s.getChildByName("txtName").getComponent(cc.Label).string = o.name, s.getChildByName("txtMap").getComponent(cc.Label).string = n.name, s.getChildByName("txtFight").getComponent(cc.Label).string = n.Lv + "";
                            i = a.getLeftTime();
                            s.getChildByName("txtTime").getComponent(cc.Label).string = i <= 0 ? "\u5df2\u5237\u65b0" : d.default.formatLeftTime2(1e3 * i), S.default.hasOpen(100001) && M.GameConfig.platform != cc.sys.WECHAT_GAME ? s.getChildByName("btnKill").active = !0 : s.getChildByName("btnKill").active = !1, M.GameConfig.platform === cc.sys.WECHAT_GAME && (s.getChildByName("btnSwitch").active = !1), this.onAddEvent(s.getChildByName("btnSwitch"), this.onGoMap.bind(this, a, o)), this.onAddEvent(s.getChildByName("btnKill"), this.killBoss.bind(this, a, o)), this.bossList.push(s)
                        }
                    }
                }, t.prototype.killBoss = function(e) {
                    C.Logger.log("\u79d2\u6740boss====", e);
                    var t = g.MonsterConfig.getMonsterConfigById(e.monsterId),
                        i = f.MapConfig.getMapConfigByMapId(e.mapId);
                    if (e.getLeftTime() > 0)
                        u.UIHelper.showTip("\u602a\u7269\u8fd8\u672a\u5237\u65b0");
                    else {
                        var n = "\u79d2\u6740<color=" + s.ColorConfig.getQualityHexColor(4) + ">\u3010" + t.name + "\u3011</color>";
                        n += "\u9700\u8981<color=" + s.ColorConfig.GreenHexColor + ">" + i.kill_soul + "</color>";
                        n += "\u9b42\u9b44\uff08\u5f53\u524d\u9b42\u9b44\uff1a<color=" + (w.default.model.spirits >= w.default.model.max_spirits ? s.ColorConfig.RedHexColor : "#ffffff") + ">" + w.default.model.spirits + "/" + w.default.model.max_spirits + ")\uff0c\u662f\u5426\u76f4\u63a5\u79d2\u6740\u83b7\u53d6Boss\u5956\u52b1\uff1f", p.default.instance.createView(m.default.gameView.KillBossTip, null, 0, n, e)
                    }
                }, t.prototype.onGoMap = function(e, t) {
                    var i;
                    _.MusicHelper.play_click(), null == e || null == t ? 1 == f.MapConfig.curMapConfig.world ? i = f.MapConfig.getMapConfigByMapId(1) : 2 == f.MapConfig.curMapConfig.world && (i = f.MapConfig.getMapConfigByMapId(1001)) : i = f.MapConfig.getMapConfigByMapId(e.mapId), y.default.instance.gameView && y.default.instance.gameView.myRolePrefab && y.default.instance.gameView.myRolePrefab.isDead || (i.mapId != h.default.instance.mapId ? M.GameConfig.environment != M.EnvironmentType.Online || v.default.hadFightGodPrivilege() ? (C.Logger.log("onGoMap================", e, i, i.mapId), h.default.instance.switchMap(!0, i.mapId)) : p.default.instance.createView(m.default.gameView.NoBossPrivilege) : u.UIHelper.showTip("\u5df2\u5728\u5f53\u524d\u5730\u56fe!"))
                }, t.prototype.initChatMsg = function() {
                    this.delayInitOne(0)
                }, t.prototype.delayInitOne = function(e) {
                    var t = this;
                    e < a.ChatModel.modelList.length && (this.initOneChatMsg(a.ChatModel.modelList[e]), this.scheduleOnce(function() {
                        t.delayInitOne(e + 1)
                    }, .05))
                }, t.prototype.initOneChatMsg = function(e) {
                    if (e) {
                        var t = this.getItermFromPool();
                        this.chatContainer.addChild(t), t.active = !0, e.chatType == a.ChatType.monsterRefresh ? t.getComponent(cc.RichText).string = "\u602a\u7269\u5237\u65b0\u4e86\uff01" : e.chatType == a.ChatType.monsterDead ? t.getComponent(cc.RichText).string = e.showStr : e.chatType == a.ChatType.useGoods ? t.getComponent(cc.RichText).string = "<color=" + s.ColorConfig.GreenHexColor + ">" + e.AAA + "</color>\u559d\u4e0b\u4e86" + e.BBB : e.chatType == a.ChatType.roleDead ? t.getComponent(cc.RichText).string = "<color=" + s.ColorConfig.GreenHexColor + ">" + e.AAA + "</color>\u529b\u6218\u4e0d\u652f\uff0c\u88ab\u51f6\u6b8b\u7684\u602a\u7269\u51fb\u8d25......\uff08\u6218\u8d25\u540e\u56de\u590d\u6d3b\u5230\u6700\u8fd1\u7684\u636e\u70b9\uff09" : e.chatType == a.ChatType.bagFull ? t.getComponent(cc.RichText).string = e.showStr : (t.getComponent(cc.RichText).string = "\u7a7a", C.Logger.log("chatModel============", e)), this.chatItemNodeList.push(t);
                        var i = this.msgNode.getComponent(cc.ScrollView);
                        if (i.getScrollOffset().y + 20 >= i.getMaxScrollOffset().y) {
                            for (; this.chatItemNodeList.length > a.ChatModel.maxChatNum;) {
                                var n = this.chatItemNodeList.shift();
                                this.release2Pool(n)
                            }
                            i.scrollToBottom()
                        } else if (this.chatItemNodeList.length > 2 * a.ChatModel.maxChatNum) {
                            n = this.chatItemNodeList.shift();
                            this.release2Pool(n)
                        }
                        this.chatItemNodeList.length >= 5 && this.chatItemNodeList.length <= 6 && i.scrollToBottom(), this.chatContainer.height >= this.msgNode.height && (this.isGotoChat || (this.isGotoChat = !0, i.scrollToBottom()), this.chatScrollView.getScrollOffset().y + 20 >= this.chatScrollView.getMaxScrollOffset().y ? i.scrollToBottom() : this.btnGoDown.active || (this.btnGoDown.active = !0))
                    }
                }, t.prototype.onClickGoDown = function() {
                    _.MusicHelper.play_click(), this.btnGoDown.active = !1, this.msgNode.getComponent(cc.ScrollView).stopAutoScroll(), this.msgNode.getComponent(cc.ScrollView).scrollToBottom()
                }, t.prototype.onClickIntroduce = function() {
                    _.MusicHelper.play_click(), p.default.instance.createView(m.default.gameView.BossDropIntroduce)
                }, t.prototype.onClickStart = function() {
                    console.log("\u5f00\u59cb\u5f55\u5c4f"), this.startTime = Date.now(), this.isRecorder = !0, this.btnStart.active = !1, this.btnIng.active = !0, I.tttool.startRecorder()
                }, t.prototype.onClickStop = function() {
                    console.log("\u505c\u6b62\u5f55\u5c4f"), Date.now() - this.startTime < 3500 ? u.UIHelper.showTip("\u5f55\u5c4f\u65f6\u95f4\u4e0d\u53ef\u5c0f\u4e8e3s") : (this.recorderTime = 0, this.isRecorder = !1, this.btnStart.active = !0, this.btnIng.active = !1, I.tttool.stopRecorder())
                }, t.prototype.onClickShare = function() {
                    console.log("\u5206\u4eab\u5f55\u5c4f")
                }, t.prototype.onAnim = function() {
                    this.lastVla += 1, this.pointAni.string += ".", this.lastVla >= 3 && (this.lastVla = 0, this.pointAni.string = ".")
                }, t.prototype.onChatMsg = function(e) {
                    this.initOneChatMsg(e)
                }, o([T({
                    type: cc.Prefab
                })], t.prototype, "item", void 0), t = o([k], t)
            }(b.default);
        i.default = N, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/MapConfig": "MapConfig",
        "../config/MonsterConfig": "MonsterConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/BossModel": "BossModel",
        "../model/ChatModel": "ChatModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ShenBinSkillModel": "ShenBinSkillModel",
        "../model/SpiritsModel": "SpiritsModel",
        "../model/ZoneModel": "ZoneModel",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./GameManager": "GameManager"
    }],
    CheckDeleteRoleView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d3830WTNfJCiorMtLtclsKy", "CheckDeleteRoleView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = cc._decorator,
            r = s.ccclass,
            l = (s.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 300, t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.callback = e
                }, t.prototype.onShow = function() {
                    this.onAddEvent(this.findChild(this.node, "view/panel/close"), this.onClickClose.bind(this)), this.onAddEvent(this.findChild(this.node, "view/panel/btnCancel"), this.onClickClose.bind(this)), this.btnDelete = this.findChild(this.node, "view/panel/btnDelete"), this.btnSureDelete = this.findChild(this.node, "view/panel/btnSureDelete"), this.btnSureDelete.active = !1, this.onAddEvent(this.btnSureDelete, this.onClickSureClick.bind(this)), this.txtLeftTime = this.getChild(this.node, "view/panel/txtLeftTime", cc.Label), this.refreshTime()
                }, t.prototype.update = function(e) {
                    this.leftTime > 0 && (this.leftTime--, this.leftTime <= 0 && (this.btnSureDelete.active = !0, this.btnDelete.active = !1), this.refreshTime())
                }, t.prototype.refreshTime = function() {
                    this.txtLeftTime.string = Math.floor(this.leftTime / 60) + "\u79d2"
                }, t.prototype.onClickSureClick = function() {
                    this.callback(!0), this.closeView()
                }, t.prototype.onClickClose = function() {
                    this.callback(), this.closeView()
                }, t = o([r], t)
            }(a.default));
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/ViewBase": "ViewBase"
    }],
    ChiXueMoJianConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ac63043M1hJSp4cX+XDmijG", "ChiXueMoJianConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../model/MagicModel"),
            s = e("./MagicNameConfig"),
            r = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.atk = 0, t.mag = 0, t.spt = 0, t.BonusDamage = 0, t.HpDrain = 0, t.MpDrain = 0, t.hp = 0, t.mp = 0, t.skill = [], t.need_level = 0, t.zhanli = [], t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.type = e.type, i.level = e.level, i.cost1 = e.cost1, i.cost2 = e.cost2, i.curr_progress = e.curr_progress, i.all_progress = e.all_progress, i.skill = e.skill, i.need_level = e.need_level, i.zhanli = e.zhanli, i.atk = e[1], i.mag = e[3], i.spt = e[5], i.BonusDamage = e[15], i.HpDrain = e[19] || -1, i.MpDrain = e[20] || -1, i.hp = e[10], i.mp = e[12], i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    })
                }, t.getChixuemojianConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getJingJieConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getMagicModelList = function(e) {
                    var t,
                        i = [];
                    return e.atk >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.atk, t.magicValue = e.atk, i.push(t)), e.mag >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.mag, t.magicValue = e.mag, i.push(t)), e.spt >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.spt, t.magicValue = e.spt, i.push(t)), e.BonusDamage >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.BonusDamage, t.magicValue = e.BonusDamage, i.push(t)), e.HpDrain >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.HpDrain, t.magicValue = e.HpDrain, i.push(t)), e.MpDrain >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.MpDrain, t.magicValue = e.MpDrain, i.push(t)), e.hp >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.hp, t.magicValue = e.hp, i.push(t)), e.mp >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.mp, t.magicValue = e.mp, i.push(t)), i
                }, t.Config_Name = "chixuemojianConfig", t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.ChiXueMoJianConfig = r, cc._RF.pop()
    }, {
        "../model/MagicModel": "MagicModel",
        "./JsonConfigBase": "JsonConfigBase",
        "./MagicNameConfig": "MagicNameConfig"
    }],
    ChongZhiConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "4e320czIa9BoaScQ696QaI9", "ChongZhiConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = "\u9996\u5145\u5956\u52b1", t.money = 1, t.trigger = 1, t.btn = {
                    text: "30",
                    skin: "btn_goumai.png"
                }, t.time = 30, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                for (var n in e)
                    "function" != typeof e[n] && (i[n] = e[n]);
                return i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.id = parseInt(i)
                })
            }, t.getConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    i.id != e || (t = i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ChongZhiConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    CityView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b73f7+xTIhC54PTdQasE748", "CityView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/MapConfig"),
            r = e("../../engine/ResourcesManager"),
            l = e("../../engine/Logger"),
            c = e("../config/YaoShopConfig"),
            g = e("../model/RoleInfoModel"),
            f = e("../config/ColorConfig"),
            d = e("../model/ItemInfoModel"),
            h = e("../utils/UIHelper"),
            u = e("../../engine/UIManager"),
            p = e("../config/ViewConfig"),
            m = e("../utils/MusicHelper"),
            C = e("../../engine/EventManager"),
            v = e("../config/GameConst"),
            _ = e("./BuyShopView"),
            y = e("../config/GameConfig"),
            M = e("../network/SocketClient"),
            I = e("../sdk/SdkHelper"),
            b = e("../event/CommonEvent"),
            L = e("../model/JingJieModel"),
            w = e("../model/FightModel"),
            S = e("../config/WordConfig"),
            E = cc._decorator,
            k = E.ccclass,
            T = E.property,
            N = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.jingJieSpriteFrameList = [], t.jinjieList = [{
                        skin: "city/but_button_fanren01",
                        skinSelet: "city/but_button_fanren02",
                        name: L.JingJieModel.jingJieNameConfig[0]
                    }, {
                        skin: "city/but_button_lunhui01",
                        skinSelet: "city/but_button_lunhui02",
                        name: L.JingJieModel.jingJieNameConfig[1]
                    }], t.npcSkin = [{
                        skin: "city/npc_huishou",
                        name: "\u94c1\u5320",
                        tip: "\u6211\u8fd9\u91cc\u6709\u8bb8\u591a\u6781\u54c1\u88c5\u5907\uff01",
                        topTip: 0
                    }, {
                        skin: "city/npc_yaodian",
                        name: "\u836f\u5e97\u8001\u677f",
                        tip: "\u8170\u817f\u9178\u75db\uff0c\u7cbe\u795e\u4e0d\u632f\uff0c\u597d\u50cf\u8eab\u4f53\u88ab\u638f\u7a7a\u3002\u662f\u4e0d\u662f\u80be\u900f\u652f\u4e86\uff1f",
                        topTip: 2
                    }, {
                        skin: "city/npc_shudian",
                        name: "\u56de\u6536\u8001\u677f",
                        tip: "\u6536\u65e7\u5bb6\u7535\uff0c\u624b\u673a\uff0c\u7535\u8111\uff01",
                        topTip: 3
                    }, {
                        skin: "city/img_npc_wunv",
                        name: "\u5f02\u4e16\u5deb\u5973",
                        tip: "\u53ea\u8981\u4f60\u6709\u5b9e\u529b\uff0c\u6211\u4f1a\u4e3a\u4f60\u6253\u5f00\u5f02\u4e16\u754c\u7684\u901a\u9053\uff01",
                        topTip: -1
                    }], t.selectIndex = 0, t.equipNameConfig = ["\u666e\u901a\u88c5\u5907", "\u4f18\u79c0\u88c5\u5907", "\u7cbe\u826f\u88c5\u5907", "\u53f2\u8bd7\u88c5\u5907", "\u4f20\u8bf4\u88c5\u5907"], t.itemList = [], t.npcList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.npcDialogue = this.findChild(this.node, "view/panel/npcDialogue"), this.npcDialogue.active = !1, this.yishiwunvNPC = this.findChild(this.node, "view/panel/yishiwunvNPC"), this.yishiwunvNPC.active = !1, this.findChild(this.node, "view/panel/npcDialogue/close").on(cc.Node.EventType.TOUCH_END, this.onCLickClose.bind(this)), this.findChild(this.node, "view/panel/yishiwunvNPC/btn_close").on(cc.Node.EventType.TOUCH_END, this.onCLickClose.bind(this)), this.findChild(this.node, "view/panel/yishiwunvNPC/btn_tip").on(cc.Node.EventType.TOUCH_END, this.onClickShowTipWindow.bind(this)), this.tipWindow = this.findChild(this.node, "view/panel/tipwindow"), this.tipWindow.active = !1, this.findChild(this.node, "view/panel/tipwindow/btn_close").on(cc.Node.EventType.TOUCH_END, this.onClickCloseTipWindow.bind(this)), this.findChild(this.node, "view/panel/tipwindow/darkLayer").on(cc.Node.EventType.TOUCH_END, this.onClickCloseTipWindow.bind(this)), this.title = this.getChild(this.node, "view/panel/title"), this.npc = this.getChild(this.node, "view/panel/npc"), this.content = this.getChild(this.node, "view/panel/content", cc.Label), this.npcItem = this.getChild(this.node, "view/panel/npc/view/content/item"), this.npcItem.active = !1, this.item_1 = this.findChild(this.npcDialogue, "talk/view/content/item_1"), this.item_2 = this.findChild(this.npcDialogue, "talk/view/content/item_2"), this.item_3 = this.findChild(this.npcDialogue, "talk/view/content/item_3"), this.item_1.active = !1, this.item_2.active = !1, this.item_3.active = !1, this.item = this.findChild(this.yishiwunvNPC, "jinjieList/view/content/item"), this.item.active = !1, this.initNpc(), this.refreshTips(), this.onClickNpcDialog()
                }, t.prototype.onEnable = function() {
                    C.EventManager.instance.on(b.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this), C.EventManager.instance.on(b.CommonEvent.Event_SwitchMapSuc, this.switchMapSuc, this), C.EventManager.instance.on(b.CommonEvent.Event_ChangeWorld, this.refreshJinjie, this), this.registerEvent(), this.onClickNpcDialog()
                }, t.prototype.onShow = function() {}, t.prototype.initNpc = function() {
                    this.refreshTips(), this.title.getComponent(cc.Label).string = s.MapConfig.curMapConfig.name;
                    for (var e = 0; e < this.npcSkin.length; e++) {
                        var t = cc.instantiate(this.npcItem);
                        t.parent = this.npcItem.parent, t.active = !0, t.name = e + "", t.getChildByName("name").getComponent(cc.Label).string = this.npcSkin[e].name, r.default.instance.loadSprite(t.getChildByName("icon").getComponent(cc.Sprite), "sprite/" + this.npcSkin[e].skin), t.on(cc.Node.EventType.TOUCH_END, this.onOpenDialogue.bind(this, e)), 0 == e && s.MapConfig.curMapConfig.world > 1 && (t.active = !1), 3 == e && (l.Logger.log("RoleInfoModel.instance.mapId", g.default.instance.mapId), 1 != s.MapConfig.curMapConfig.position && (t.active = !1)), this.npcList.push(t)
                    }
                }, t.prototype.onUserInfoRefresh = function() {
                    this.refreshSelectInfo()
                }, t.prototype.switchMapSuc = function() {
                    this.refreshTips(), this.onClickNpcDialog(), 1 == s.MapConfig.curMapConfig.position ? this.npcList[3].active = !0 : this.npcList[3].active = !1, s.MapConfig.curMapConfig.world > 1 ? this.npcList[0].active = !1 : this.npcList[0].active = !0
                }, t.prototype.refreshTips = function() {
                    this.title.getComponent(cc.Label).string = s.MapConfig.curMapConfig.name, this.content.string = s.MapConfig.curMapConfig.des
                }, t.prototype.onClickNpcDialog = function() {
                    this.npc.active = !0, this.npcDialogue.active = !1, this.yishiwunvNPC.active = !1, this.findChild(this.node, "view/panel/content").active = !0, this.findChild(this.node, "view/panel/line").active = !0
                }, t.prototype.registerEvent = function() {
                    C.EventManager.instance.on(v.EVENT_NAME.BAG_ADD, this.refreshSelectInfo, this)
                }, t.prototype.onOpenDialogue = function(e) {
                    this.selectIndex = e, this.refreshTips(), r.default.instance.loadSprite(this.getChild(this.npcDialogue, "npc/icon", cc.Sprite), "sprite/" + this.npcSkin[this.selectIndex].skin), this.getChild(this.npcDialogue, "dialogue/content", cc.Label).string = this.npcSkin[this.selectIndex].tip, this.getChild(this.npcDialogue, "npc/name", cc.Label).string = this.npcSkin[this.selectIndex].name, 0 == e && (l.Logger.log("\u94c1\u5320"), u.default.instance.createView(p.default.gameView.EquipMakeView)), this.refreshSelectInfo()
                }, t.prototype.refreshSelectInfo = function() {
                    if (this.itemList)
                        for (var e = 0; e < this.itemList.length; e++)
                            this.itemList[e].destroy();
                    if (this.itemList = [], this.findChild(this.node, "view/panel/content").active = !0, this.findChild(this.node, "view/panel/line").active = !0, 1 == this.selectIndex) {
                        this.npc.active = !1, this.npcDialogue.active = !0;
                        var t = c.YaoShopConfig.getShopConfigByCity(g.default.instance.mapId);
                        for (e = 0; e < t.length; e++) {
                            var i = t[e],
                                n = f.ColorConfig.getQualityColor(d.default.getConfigById(i.item_id).quality);
                            (o = cc.instantiate(this.item_2)).parent = this.item_2.parent, o.active = !0, o.getChildByName("name").getComponent(cc.Label).string = i.name, o.getChildByName("name").color = n, o.getChildByName("coin").getComponent(cc.Label).string = "\u91d1\u5e01:" + i.unit_price, o.on(cc.Node.EventType.TOUCH_END, this.onBuyItem.bind(this, i)), this.itemList.push(o)
                        }
                    } else if (2 == this.selectIndex) {
                        this.npc.active = !1, this.npcDialogue.active = !0;
                        for (e = 0; e < 5; e++) {
                            var o;
                            (o = cc.instantiate(this.item_3)).parent = this.item_3.parent, o.active = !0, o.name = e + "";
                            var a = g.default.instance.getShowEquip(e);
                            o.getChildByName("name").getComponent(cc.Label).string = this.equipNameConfig[e] + ":" + a.count, o.color = f.ColorConfig.getQualityColor(e), o.getChildByName("name").color = f.ColorConfig.getQualityColor(e), o.getChildByName("coin").getComponent(cc.Label).string = a.price, o.getChildByName("txtCream").getComponent(cc.Label).string = a.cream, o.on(cc.Node.EventType.TOUCH_END, this.onRecycle.bind(this, e)), this.itemList.push(o)
                        }
                    } else
                        3 == this.selectIndex && (this.npc.active = !1, this.findChild(this.node, "view/panel/content").active = !1, this.findChild(this.node, "view/panel/line").active = !1, this.yishiwunvNPC.active = !0, this.refreshJinjie())
                }, t.prototype.onBuyItem = function(e) {
                    m.MusicHelper.play_click();
                    var t = Math.floor(g.default.instance.getCoin() / e.unit_price);
                    u.default.instance.createView(p.default.gameView.BuyShopView, null, _.default.BuyType.YaoDian, 1, e.item_id, e.unit_price, 0, 0, t, null, null, e.id)
                }, t.prototype.refreshJinjie = function() {
                    if (this.itemList)
                        for (var e = 0; e < this.itemList.length; e++)
                            this.itemList[e].destroy();
                    this.itemList = [];
                    for (e = 0; e < this.jinjieList.length; e++) {
                        var t = cc.instantiate(this.item);
                        t.parent = this.item.parent, t.active = !0, t.name = e + 1 + "", t.getChildByName("name").getComponent(cc.Label).string = this.jinjieList[e].name, t.getChildByName("name").color = s.MapConfig.curMapConfig.world - 1 == e ? f.ColorConfig.GreenColor : f.ColorConfig.WhiteColor, t.getChildByName("here").active = s.MapConfig.curMapConfig.world - 1 == e, t.getChildByName("btn").active = s.MapConfig.curMapConfig.world - 1 != e, t.getChildByName("btn").on(cc.Node.EventType.TOUCH_END, this.changeWorld.bind(this, e + 1));
                        var i = s.MapConfig.curMapConfig.world - 1 == e ? this.jinjieList[e].skinSelet : this.jinjieList[e].skin;
                        l.Logger.log("MapConfig.curMapConfig.world", s.MapConfig.curMapConfig.world, t.getComponent(cc.Sprite), "sprite/" + i);
                        var n = 2 * e;
                        s.MapConfig.curMapConfig.world - 1 == e && n++, t.getComponent(cc.Sprite).spriteFrame = this.jingJieSpriteFrameList[n], this.itemList.push(t)
                    }
                }, t.prototype.changeWorld = function(e) {
                    if (m.MusicHelper.play_click(), s.MapConfig.curMapConfig.world != e)
                        if (2 == e) {
                            if (!L.JingJieModel.hadOpenJingJie(e))
                                return void h.UIHelper.showTip("\u8bf7\u524d\u5f80\u3010\u5883\u754c\u3011\u7cfb\u7edf\u5f00\u542f" + L.JingJieModel.jingJieNameConfig[e - 1] + "!");
                            var t = s.MapConfig.getMapConfigByMapId(1001);
                            if (w.default.maxFight < t.Lv) {
                                var i = S.WordConfig.getWord(60130);
                                return i = i.replace("[#]", t.Lv + ""), void h.UIHelper.showTip(i)
                            }
                            M.default.s_seq_rune_gift()
                        } else
                            g.default.instance.changeWorld(e)
                }, t.prototype.onRecycle = function(e) {
                    m.MusicHelper.play_click();
                    var t = g.default.instance.getShowEquip(e),
                        i = t.equipList;
                    if (i.length > 0) {
                        var n = t.price,
                            o = t.cream;
                        if (y.GameConfig.connectServer) {
                            for (var a = [], s = 0; s < i.length; s++)
                                a.push(parseInt(i[s].itemId));
                            I.default.sdkCustomAction(14, n), I.default.sdkCustomAction(23, o), M.default.req_reback_items(a, 3)
                        } else
                            g.default.instance.addCoin(n), g.default.instance.addCream(o), g.default.instance.recoveryEquipList(t.equipList)
                    }
                }, t.prototype.onCLickClose = function() {
                    m.MusicHelper.play_click(), l.Logger.log("onCLickClose==="), this.onClickNpcDialog()
                }, t.prototype.onClickShowTipWindow = function() {
                    m.MusicHelper.play_click(), this.tipWindow.active = !0
                }, t.prototype.onClickCloseTipWindow = function() {
                    m.MusicHelper.play_click(), this.tipWindow.active = !1
                }, t.prototype.onHide = function() {}, o([T({
                    type: [cc.SpriteFrame]
                })], t.prototype, "jingJieSpriteFrameList", void 0), t = o([k], t)
            }(a.default);
        i.default = N, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ResourcesManager": "ResourcesManager",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../config/YaoShopConfig": "YaoShopConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FightModel": "FightModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/JingJieModel": "JingJieModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./BuyShopView": "BuyShopView"
    }],
    ColorConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5e735PQM0ROupTTjzkyMCki", "ColorConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./GameConst"),
            o = e("../../engine/Logger"),
            a = function() {
                function e() {}
                return e.getEquipQualityColor = function(e) {
                    try {
                        return this.hexToColor(this.equipQualityColor[e])
                    } catch (t) {
                        o.Logger.error("getEquipQualityColor==", e)
                    }
                }, e.getQualityHexColor = function(e) {
                    void 0 === e && (e = n.GameConst.QUALITY.WHITE);
                    try {
                        return this.qualityColor[e]
                    } catch (t) {
                        o.Logger.error("getQualityHexColor==", e)
                    }
                }, e.getQualityColor = function(e) {
                    return void 0 === e && (e = n.GameConst.QUALITY.WHITE), this.hexToColor(this.qualityColor[e])
                }, e.getRoleColor = function(e) {
                    return this.hexToColor(this.roleColor[e])
                }, Object.defineProperty(e, "RedColor", {
                    get: function() {
                        return this.hexToColor("#ff0000")
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "YellowColor", {
                    get: function() {
                        return this.hexToColor("#FFC31f")
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "WhiteColor", {
                    get: function() {
                        return cc.Color.WHITE
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "GreenColor", {
                    get: function() {
                        return cc.Color.BLACK.fromHEX(this.GreenHexColor)
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "GreenHexColor", {
                    get: function() {
                        return "#00ff00"
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "RedHexColor", {
                    get: function() {
                        return "#ff0000"
                    },
                    enumerable: !0,
                    configurable: !0
                }), Object.defineProperty(e, "ShenGreenColor", {
                    get: function() {
                        return "#0ae797"
                    },
                    enumerable: !0,
                    configurable: !0
                }), e.hexToColor = function(e) {
                    return cc.Color.BLACK.fromHEX(e)
                }, e.qualityColor = ["#FFFFFF", "#0CFF00", "#00C0FF", "#F702F4", "#FF6C00", "#FFD87F"], e.roleColor = ["#FFFFFF", "#0CFF00", "#00C0FF", "#F702F4"], e.redColor = "df1500", e.equipQualityColor = ["#FFFFFF", "#0CFF00", "#00C0FF", "#F702F4", "#df1500"], e
            }();
        i.ColorConfig = a, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./GameConst": "GameConst"
    }],
    CommonEvent: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "6c52duc1NtKZqNZV9kK/zHe", "CommonEvent"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.Event_FrameUpdate = "Event_FrameUpdate", e.Event_SocketRespMsg = "Event_SocketRespMsg", e.Event_addChat = "Event_addChat", e.Event_SwitchMapStart = "Event_SwitchMapStart", e.Event_SwitchMapSuc = "Event_SwitchMapSuc", e.Event_MapStatistic = "Event_MapStatistic", e.Event_UserInfoRefresh = "Event_UserInfoRefresh", e.Event_SkillRefresh = "Event_SkillRefresh", e.Event_RolePrefabfresh = "Event_RolePrefabfresh", e.Event_RoleRevive = "Event_RoleRevive", e.Event_StrengthSwitch = "Event_StrengthSwitch", e.Event_userinfoViewSwitch = "Event_userinfoViewSwitch", e.Event_ad_end = "Event_ad_end", e.Event_AdInfoUpdate = "Event_AdInfoUpdate", e.Event_req_shop_fresh_info = "Event_req_shop_fresh_info", e.Event_SdkInit = "Event_SdkInit", e.Event_JingJie = "Event_JingJie", e.Event_Make_Equip = "Event_Make_Equip", e.Event_has_reward = "Event_has_reward", e.Event_Setting = "Event_Setting", e.Event_FightChange = "Event_FightChange", e.Event_ChargeActivity = "Event_ChargeActivity", e.Event_ChargeActivityOk = "Event_ChargeActivityOk", e.Event_Buy_Suc = "Event_Buy_Suc", e.Event_SettingBgClick = "Event_SettingBgClick", e.Event_ChangeWorld = "Event_ChangeWorld", e.Event_JingJie_Change = "Event_JingJie_Change", e.Event_FangShi_Change = "Event_FangShi_Change", e.Event_ZHENBAOFangShi_Change = "Event_ZHENBAOFangShi_Change", e.Event_DisCount_Change = "Event_DisCount_Change", e.Event_SkillEffectView_Change = "Event_SkillEffectView_Change", e.Event_JumpToSkillEffectView = "Event_JumpToSkillEffectView", e.Event_RefreshShenbin = "Event_RefreshShenbin", e.Event_Refresh_Recycle = "Event_Refresh_Recycle", e
        }();
        i.CommonEvent = n, cc._RF.pop()
    }, {}],
    ComoensationView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "94f01eN0AZErbLqQ1QN41fx", "ComoensationView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/Logger"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = e("../utils/MusicHelper"),
            g = e("../utils/UIHelper"),
            f = e("../config/WordConfig"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.wordList = [60149, 60150], t.resourceList = ["", "\u91d1\u5e01", "\u5143\u5b9d", "\u88c5\u5907\u7cbe\u534e", "\u7ecf\u9a8c"], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.findChild(this.node, "view/panel/mid").removeAllChildren(), s.Logger.log("ComoensationView======type===", e), this.list = e
                }, t.prototype.onShow = function() {
                    var e = this;
                    this.item = this.findChild(this.node, "item"), this.item.active = !1, r.default.instance.setTopUI(l.default.gameView.ComoensationView), this.findChild(this.node, "view/panel/bottom/btnSure").on(cc.Node.EventType.TOUCH_END, function() {
                        c.MusicHelper.play_click(), e.closeView()
                    });
                    for (var t = 0; t < this.list.length; t++) {
                        var i = cc.instantiate(this.item);
                        i.active = !0, this.findChild(this.node, "view/panel/mid").addChild(i), i.getChildByName("tip").getComponent(cc.Label).string = f.WordConfig.getWord(this.wordList[this.list[t].activeType - 1]);
                        for (var n = "", o = this.list[t].itemlist, a = 0; a < o.length; a++)
                            n += this.resourceList[o[a].type] + "+" + g.UIHelper.tranNumber(o[a].num) + "\n";
                        i.getChildByName("txtDesc").getComponent(cc.Label).string = n
                    }
                }, t = o([h], t)
            }(a.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    ComplexConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d5292OlSX9PFqkGljUGGCnh", "ComplexConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../../engine/Logger"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.id = e.id, i.itemid = e.itemid, i.name = e.name, i.main_type = e.main_type, i.sub_type = e.sub_type, i.item = e.item, i.gold = e.gold, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    }), a.Logger.log("ComplexConfig===", this.configMap)
                }, t.getConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        i.id == e && (t = i)
                    }), t
                }, t.getConfigByType = function(e, t) {
                    void 0 === t && (t = 0);
                    var i = [];
                    return this.configMap.forEach(function(n, o) {
                        n.main_type == e && (t <= 0 ? i.push(n) : t == n.sub_type && i.push(n))
                    }), i
                }, t.Config_Name = "composeConfig", t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.ComplexConfig = s, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ComplexView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "508a0WfmBlP1LuVs+681HaI", "ComplexView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/ComplexConfig"),
            r = e("../prefab/ItemPrefab"),
            l = e("../config/ITemsConfig"),
            c = e("../utils/MusicHelper"),
            g = e("../../engine/UIManager"),
            f = e("../config/ViewConfig"),
            d = e("../model/ItemInfoModel"),
            h = e("../../engine/Logger"),
            u = e("../config/ColorConfig"),
            p = e("../model/RoleInfoModel"),
            m = e("../../engine/ProtoConfig"),
            C = cc._decorator,
            v = C.ccclass,
            _ = C.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.mainTabSpriteFrame = [], t.mainType = 0, t.subType = 0, t.tempList = [], t.configList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.model = e, this.config = l.ITemsConfig.getITemsConfigById(this.model.itemType), h.Logger.log("ComplexView====", this.config), 1 == this.config.compose_type ? (this.mainType = 0, this.subType = p.default.instance.occupation) : 2 == this.config.compose_type && (this.mainType = 1, this.subType = 0)
                }, t.prototype.onShow = function() {
                    this.complexItem = this.findChild(this.node, "view/itemScrollView/view/content/complexItem"), this.complexItem.active = !1;
                    for (var e = 0; e < 2; e++) {
                        if (this.findChild(this.node, "view/tabScrollView/view/content/btnTab" + e).on(cc.Node.EventType.TOUCH_END, this.onClickBtnTab.bind(this, e)), 0 == e)
                            for (var t = 1; t < 4; t++) {
                                this.findChild(this.node, "view/tabScrollView/view/content/btnSubTab" + t).on(cc.Node.EventType.TOUCH_END, this.onClickSubTab.bind(this, e, t))
                            }
                    }
                    this.refreshMainTab(), this.refreshType(), this.refreshSubTab()
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    e == m.ProtoConfig.c_seq_compose && this.refreshType()
                }, t.prototype.onClickBtnTab = function(e) {
                    this.mainType = e, 0 != this.mainType && (this.subType = 0), this.refreshMainTab()
                }, t.prototype.refreshMainTab = function() {
                    for (var e = 0; e < 2; e++) {
                        var t = this.findChild(this.node, "view/tabScrollView/view/content/btnTab" + e);
                        e == this.mainType ? t.getComponent(cc.Sprite).spriteFrame = this.mainTabSpriteFrame[1] : t.getComponent(cc.Sprite).spriteFrame = this.mainTabSpriteFrame[0]
                    }
                    if (0 == this.mainType)
                        for (var i = 1; i < 4; i++) {
                            this.findChild(this.node, "view/tabScrollView/view/content/btnSubTab" + i).active = !0
                        }
                    else
                        for (i = 1; i < 4; i++) {
                            this.findChild(this.node, "view/tabScrollView/view/content/btnSubTab" + i).active = !1
                        }
                    this.refreshType()
                }, t.prototype.refreshSubTab = function() {
                    for (var e = 1; e < 4; e++) {
                        var t = this.findChild(this.node, "view/tabScrollView/view/content/btnSubTab" + e);
                        this.subType == e ? t.color = u.ColorConfig.hexToColor("#EAA700") : t.color = cc.Color.WHITE
                    }
                }, t.prototype.onClickSubTab = function(e, t) {
                    this.mainType = e, this.subType = t, c.MusicHelper.play_click(), this.refreshSubTab(), this.refreshType()
                }, t.prototype.refreshType = function() {
                    var e = s.ComplexConfig.getConfigByType(this.mainType + 1, this.subType);
                    this.configList = e, h.Logger.log("configList==", e);
                    for (var t = 0; t < this.tempList.length; t++)
                        this.tempList[t].destroy();
                    this.tempList = [];
                    for (t = 0; t < e.length; t++) {
                        var i = e[t];
                        h.Logger.log("configList=11=", i);
                        var n = void 0;
                        t > 0 ? (n = cc.instantiate(this.complexItem), this.tempList.push(n), n.parent = this.complexItem.parent) : n = this.complexItem, n.active = !0;
                        var o = l.ITemsConfig.getITemsConfigById(i.itemid);
                        this.getChild(n, "itemPrefab").getComponent(r.default).init(o), n.getChildByName("btnComplex").on(cc.Node.EventType.TOUCH_END, this.onClickComplex.bind(this, t));
                        var a = n.getChildByName("txtCost").getComponent(cc.Label),
                            c = i.item[0],
                            g = l.ITemsConfig.getITemsConfigById(c[0]),
                            f = d.default.getItemAmount(g.id),
                            m = n.getChildByName("num").getComponent(cc.Label);
                        m.string = " (" + f + "/" + c[1] + ")", a.string = g.name, a.node.color = u.ColorConfig.getQualityColor(g.quality);
                        var C = n.getChildByName("GoldNum").getComponent(cc.Label);
                        C.node.color = u.ColorConfig.GreenColor, C.string = "" + i.gold[1], f < c[1] ? m.node.color = u.ColorConfig.RedColor : m.node.color = u.ColorConfig.GreenColor, p.default.instance.getCoin() < i.gold[1] && (C.node.color = u.ColorConfig.RedColor)
                    }
                    this.findChild(this.node, "view/itemScrollView").getComponent(cc.ScrollView).stopAutoScroll(), this.findChild(this.node, "view/itemScrollView").getComponent(cc.ScrollView).scrollToTop()
                }, t.prototype.onClickComplex = function(e) {
                    var t = this.configList[e];
                    c.MusicHelper.play_click(), h.Logger.log("onClickComplex=11=", t), g.default.instance.createView(f.default.gameView.complexView, null, t)
                }, o([_({
                    type: [cc.SpriteFrame]
                })], t.prototype, "mainTabSpriteFrame", void 0), t = o([v], t)
            }(a.default);
        i.default = y, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/ComplexConfig": "ComplexConfig",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../utils/MusicHelper": "MusicHelper"
    }],
    ComponentBase: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "99f25EpomRKSKNpWVYUb5cp", "ComponentBase");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("./EventManager"),
            s = e("./Logger"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onLoad = function() {}, t.prototype.onDisable = function() {
                    this._dispose()
                }, t.prototype.onDestroy = function() {
                    this._dispose()
                }, t.prototype.findChild = function(e, t) {
                    var i = t.split("/"),
                        n = e;
                    if (i)
                        for (var o = 0; o < i.length; ++o)
                            if (!(e = n = e.getChildByName(i[o])))
                                return void s.Logger.error("getChild ----------- " + t + "  parent is null");
                    return n
                }, t.prototype.getChild = function(e, t, i) {
                    if (void 0 === i && (i = cc.Node), e)
                        return i == cc.Node ? this.findChild(e, t) : this.findChild(e, t).getComponent(i);
                    s.Logger.error("getChild ----------- " + t + "  parent is null")
                }, t.prototype._dispose = function() {
                    this.node.stopAllActions(), this.unscheduleAllCallbacks(), a.EventManager.instance.clear(this)
                }, t = o([l], t)
            }(cc.Component));
        i.default = c, cc._RF.pop()
    }, {
        "./EventManager": "EventManager",
        "./Logger": "Logger"
    }],
    CompoundView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ecd22NrkiRNFIGXWxaEGZ4c", "CompoundView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../prefab/ItemPrefab"),
            r = e("../config/ITemsConfig"),
            l = e("../utils/MusicHelper"),
            c = e("../model/ItemInfoModel"),
            g = e("../../engine/Logger"),
            f = e("../network/SocketClient"),
            d = e("../utils/UIHelper"),
            h = e("../model/RoleInfoModel"),
            u = e("../config/ColorConfig"),
            p = cc._decorator,
            m = p.ccclass,
            C = (p.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.nowValue = 1, t.mainType = 1, t.subType = 0, t.tempList = [], t.maxNum = 5, t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.config = e
                }, t.prototype.onShow = function() {
                    var e = r.ITemsConfig.getITemsConfigById(this.config.itemid);
                    this.getChild(this.node, "view/itemPrefab").getComponent(s.default).init(e);
                    var t = this.config.item[0],
                        i = t[0],
                        n = t[1];
                    this.needId = i;
                    var o = r.ITemsConfig.getITemsConfigById(i);
                    this.needNum = n;
                    var a = c.default.getItemAmount(i);
                    this.maxNum = Math.floor(a / n), this.myNum = a, g.Logger.log("maxnum==", this.maxNum), this.maxNum <= 0 && (this.maxNum = 1), this.getChild(this.node, "view/btnDec").on(cc.Node.EventType.TOUCH_END, this.onClickReduce.bind(this, this.config)), this.getChild(this.node, "view/btnAdd").on(cc.Node.EventType.TOUCH_END, this.onClickIncrease.bind(this, this.config)), this.getChild(this.node, "view/btnMax").on(cc.Node.EventType.TOUCH_END, this.onClickMax.bind(this, this.config)), this.getChild(this.node, "view/btnBuy").on(cc.Node.EventType.TOUCH_END, this.onClickComplex.bind(this, this.config)), this.getChild(this.node, "view/txtNeedType", cc.Label).string = o.name + ":", this.refreshNum()
                }, t.prototype.refreshNum = function() {
                    this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox);
                    var e = this.node.getChildByName("view").getChildByName("costNode").getChildByName("txtCoin").getComponent(cc.Label),
                        t = this.config.gold[1] * this.nowValue;
                    e.string = t + "", h.default.instance.getCoin() >= t ? e.node.color = u.ColorConfig.GreenColor : e.node.color = u.ColorConfig.RedColor;
                    var i = this.getChild(this.node, "view/txtNeedItem", cc.Label);
                    i.string = this.needNum * this.nowValue + "", this.myNum >= this.needNum * this.nowValue ? i.node.color = u.ColorConfig.GreenColor : i.node.color = u.ColorConfig.RedColor
                }, t.prototype.onClickReduce = function() {
                    l.MusicHelper.play_click();
                    var e = this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox);
                    this.nowValue <= 1 || this.nowValue > this.maxNum || this.nowValue > 1 && this.nowValue <= this.maxNum && this.nowValue--, e.string = "" + this.nowValue, this.refreshNum()
                }, t.prototype.onClickComplex = function() {
                    l.MusicHelper.play_click(), this.closeView();
                    var e = this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox),
                        t = parseInt(e.string);
                    t > 0 ? f.default.sendComplex(this.config.id, t) : d.UIHelper.showTip("\u5408\u6210\u6570\u91cf\u4e0d\u80fd\u4e3a0!")
                }, t.prototype.onClickIncrease = function() {
                    l.MusicHelper.play_click();
                    var e = this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox);
                    this.nowValue >= 1 && this.nowValue < this.maxNum ? this.nowValue++ : this.nowValue < 1 || (this.nowValue, this.maxNum), e.string = "" + this.nowValue, this.refreshNum()
                }, t.prototype.onClickMax = function() {
                    l.MusicHelper.play_click(), this.nowValue = this.maxNum, this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox).string = this.nowValue.toString(), this.refreshNum()
                }, t.prototype.update = function() {
                    var e = this.getChild(this.node, "view/amountEditBox").getComponent(cc.EditBox),
                        t = parseInt(e.string);
                    (t < 1 || t > this.maxNum) && (t = 1), e.string = t.toString()
                }, t = o([m], t)
            }(a.default));
        i.default = C, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/ITemsConfig": "ITemsConfig",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    DateUtil: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "64a115hjD9AE4jsIjRDWTvU", "DateUtil"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = e("../game/model/ServerTime"),
            a = function() {
                function e() {}
                return e.formatNumStr = function(e) {
                    var t = "" + e;
                    return e < 10 && (t = "0" + e), t
                }, e.formateYearMonthDayStr = function(e) {
                    var t = new Date(e);
                    return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate()
                }, e.formateMonthDayStr = function(e) {
                    var t = new Date(e);
                    return t.getMonth() + 1 + "\u6708" + t.getDate() + "\u65e5"
                }, e.formatDateStr = function(e) {
                    var t = new Date(e);
                    return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate() + " " + this.formatNumStr(t.getHours()) + ":" + this.formatNumStr(t.getMinutes()) + ":" + this.formatNumStr(t.getSeconds())
                }, e.formatDateStr2 = function(e) {
                    var t = new Date(e);
                    return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate() + "-" + this.formatNumStr(t.getHours()) + "-" + this.formatNumStr(t.getMinutes()) + "-" + this.formatNumStr(t.getSeconds())
                }, e.formatDateStr3 = function(e) {
                    var t = new Date(e);
                    return t.getFullYear() + "-" + (t.getMonth() + 1) + "-" + t.getDate()
                }, e.formatHourMinStr = function(e) {
                    var t = new Date(e);
                    return this.formatNumStr(t.getHours()) + ":" + this.formatNumStr(t.getMinutes())
                }, e.formatHourMinSecondStr = function(e) {
                    var t = new Date(e);
                    return this.formatNumStr(t.getHours()) + ":" + this.formatNumStr(t.getMinutes()) + ":" + this.formatNumStr(t.getSeconds())
                }, e.now = function() {
                    return (new Date).getTime()
                }, e.betweenTime = function(e, t) {
                    var i = new Date;
                    return i.getTime() >= e && i.getTime() <= t
                }, e.formatLeftTime0 = function(e) {
                    var t = Math.floor(e / 36e5) % 24,
                        i = Math.floor(e / 6e4) % 60,
                        n = Math.floor(e / 1e3) % 60;
                    return t > 0 ? this.formatNumStr(t) + ":" + this.formatNumStr(i) + ":" + this.formatNumStr(n) : this.formatNumStr(i) + ":" + this.formatNumStr(n)
                }, e.formatLeftTime2 = function(e) {
                    var t = Math.floor(e / 36e5) % 24,
                        i = Math.floor(e / 6e4) % 60,
                        n = Math.floor(e / 1e3) % 60;
                    return this.formatNumStr(t) + ":" + this.formatNumStr(i) + ":" + this.formatNumStr(n)
                }, e.formatLeftTime = function(e) {
                    var t = Math.floor(e / 864e5),
                        i = Math.floor(e / 36e5) % 24,
                        n = Math.floor(e / 6e4) % 60,
                        o = Math.floor(e / 1e3) % 60;
                    return t + "\u5929" + this.formatNumStr(i) + ":" + this.formatNumStr(n) + ":" + this.formatNumStr(o)
                }, e.formatLeftTime3 = function(e) {
                    var t = Math.floor(e / 864e5),
                        i = Math.floor(e / 36e5) % 24,
                        n = Math.floor(e / 6e4) % 60;
                    Math.floor(e / 1e3);
                    return t > 0 ? t + "\u5929" + this.formatNumStr(i) + "\u5c0f\u65f6" + this.formatNumStr(n) + "\u5206\u949f" : this.formatNumStr(i) + "\u5c0f\u65f6" + this.formatNumStr(n) + "\u5206\u949f"
                }, e.formatLeftTime4 = function(e) {
                    var t = Math.floor(e / 864e5),
                        i = Math.floor(e / 36e5) % 24,
                        n = Math.floor(e / 6e4) % 60;
                    Math.floor(e / 1e3);
                    return t > 0 ? t + "\u5929" + this.formatNumStr(i) + "\u5c0f\u65f6" + this.formatNumStr(n) + "\u5206\u949f" : this.formatNumStr(i) + "\u5c0f\u65f6" + this.formatNumStr(n) + "\u5206\u949f"
                }, e.isToday = function(e) {
                    var t = new Date,
                        i = new Date(e);
                    return i.getFullYear() == t.getFullYear() && i.getMonth() == t.getMonth() && i.getDate() == t.getDate()
                }, e.getDateByStr = function(e) {
                    var t = e.split(" "),
                        i = t[0].split("-"),
                        n = t[1].split(":"),
                        o = parseInt(i[0]),
                        a = parseInt(i[1]) - 1,
                        s = parseInt(i[2]),
                        r = parseInt(n[0]),
                        l = parseInt(n[1]),
                        c = parseInt(n[2]);
                    return new Date(o, a, s, r, l, c)
                }, e.getPassDay = function(t) {
                    var i = e.now(),
                        n = new Date(t),
                        o = i - (n = new Date(n.getFullYear(), n.getMonth(), n.getDate())).getTime();
                    return o < 0 && (o = 0), Math.floor(o / 864e5)
                }, e.getLeftDay = function(e) {
                    var t = new Date(o.ServerTime.getServerTime());
                    t = new Date(t.getFullYear(), t.getMonth(), t.getDate());
                    var i = new Date(e);
                    i = new Date(i.getFullYear(), i.getMonth(), i.getDate());
                    var a = e - o.ServerTime.getServerTime();
                    n.Logger.log("getLeftDay=====", e, t, i, a), a < 0 && (a = 0);
                    var s = Math.floor(a / 864e5);
                    return n.Logger.log("getLeftDay==22===", a, a / 864e5), s
                }, e.getDay = function(e) {
                    return Math.floor(e / 864e5)
                }, e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "../game/model/ServerTime": "ServerTime",
        "./Logger": "Logger"
    }],
    DefaultConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "8081b7aYRtEwr8cXehyceNF", "DefaultConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.dec = "", t.value = {}, t.value1 = {}, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.dec = e.dec, i.value = e.value, i.value1 = e.value1, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    n == "" + e && (t = i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.DefaultConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    DialogCheckView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "832cfBgCPhFsasBt7zPdefv", "DialogCheckView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/MusicHelper"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onLoad = function() {
                    this.tipLabel = this.node.getChildByName("view").getChildByName("panel").getChildByName("tipLabel").getComponent(cc.Label), this.findChild(this.node, "view/panel/btnOk").on(cc.Node.EventType.TOUCH_END, this.onClickSure.bind(this)), this.findChild(this.node, "view/panel/btnCacel").on(cc.Node.EventType.TOUCH_END, this.onClickCancel.bind(this))
                }, t.prototype.onInitChild = function(e, t) {
                    this.showStr = e, this.callback = t
                }, t.prototype.onShow = function() {
                    r.default.instance.setTopUI(l.default.gameView.DialogCheck), this.tipLabel.string = this.showStr
                }, t.prototype.onClickSure = function() {
                    s.MusicHelper.play_click(), this.closeView(), this.callback(!0)
                }, t.prototype.onClickCancel = function() {
                    s.MusicHelper.play_click(), this.closeView(), this.callback(!1)
                }, t = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig",
        "../utils/MusicHelper": "MusicHelper"
    }],
    DisCountConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3ebb5rTJ9RJe40A4BRc7iQG", "DisCountConfig");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../config/JsonConfigBase"),
            s = e("../../../engine/Logger"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                var i;
                return n(t, e), i = t, t.obj2Config = function(e) {
                    var t = new i;
                    return t.level = e.level, t.version = e.version, t.gold = e.gold, t.chargeid = e.chargeid, t.money = e.money, t.num = e.num, t
                }, t.getConfigBylevel = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        i.level == e && (t = i)
                    }), t
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(parseInt(i), n), n.level = parseInt(i)
                    }), s.Logger.log("DisCountConfig===", this.configMap)
                }, t.Config_Name = "giftConfig", t.configMap = new Map, t = i = o([l], t)
            }(a.JsonConfigBase));
        i.default = c, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../config/JsonConfigBase": "JsonConfigBase"
    }],
    DisCountModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "df7edxvmmFGxrGQ1CNfN+tN", "DisCountModel");
        var n = this && this.__decorate || function(e, t, i, n) {
            var o,
                a = arguments.length,
                s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                s = Reflect.decorate(e, t, i, n);
            else
                for (var r = e.length - 1; r >= 0; r--)
                    (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
            return a > 3 && s && Object.defineProperty(t, i, s), s
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("../../../engine/Logger"),
            a = e("../../../engine/EventManager"),
            s = e("../../event/CommonEvent"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function() {
                function e() {}
                var t;
                return t = e, e.getNumById = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.productId == e + "")
                            return i.prodRepo
                    }
                    return 0
                }, e.getModel = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.productId == e)
                            return i
                    }
                }, e.updateNum = function(e, t) {
                    for (var i = 0; i < this.modelList.length; i++) {
                        var n = this.modelList[i];
                        n.productId == e && (n.prodRepo = t)
                    }
                    a.EventManager.instance.dispatch(s.CommonEvent.Event_DisCount_Change), o.Logger.log("Event_FangShi_Change===", this.modelList)
                }, e.proto2ModelList = function(e) {
                    var i = e.getShopItemListList();
                    this.modelList = [], t.total_charge_num = e.getChargeall();
                    for (var n = 0; n < i.length; n++) {
                        var a = new t;
                        this.modelList.push(a), a.productId = i[n].getProductid(), a.prodRepo = i[n].getProdrepo()
                    }
                    o.Logger.log("DisCountModel==", this.modelList)
                }, e.modelList = [], e = t = n([l], e)
            }());
        i.default = c, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../event/CommonEvent": "CommonEvent"
    }],
    DiscountView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5e404hS44ZNP7TlqzR+5xRw", "DiscountView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../../engine/EventManager"),
            c = e("../../config/ChongZhiConfig"),
            g = e("./DisCountConfig"),
            f = e("../../sdk/SdkHelper"),
            d = e("../../../engine/Logger"),
            h = e("./DisCountModel"),
            u = e("../../utils/MusicHelper"),
            p = e("../../network/SocketClient"),
            m = e("../../event/CommonEvent"),
            C = e("../../config/GameConst"),
            v = e("../../prefab/ItemPrefab"),
            _ = e("../../model/ItemInfoModel"),
            y = cc._decorator,
            M = y.ccclass,
            I = (y.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.startLevel = 1, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    f.default.isIos() && (this.startLevel = 101), l.EventManager.instance.on(m.CommonEvent.Event_DisCount_Change, this.onfresh, this), s.default.instance.setTopUI(r.default.gameView.DiscountView), this.onfresh()
                }, t.prototype.onHide = function() {}, t.prototype.onfresh = function() {
                    for (var e = 0; e < 5; e++) {
                        for (var t = g.default.getConfigBylevel(this.startLevel + e), i = this.findChild(this.node, "scrollView/view/content/item" + e), n = 0; n < t.money.length; n++)
                            if (h.default.total_charge_num <= t.money[n]) {
                                if (t.num[n] <= 0) {
                                    i.active = !1;
                                    break
                                }
                                i.active = !0, i.getChildByName("txtLeft").getComponent(cc.Label).string = h.default.getNumById(t.level) + ""
                            }
                        for (var o = 0; o < t.chargeid.length; o++) {
                            var a = i.getChildByName("btnCharge" + o);
                            this.onAddEvent(a, this.onClickCharge.bind(this, t, t.chargeid[o]));
                            var s = i.getChildByName("btnOver" + o);
                            0 == h.default.getNumById(t.level) ? (s.active = !0, a.active = !1) : (s.active = !1, a.active = !0);
                            var r = i.getChildByName("ItemPrefab" + o),
                                l = c.ChongZhiConfig.getConfigById(t.chargeid[o]);
                            if (r && l.item)
                                if (l.item[C.ItemId.REFINE]) {
                                    var f = l.item[C.ItemId.REFINE];
                                    r.getComponent(v.default).init(_.default.create(C.GameConst.ITEM_KIND.ITEM, C.ItemId.REFINE, f))
                                } else if (l.item[C.ItemId.Book]) {
                                    var d = l.item[C.ItemId.Book];
                                    r.getComponent(v.default).init(_.default.create(C.GameConst.ITEM_KIND.ITEM, C.ItemId.Book, d))
                                }
                            var u = i.getChildByName("txtGold");
                            u && (u.getComponent(cc.Label).string = l.resource[1]), i.getChildByName("txtDefault" + o).getComponent(cc.Label).string = l.o_price + "", a.getChildByName("txtCost").getComponent(cc.Label).string = l.money + ""
                        }
                    }
                }, t.prototype.onClickCharge = function(e, t) {
                    d.Logger.log("onClickCharge==", e, t), u.MusicHelper.play_click(), p.default.s_seq_limitshop(e.level, 1, t)
                }, t.DisCountList = [], t = o([M], t)
            }(a.default));
        i.default = I, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper",
        "../../utils/MusicHelper": "MusicHelper",
        "./DisCountConfig": "DisCountConfig",
        "./DisCountModel": "DisCountModel"
    }],
    DropDownBox: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5e30cV73aNDqpW3f6IAcMiS", "DropDownBox");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/EventManager"),
            r = e("../../event/CommonEvent"),
            l = e("../../model/SettingModel"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.currSelet = 0, t.itemList = [], t
                }
                var i;
                return n(t, e), i = t, t.prototype.onLoad = function() {}, t.prototype.onShow = function() {}, t.prototype.onEnable = function() {
                    s.EventManager.instance.on(r.CommonEvent.Event_SettingBgClick, this.hideDropBox, this)
                }, t.prototype.init = function(e, t) {
                    void 0 === e && (e = []), this.dropType = t, this.itemList = e, this.item = this.findChild(this.node, "Template/view/content/item"), this.item.active = !1, this.template = this.findChild(this.node, "Template"), this.template.active = !1, this.labelCaption = this.findChild(this.node, "DropDownBox/LabelCaption");
                    for (var n = 0; n < this.itemList.length; n++) {
                        var o = cc.instantiate(this.item);
                        o.active = !0, this.dropType == i.levelType ? o.getChildByName("Label").getComponent(cc.Label).string = this.itemList[n] + "\u7ea7" : this.dropType == i.runeType ? o.getChildByName("Label").getComponent(cc.Label).string = this.itemList[n] : this.dropType == i.pensentType && (o.getChildByName("Label").getComponent(cc.Label).string = this.itemList[n] + "%"), o.parent = this.item.parent, o.on(cc.Node.EventType.TOUCH_END, this.itemCallBack.bind(this, n))
                    }
                    this.dropType == i.levelType ? (this.currSelet = l.SettingModel.levelSelet, this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] + "\u7ea7" : this.labelCaption.getComponent(cc.Label).string = this.itemList[0] + "\u7ea7") : this.dropType == i.runeType ? (this.currSelet = l.SettingModel.runeList1.indexOf(l.SettingModel.runeSelet), this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] : this.labelCaption.getComponent(cc.Label).string = this.itemList[0]) : this.dropType == i.pensentType && (this.currSelet = l.SettingModel.persentSelet, this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] + "%" : this.labelCaption.getComponent(cc.Label).string = this.itemList[0])
                }, t.prototype.itemCallBack = function(e) {
                    this.currSelet = e, this.dropType == i.levelType ? this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] + "\u7ea7" : this.labelCaption.getComponent(cc.Label).string = this.itemList[0] + "\u7ea7" : this.dropType == i.runeType ? this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] : this.labelCaption.getComponent(cc.Label).string = this.itemList[0] : this.dropType == i.pensentType && (this.itemList[this.currSelet] ? this.labelCaption.getComponent(cc.Label).string = this.itemList[this.currSelet] + "%" : this.labelCaption.getComponent(cc.Label).string = this.itemList[0]), this.template.active = !1, this.dropType == i.levelType ? l.SettingModel.changeLevelSelet(this.currSelet) : this.dropType == i.runeType ? l.SettingModel.changeRuneSelet(this.currSelet) : this.dropType == i.pensentType && l.SettingModel.changePersentSelet(this.currSelet)
                }, t.prototype.showDropBox = function() {
                    s.EventManager.instance.dispatch(r.CommonEvent.Event_SettingBgClick), this.template.active = !0
                }, t.prototype.hideDropBox = function() {
                    this.template.active = !1
                }, t.levelType = 1, t.runeType = 2, t.pensentType = 3, t = i = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/SettingModel": "SettingModel"
    }],
    EquipConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0fc34i0fMlFXIjRqjwAly48", "EquipConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../../engine/Logger"),
            s = e("../../engine/RandomUtil"),
            r = e("./GameConst"),
            l = e("./MagicNameConfig"),
            c = e("../model/MagicModel"),
            g = e("./RandomFuMoConfig"),
            f = e("./RandomFuMoEntryConfig"),
            d = e("./ColorConfig"),
            h = e("../model/RoleInfoModel"),
            u = e("../model/SettingModel"),
            p = e("./SpriteFrameConfig"),
            m = e("../model/PrivilegeModel"),
            C = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.d_jipin = {
                        atk: 0,
                        def: 0,
                        hp: 0,
                        mag: 0,
                        spt: 48
                    }, t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    for (var n in e)
                        "function" != typeof e[n] && (i[n] = e[n]);
                    return i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.id = i, t.configMap.set(i, n)
                    })
                }, t.getEquipConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getProName = function(e) {
                    return ["\u901a\u7528", "\u6218\u58eb", "\u6cd5\u5e08", "\u9053\u58eb"][e]
                }, t.getCanMakeEquipConfig = function(e) {
                    var t = [],
                        i = 10 * Math.floor(e / 10) + 10;
                    this.configMap.forEach(function(e, n) {
                        e.level >= i - 10 && e.level < i && t.push(e)
                    });
                    for (var n = t.length - 1; n >= 0; n--) {
                        var o = t[n];
                        1 == o.dingzhi ? t.splice(n, 1) : o.pro != h.default.instance.occupation && o.pro != r.GameConst.OCCUPATION.None && t.splice(n, 1)
                    }
                    return t = s.default.randomArr(t, 3)
                }, t.setMarkSprite = function(e, t) {
                    var i = e || 0;
                    t && t(null, p.SpriteFrameConfig.occupation_spriteframe.get(i))
                }, t.randomBaseAddAttrList = function(e, t) {
                    var i,
                        n = 0,
                        o = [];
                    if (e == r.GameConst.QUALITY.GREEN ? i = t.Magic : e == r.GameConst.QUALITY.BLUE ? i = t.Rare : e == r.GameConst.QUALITY.PURPLE ? i = t.Legendary : e == r.GameConst.QUALITY.ORANGE && (i = t.ancient), i) {
                        var a = [];
                        n = s.default.nextInt(i[0], i[1]);
                        var g = s.default.randomIndexByPercent(t.Quality_entry) + 1,
                            f = Math.ceil(n / 2),
                            d = Math.floor(n / 4);
                        d <= 0 && (d = 1);
                        for (var h = 0; h < g - 1; h++) {
                            var u = s.default.nextInt(d, f);
                            a[h] = u, (n -= u) <= 0 && (n = 1)
                        }
                        var p = [];
                        a.push(n);
                        var m = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def],
                            C = t.Quality_value.concat();
                        for (h = 0; h < g; h++) {
                            var v = s.default.randomIndexByPercent(C);
                            (M = new c.default).magicId = m[v], M.magicValue = a[h], C.splice(v, 1), m.splice(v, 1), p.push(M)
                        }
                        var _ = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def];
                        for (h = 0; h < _.length; h++)
                            for (var y = 0; y < p.length; y++) {
                                var M;
                                (M = p[y]).magicId == _[h] && o.push(M)
                            }
                    }
                    return o
                }, t.randomAddAttrList = function(e, t, i) {
                    void 0 === i && (i = []);
                    for (var n = [], o = e, r = g.RandomFuMoConfig.getMagicListByPosition(t.position), d = f.RandomFuMoEntryConfig.getRandomFuMoEntry(t.position, t.level), h = [d.atk, d.mag, d.spt, d.def, d.speed, d.DamageReduction, d.BonusDamage, d.HpDrain, d.MpDrain, d.magic_find1, d.equip_times, d.lucky, d.hp, d.mp, d.atk_p, d.mag_p, d.spt_p, d.hp_p, d.mp_p], u = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def, l.MagicNameConfig.MagicId.speed, l.MagicNameConfig.MagicId.DamageReduction, l.MagicNameConfig.MagicId.BonusDamage, l.MagicNameConfig.MagicId.HpDrain, l.MagicNameConfig.MagicId.MpDrain, l.MagicNameConfig.MagicId.magic_find1, l.MagicNameConfig.MagicId.equip_times, l.MagicNameConfig.MagicId.lucky, l.MagicNameConfig.MagicId.hp, l.MagicNameConfig.MagicId.mp, l.MagicNameConfig.MagicId.atk_p, l.MagicNameConfig.MagicId.mag_p, l.MagicNameConfig.MagicId.spt_p, l.MagicNameConfig.MagicId.hp_p, l.MagicNameConfig.MagicId.mp_p], p = [], m = 0; m < u.length; m++)
                        p[m] = 0;
                    i && i.length > 0 && (p = i);
                    for (m = 0; m < o; m++) {
                        var C = s.default.randomIndexByPercent(h),
                            v = u[C],
                            _ = g.RandomFuMoConfig.getOneRandomFuMoConfig(r, v);
                        if (_) {
                            h[C] *= _.attenuation / 1e4, p[C]++, p[C] >= _.statnum && (p.splice(C, 1), u.splice(C, 1), h.splice(C, 1));
                            var y = new c.default;
                            y.magicId = v;
                            var M = g.RandomFuMoConfig.getMagicValueByConfig(_, t.level);
                            y.magicValue = s.default.nextInt(M[0], M[1]), n.push(y)
                        } else
                            a.Logger.warn("\u968f\u673a\u5230\u4e0d\u5bf9\u7684\u9644\u9b54")
                    }
                    return n
                }, t.getRandomAttColor = function(e, t) {
                    var i = this.getRandomAttrQuality(e, t);
                    return d.ColorConfig.getEquipQualityColor(i)
                }, t.getRandomAttrQuality = function(e, t) {
                    var i = g.RandomFuMoConfig.getRandomFuMoConfig(e, t.magicId),
                        n = g.RandomFuMoConfig.getMagicValueByConfig(i, e.level),
                        o = Math.ceil(t.magicValue / n[1] * 100);
                    return 100 == o ? r.GameConst.QUALITY.ORANGE : o >= 90 ? r.GameConst.QUALITY.PURPLE : o >= 80 ? r.GameConst.QUALITY.BLUE : o >= 70 ? r.GameConst.QUALITY.GREEN : r.GameConst.QUALITY.WHITE
                }, t.getColorByCurrAndMax = function(e, t) {
                    var i = Math.ceil(e / t * 100),
                        n = r.GameConst.QUALITY.WHITE;
                    return n = 100 == i ? r.GameConst.QUALITY.ORANGE : i >= 90 ? r.GameConst.QUALITY.PURPLE : i >= 80 ? r.GameConst.QUALITY.BLUE : i >= 70 ? r.GameConst.QUALITY.GREEN : r.GameConst.QUALITY.WHITE, d.ColorConfig.getEquipQualityColor(n)
                }, t.getMagicModelByMagicId = function(e, t) {
                    for (var i = 0; i < t.length; i++)
                        if (t[i].magicId == e)
                            return t[i];
                    return null
                }, t.getTotalBaseAtriList = function(e, i) {
                    for (var n = t.getEquipConfigById(e), o = [], a = 0; a < i.length; a++)
                        o[a] = i[a].clone();
                    var s = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def, l.MagicNameConfig.MagicId.hp];
                    for (a = 0; a < s.length; a++) {
                        var r = this.getMagicModelByMagicId(s[a], o),
                            g = s[a],
                            f = 0;
                        r && (f = r.magicValue), g == l.MagicNameConfig.MagicId.atk ? f += n.atk : g == l.MagicNameConfig.MagicId.mag ? f += n.mag : g == l.MagicNameConfig.MagicId.spt ? f += n.spt : g == l.MagicNameConfig.MagicId.def ? f += n.def : g == l.MagicNameConfig.MagicId.hp && (f += n.hp), !r && f > 0 && ((r = new c.default).magicId = g, o.push(r)), r && (r.magicValue = f)
                    }
                    return o
                }, t.getLunHuiZhiLi = function(e, i, n) {
                    for (var o = 0, s = this.getTotalBaseAtriList(e, i), c = t.getEquipConfigById(e), g = 0; g < s.length; g++) {
                        var f = (m = s[g]).magicId,
                            d = m.magicValue,
                            u = 0;
                        (m.magicId == l.MagicNameConfig.MagicId.atk || m.magicId == l.MagicNameConfig.MagicId.mag || m.magicId == l.MagicNameConfig.MagicId.spt || m.magicId == l.MagicNameConfig.MagicId.atk_p || m.magicId == l.MagicNameConfig.MagicId.mag_p || m.magicId == l.MagicNameConfig.MagicId.spt_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.ZHAN_SHI || m.magicId != l.MagicNameConfig.MagicId.atk && m.magicId != l.MagicNameConfig.MagicId.atk_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.FA_SHI || m.magicId != l.MagicNameConfig.MagicId.mag && m.magicId != l.MagicNameConfig.MagicId.mag_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.DAO_SHI || m.magicId != l.MagicNameConfig.MagicId.spt && m.magicId != l.MagicNameConfig.MagicId.spt_p) || (u = l.MagicNameConfig.getZhanLi(f, d)), o += u
                    }
                    var p = 0;
                    for (g = 0; g < n.length; g++) {
                        var m,
                            C = (m = n[g]).color;
                        (m.magicId == l.MagicNameConfig.MagicId.atk || m.magicId == l.MagicNameConfig.MagicId.mag || m.magicId == l.MagicNameConfig.MagicId.spt || m.magicId == l.MagicNameConfig.MagicId.atk_p || m.magicId == l.MagicNameConfig.MagicId.mag_p || m.magicId == l.MagicNameConfig.MagicId.spt_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.ZHAN_SHI || m.magicId != l.MagicNameConfig.MagicId.atk && m.magicId != l.MagicNameConfig.MagicId.atk_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.FA_SHI || m.magicId != l.MagicNameConfig.MagicId.mag && m.magicId != l.MagicNameConfig.MagicId.mag_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.DAO_SHI || m.magicId != l.MagicNameConfig.MagicId.spt && m.magicId != l.MagicNameConfig.MagicId.spt_p) || (p += c.xilian_zhanli[C])
                    }
                    var v = o + p;
                    return a.Logger.log("\u8fd4\u56de\u666e\u901a\u88c5\u5907\u51e1\u4eba\u4e4b\u529b=", s, i, o, p, v), Math.ceil(v)
                }, t.getFanRenZhiLi = function(e, i, n) {
                    for (var o = 0, a = this.getTotalBaseAtriList(e, i), s = t.getEquipConfigById(e), c = 0; c < a.length; c++) {
                        var g = (p = a[c]).magicId,
                            f = p.magicValue,
                            d = 0;
                        (p.magicId == l.MagicNameConfig.MagicId.atk || p.magicId == l.MagicNameConfig.MagicId.mag || p.magicId == l.MagicNameConfig.MagicId.spt || p.magicId == l.MagicNameConfig.MagicId.atk_p || p.magicId == l.MagicNameConfig.MagicId.mag_p || p.magicId == l.MagicNameConfig.MagicId.spt_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.ZHAN_SHI || p.magicId != l.MagicNameConfig.MagicId.atk && p.magicId != l.MagicNameConfig.MagicId.atk_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.FA_SHI || p.magicId != l.MagicNameConfig.MagicId.mag && p.magicId != l.MagicNameConfig.MagicId.mag_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.DAO_SHI || p.magicId != l.MagicNameConfig.MagicId.spt && p.magicId != l.MagicNameConfig.MagicId.spt_p) || (d = l.MagicNameConfig.getZhanLi(g, f)), o += d
                    }
                    var u = 0;
                    for (c = 0; c < n.length; c++) {
                        var p = n[c],
                            m = this.getRandomAttrQuality(s, p);
                        (p.magicId == l.MagicNameConfig.MagicId.atk || p.magicId == l.MagicNameConfig.MagicId.mag || p.magicId == l.MagicNameConfig.MagicId.spt || p.magicId == l.MagicNameConfig.MagicId.atk_p || p.magicId == l.MagicNameConfig.MagicId.mag_p || p.magicId == l.MagicNameConfig.MagicId.spt_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.ZHAN_SHI || p.magicId != l.MagicNameConfig.MagicId.atk && p.magicId != l.MagicNameConfig.MagicId.atk_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.FA_SHI || p.magicId != l.MagicNameConfig.MagicId.mag && p.magicId != l.MagicNameConfig.MagicId.mag_p) && (h.default.instance.occupation != r.GameConst.OCCUPATION.DAO_SHI || p.magicId != l.MagicNameConfig.MagicId.spt && p.magicId != l.MagicNameConfig.MagicId.spt_p) || (u += s.xilian_zhanli[m])
                    }
                    var C = o + u;
                    return Math.ceil(C)
                }, t.getFanRenZhiLiByDingZhi = function(e) {
                    var t = 0;
                    for (var i in e.d_jipin)
                        if (e.d_jipin[i] > 0) {
                            var n = parseInt(i),
                                o = e.d_jipin[i],
                                s = 0;
                            n == l.MagicNameConfig.MagicId.atk || n == l.MagicNameConfig.MagicId.mag || n == l.MagicNameConfig.MagicId.spt ? h.default.instance.occupation == r.GameConst.OCCUPATION.ZHAN_SHI && n == l.MagicNameConfig.MagicId.atk ? s = l.MagicNameConfig.getZhanLi(n, o) : h.default.instance.occupation == r.GameConst.OCCUPATION.FA_SHI && n == l.MagicNameConfig.MagicId.mag ? s = l.MagicNameConfig.getZhanLi(n, o) : h.default.instance.occupation == r.GameConst.OCCUPATION.DAO_SHI && n == l.MagicNameConfig.MagicId.spt && (s = l.MagicNameConfig.getZhanLi(n, o)) : s = l.MagicNameConfig.getZhanLi(n, o), t += s
                        }
                    var c = 0;
                    for (var i in e.d_suiji)
                        e.d_suiji[i] > 0 && (c += e.xilian_zhanli[e.xilian_zhanli.length - 1]);
                    var g = t + c;
                    return a.Logger.log("\u8fd4\u56de\u5b9a\u5236\u88c5\u5907\u51e1\u4eba\u4e4b\u529b=", t, c, g), Math.ceil(g)
                }, t.getGridTypeByPart = function(e, t) {
                    void 0 === t && (t = !0);
                    var i = -1;
                    switch (e) {
                    case r.Position.WEAPON:
                        i = r.GridType.WEAPON;
                        break;
                    case r.Position.CORSELET:
                        i = r.GridType.CORSELET;
                        break;
                    case r.Position.BRACELET:
                        i = t ? r.GridType.BRACELET_lEFT : r.GridType.BRACELET_RIGHT;
                        break;
                    case r.Position.RING:
                        i = t ? r.GridType.RING_LEFT : r.GridType.RING_RIGHT;
                        break;
                    case r.Position.BELT:
                        i = r.GridType.BELT;
                        break;
                    case r.Position.HELMET:
                        i = r.GridType.HELMET;
                        break;
                    case r.Position.NECK_LACE:
                        i = r.GridType.NECK_LACE;
                        break;
                    case r.Position.SHOE:
                        i = r.GridType.SHOE;
                        break;
                    case r.Position.WEAPON_lunhui:
                        i = r.GridType.WEAPON_lunhui;
                        break;
                    case r.Position.CORSELET_lunhui:
                        i = r.GridType.CORSELET_lunhui;
                        break;
                    case r.Position.BRACELET_lunhui:
                        i = t ? r.GridType.BRACELET_lEFT_lunhui : r.GridType.BRACELET_RIGHT_lunhui;
                        break;
                    case r.Position.RING_lunhui:
                        i = t ? r.GridType.RING_LEFT_lunhui : r.GridType.RING_RIGHT_lunhui;
                        break;
                    case r.Position.BELT_lunhui:
                        i = r.GridType.BELT_lunhui;
                        break;
                    case r.Position.HELMET_lunhui:
                        i = r.GridType.HELMET_lunhui;
                        break;
                    case r.Position.NECK_LACE_lunhui:
                        i = r.GridType.NECK_LACE_lunhui;
                        break;
                    case r.Position.SHOE_lunhui:
                        i = r.GridType.SHOE_lunhui
                    }
                    return i
                }, t.checkAutoRecover = function(e, t) {
                    var i = !1;
                    if (u.SettingModel.notItselfEq && t.pro != h.default.instance.occupation && t.pro != r.GameConst.OCCUPATION.None ? i = !0 : u.SettingModel.ordinaryEq && e <= r.GameConst.QUALITY.WHITE ? i = !0 : u.SettingModel.excellentEq && e <= r.GameConst.QUALITY.GREEN ? i = !0 : u.SettingModel.excellentEqs && e <= r.GameConst.QUALITY.BLUE && (i = !0), i) {
                        var n = {
                            count: 0,
                            price: 0,
                            cream: 0,
                            quality: e,
                            name: t.name
                        };
                        return m.default.hadRecoveryPrivilege() ? (n.price = Math.floor(parseInt(t.price[e].split(":")[1])), n.cream = Math.floor(parseInt(t.recov_cream[e].split(":")[1]))) : (n.price = Math.floor(.5 * parseInt(t.price[e].split(":")[1])), n.cream = Math.floor(.5 * parseInt(t.recov_cream[e].split(":")[1]))), n
                    }
                    return null
                }, t.prototype.getPrice = function(e) {
                    return Math.floor(parseInt(this.price[e].split(":")[1]))
                }, t.getWorld = function(e) {
                    return t.getEquipConfigById(e).world
                }, t.RecoveryCoinConfig = [1, 4, 6, 8, 10], t.RecoveryCreamConfig = [1, 2, 6, 30, 300], t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.EquipConfig = C, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/RandomUtil": "RandomUtil",
        "../model/MagicModel": "MagicModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/SettingModel": "SettingModel",
        "./ColorConfig": "ColorConfig",
        "./GameConst": "GameConst",
        "./JsonConfigBase": "JsonConfigBase",
        "./MagicNameConfig": "MagicNameConfig",
        "./RandomFuMoConfig": "RandomFuMoConfig",
        "./RandomFuMoEntryConfig": "RandomFuMoEntryConfig",
        "./SpriteFrameConfig": "SpriteFrameConfig"
    }],
    EquipContrastView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "220d5/yLutJ+5WD28lMrQZy", "EquipContrastView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/MusicHelper"),
            r = e("../config/ColorConfig"),
            l = e("../model/RoleInfoModel"),
            c = e("../model/ItemInfoModel"),
            g = e("../model/MakeEquipModel"),
            f = e("../config/EquipConfig"),
            d = e("../../engine/UIManager"),
            h = e("../config/ViewConfig"),
            u = e("../config/GameConst"),
            p = e("../config/MagicNameConfig"),
            m = e("../model/MagicModel"),
            C = e("../config/RandomFuMoConfig"),
            v = e("../../engine/Logger"),
            _ = e("../config/MapConfig"),
            y = e("../config/RuneConfig"),
            M = e("../prefab/ItemPrefab"),
            I = e("../config/JingJieConfig"),
            b = e("../model/BlessModel"),
            L = cc._decorator,
            w = L.ccclass,
            S = (L.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.model = null, t.config = null, t.normalPanel = null, t.ornamentsPanel = null, t.normalNodeList = [], t.ornamentsNodeList = [], t.wearBtnNodeList = [], t.closeCallFun = null, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e, t) {
                    void 0 === t && (t = null), this.model = e, this.closeCallFun = t, this.config = i.autoGetEquipConfig(this.model)
                }, t.prototype.onShow = function() {
                    if (d.default.instance.setTopUI(h.default.gameView.equipContrastView), this.normalPanel = this.node.getChildByName("normalPanel"), this.ornamentsPanel = this.node.getChildByName("ornamentsPanel"), this.normalNodeList.push(this.findChild(this.node, "normalPanel/node_1")), this.normalNodeList.push(this.findChild(this.node, "normalPanel/node_2")), this.ornamentsNodeList.push(this.findChild(this.node, "ornamentsPanel/node_1")), this.ornamentsNodeList.push(this.findChild(this.node, "ornamentsPanel/node_2")), this.ornamentsNodeList.push(this.findChild(this.node, "ornamentsPanel/node_3")), this.wearBtnNodeList.push(this.findChild(this.node, "normalPanel/node_2/btnWear_1")), this.wearBtnNodeList.push(this.findChild(this.node, "ornamentsPanel/node_3/btnWear_1")), this.wearBtnNodeList.push(this.findChild(this.node, "ornamentsPanel/node_3/btnWear_2")), this.model instanceof g.default)
                        for (var e = 0; e < this.wearBtnNodeList.length; e++)
                            this.wearBtnNodeList[e].active = !1;
                    else if (this.model instanceof c.default)
                        for (e = 0; e < this.wearBtnNodeList.length; e++)
                            this.wearBtnNodeList[e].on(cc.Node.EventType.TOUCH_END, this.onClickWear.bind(this, e));
                    if ((this.model ? c.default.getItemAmountById(this.model.itemId) : c.default.getItemAmount(this.model.itemType)) <= 0)
                        for (e = 0; e < this.wearBtnNodeList.length; e++)
                            this.wearBtnNodeList[e].active = !1;
                    if (null != this.model)
                        if (this.config.position == u.Position.BRACELET || this.config.position == u.Position.BRACELET_lunhui) {
                            this.normalPanel.active = !1, this.ornamentsPanel.active = !0;
                            var t = void 0,
                                i = void 0;
                            if (this.config.position == u.Position.BRACELET ? (t = l.default.instance.getEquipModelByGrid(u.GridType.BRACELET_lEFT), i = l.default.instance.getEquipModelByGrid(u.GridType.BRACELET_RIGHT)) : this.config.position == u.Position.BRACELET_lunhui && (t = l.default.instance.getEquipModelByGrid(u.GridType.BRACELET_lEFT_lunhui), i = l.default.instance.getEquipModelByGrid(u.GridType.BRACELET_RIGHT_lunhui)), t && i)
                                this.normalPanel.active = !1, this.ornamentsPanel.active = !0, this.refreshOrnamentsNode(this.ornamentsNodeList[0], t), this.refreshOrnamentsNode(this.ornamentsNodeList[1], i), this.refreshOrnamentsNode(this.ornamentsNodeList[2], this.model);
                            else {
                                this.normalPanel.active = !0, this.ornamentsPanel.active = !1;
                                var n = t || i;
                                this.refreshNormalNode(this.normalNodeList[0], n), this.refreshNormalNode(this.normalNodeList[1], this.model)
                            }
                        } else if (this.config.position == u.Position.RING || this.config.position == u.Position.RING_lunhui) {
                            t = void 0, i = void 0;
                            if (this.config.position == u.Position.RING ? (t = l.default.instance.getEquipModelByGrid(u.GridType.RING_LEFT), i = l.default.instance.getEquipModelByGrid(u.GridType.RING_RIGHT)) : this.config.position == u.Position.RING_lunhui && (t = l.default.instance.getEquipModelByGrid(u.GridType.RING_LEFT_lunhui), i = l.default.instance.getEquipModelByGrid(u.GridType.RING_RIGHT_lunhui)), t && i)
                                this.normalPanel.active = !1, this.ornamentsPanel.active = !0, this.refreshOrnamentsNode(this.ornamentsNodeList[0], t), this.refreshOrnamentsNode(this.ornamentsNodeList[1], i), this.refreshOrnamentsNode(this.ornamentsNodeList[2], this.model);
                            else {
                                this.normalPanel.active = !0, this.ornamentsPanel.active = !1;
                                n = t || i;
                                this.refreshNormalNode(this.normalNodeList[0], n), this.refreshNormalNode(this.normalNodeList[1], this.model)
                            }
                        } else {
                            this.normalPanel.active = !0, this.ornamentsPanel.active = !1;
                            n = l.default.instance.getEquipModelByGrid(this.config.position);
                            this.refreshNormalNode(this.normalNodeList[0], n), this.refreshNormalNode(this.normalNodeList[1], this.model)
                        }
                    else
                        v.Logger.error("\u6ca1\u6709\u88c5\u5907\u7684\u4fe1\u606f")
                }, t.prototype.refreshNormalNode = function(e, t) {
                    var n = i.autoGetEquipConfig(t);
                    this.refreshEquip(e, t, n), this.refreshAttriInfo(e, t, n);
                    var o = this.findChild(e, "img_bg_shuxing/txtLaicalPower");
                    this.getChild(e, "img_bg_shuxing/txtFightName", cc.Label).string = I.JingJieConfig.getDesc(n.world) + ":", 1 == n.dingzhi && n.world == _.MapConfig.WORLD.FanRen ? o.getComponent(cc.Label).string = f.EquipConfig.getFanRenZhiLiByDingZhi(n) + "" : n.world == _.MapConfig.WORLD.FanRen ? o.getComponent(cc.Label).string = f.EquipConfig.getFanRenZhiLi(t.itemType, t.baseAddAttrList, t.randAttrList) + "" : n.world == _.MapConfig.WORLD.LunHui && (o.getComponent(cc.Label).string = f.EquipConfig.getLunHuiZhiLi(t.itemType, t.baseAddAttrList, t.fuwenAtriList) + "")
                }, t.prototype.refreshOrnamentsNode = function(e, t) {
                    var n = i.autoGetEquipConfig(t);
                    this.refreshEquip(e, t, n), this.refreshAttriInfo(e, t, n);
                    var o = this.findChild(e, "img_bg_shuxing/txtLaicalPower");
                    this.getChild(e, "img_bg_shuxing/txtFightName", cc.Label).string = I.JingJieConfig.getDesc(n.world) + ":", 1 == n.dingzhi && n.world == _.MapConfig.WORLD.FanRen ? o.getComponent(cc.Label).string = f.EquipConfig.getFanRenZhiLiByDingZhi(n) + "" : n.world == _.MapConfig.WORLD.FanRen ? o.getComponent(cc.Label).string = f.EquipConfig.getFanRenZhiLi(t.itemType, t.baseAddAttrList, t.randAttrList) + "" : n.world == _.MapConfig.WORLD.LunHui && (o.getComponent(cc.Label).string = f.EquipConfig.getLunHuiZhiLi(t.itemType, t.baseAddAttrList, t.fuwenAtriList) + "")
                }, t.prototype.refreshEquip = function(e, t, i) {
                    this.findChild(e, "showItem").getComponent(M.default).init(t);
                    var n = e.getChildByName("showItem").getChildByName("isWearableSprite");
                    null == t ? n && (n.active = !1) : n && (n.active = !0)
                }, t.prototype.refreshAttriInfo = function(e, t, i) {
                    var n = this.findChild(e, "scrollView/view/content");
                    for (var o in n.children)
                        "temporary" == n.children[o].name && n.children[o].removeFromParent();
                    var a = this.findChild(e, "scrollView/view/content/itemInfo");
                    a.active = !1;
                    var s = this.findChild(e, "scrollView/view/content/itemRandomNode");
                    s.active = !1;
                    var l = this.findChild(e, "scrollView/view/content/itemFuWen");
                    l.active = !1;
                    var c = this.findChild(e, "scrollView/view/content/itemGodNode");
                    c.active = !1;
                    var g = this.findChild(e, "scrollView/view/content/itemGodInfo");
                    if (g.active = !1, t && i) {
                        var f = [p.MagicNameConfig.MagicId.atk, p.MagicNameConfig.MagicId.mag, p.MagicNameConfig.MagicId.spt, p.MagicNameConfig.MagicId.def, p.MagicNameConfig.MagicId.hp],
                            d = ["atk", "mag", "spt", "def", "hp"];
                        for (o = 0; o < f.length; o++) {
                            (M = cc.instantiate(a)).parent = a.parent, M.active = !0, M.name = "temporary", this.updateBaseText(M, t, i[d[o]], f[o])
                        }
                        if (t.blessAtttList.length > 0) {
                            var h = cc.instantiate(c);
                            h.parent = c.parent, h.active = !0;
                            var u = cc.instantiate(g);
                            u.parent = g.parent, u.active = !0, this.updateGodText(h, u, t)
                        }
                        if (i.world == _.MapConfig.WORLD.FanRen) {
                            if (t.randAttrList.length > 0) {
                                var C = cc.instantiate(s);
                                C.parent = s.parent, C.active = !0, C.name = "temporary"
                            }
                            for (o = 0; o < t.randAttrList.length; o++) {
                                var M,
                                    I = t.randAttrList[o];
                                (M = cc.instantiate(a)).parent = a.parent, M.active = !0, M.name = "temporary", this.updateRandomText(M, I, i)
                            }
                        } else if (i.world == _.MapConfig.WORLD.LunHui) {
                            var b = y.RuneConfig.getRuneById(t.fuwenId);
                            if (b) {
                                l.active = !0, l.zIndex = 2, v.Logger.log("runConfig==========================", t, b);
                                var L = l.getChildByName("txtFuWenName");
                                L.getChildByName("txtName").getComponent(cc.Label).string = b.name;
                                var w = L.getChildByName("txtStatus").getComponent(cc.Label);
                                t.fuwenActive ? (w.string = "(\u5df2\u6fc0\u6d3b)", w.node.color = r.ColorConfig.GreenColor) : (w.string = "(\u672a\u6fc0\u6d3b)", w.node.color = r.ColorConfig.RedColor);
                                var S = l.getChildByName("imgPro").getChildByName("itemInfo");
                                S.active = !1;
                                for (o = 0; o < t.fuwenAtriList.length; o++) {
                                    var E = cc.instantiate(S);
                                    E.active = !0, E.parent = S.parent;
                                    var k = E.getChildByName("leftNode"),
                                        T = k.getChildByName("txtDesc").getComponent(cc.Label);
                                    T.string = p.MagicNameConfig.getDesc(t.fuwenAtriList[o].magicId) + ":";
                                    var N = k.getChildByName("txtDefaultValue").getComponent(cc.Label);
                                    N.string = "" + m.default.formatMagicValue(t.fuwenAtriList[o].magicId, t.fuwenAtriList[o].magicValue), N.node.x = T.node.x + T.node.width;
                                    var R = E.getChildByName("txtExtra").getComponent(cc.Label);
                                    R.string = "(\u4e0a\u9650" + m.default.formatMagicValue(t.fuwenAtriList[o].magicId, t.fuwenAtriList[o].max) + ")", R.node.color = r.ColorConfig.GreenColor, t.fuwenActive ? (T.node.color = r.ColorConfig.getEquipQualityColor(t.fuwenAtriList[o].color), R.node.color = r.ColorConfig.GreenColor) : (T.node.color = r.ColorConfig.hexToColor("#6f6f6f"), N.node.color = r.ColorConfig.hexToColor("#6f6f6f"), R.node.color = r.ColorConfig.hexToColor("#6f6f6f"))
                                }
                            }
                        }
                    }
                }, t.prototype.updateBaseText = function(e, t, i, n) {
                    var o = e.getChildByName("itemInfo").getChildByName("txtDesc"),
                        a = e.getChildByName("itemInfo").getChildByName("txtDefaultValue"),
                        s = e.getChildByName("txtExtra"),
                        r = f.EquipConfig.getEquipConfigById(t.itemType),
                        l = t.getBaseAddValue(n),
                        c = l;
                    1 == r.dingzhi ? c = r.d_jipin[n] : n == p.MagicNameConfig.MagicId.atk ? c += r.atk : n == p.MagicNameConfig.MagicId.mag ? c += r.mag : n == p.MagicNameConfig.MagicId.spt ? c += r.spt : n == p.MagicNameConfig.MagicId.def ? c += r.def : n == p.MagicNameConfig.MagicId.hp && (c += r.hp), c > 0 ? (o.getComponent(cc.Label).string = p.MagicNameConfig.getDesc(n) + ":", a.getComponent(cc.Label).string = "" + c, r.dingzhi, s.getComponent(cc.Label).string = "(" + l + ")", s.active = l > 0) : e.active = !1
                }, t.prototype.updateGodText = function(e, t, i) {
                    for (var n = 0; n < i.blessAtttList.length; n++)
                        t.getChildByName("txtDesc").getComponent(cc.Label).string = b.default.getdes(i.blessAtttList[n].blessId, i.blessAtttList[n].blessValue) + "\n"
                }, t.prototype.updateRandomText = function(e, t, i) {
                    var n = e.getChildByName("itemInfo").getChildByName("txtDesc"),
                        o = e.getChildByName("itemInfo").getChildByName("txtDefaultValue"),
                        a = e.getChildByName("txtExtra");
                    n.active = !1;
                    var s = C.RandomFuMoConfig.getRandomFuMoConfig(i, t.magicId);
                    if (s) {
                        var l = C.RandomFuMoConfig.getMagicValueByConfig(s, i.level);
                        l ? (o.getComponent(cc.Label).string = p.MagicNameConfig.getDesc(t.magicId) + ":" + m.default.formatMagicValue(t.magicId, t.magicValue), 1 == i.dingzhi ? (a.getComponent(cc.Label).string = "(\u4e0a\u9650" + m.default.formatMagicValue(t.magicId, t.magicValue) + ")", a.color = r.ColorConfig.hexToColor("#df1500"), n.color = r.ColorConfig.hexToColor("#df1500"), o.color = r.ColorConfig.hexToColor("#df1500")) : (o.color = f.EquipConfig.getRandomAttColor(i, t), n.color = f.EquipConfig.getRandomAttColor(i, t), a.getComponent(cc.Label).string = "(\u4e0a\u9650" + m.default.formatMagicValue(t.magicId, l[1]) + ")", a.color = f.EquipConfig.getRandomAttColor(i, t))) : e.active = !1
                    } else
                        e.active = !1
                }, t.autoGetEquipConfig = function(e) {
                    var t = null;
                    return e instanceof g.default ? t = f.EquipConfig.getEquipConfigById(e.itemType) : e instanceof c.default && (t = f.EquipConfig.getEquipConfigById(e.itemType)), t
                }, t.prototype.onClickWear = function(e) {
                    if (s.MusicHelper.play_click(), this.model instanceof c.default) {
                        var t = f.EquipConfig.getGridTypeByPart(this.config.position, !(e > 1));
                        l.default.instance.addEquip(t, this.model.itemId) == u.ADD_EQ.SUCCESS && this.onClose()
                    }
                }, t.prototype.onClickClose = function() {
                    s.MusicHelper.play_click(), this.onClose()
                }, t.prototype.onClose = function() {
                    this.closeCallFun && this.closeCallFun(), this.closeView()
                }, t = i = o([w], t)
            }(a.default));
        i.default = S, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConst": "GameConst",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/MapConfig": "MapConfig",
        "../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../config/RuneConfig": "RuneConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/BlessModel": "BlessModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/MagicModel": "MagicModel",
        "../model/MakeEquipModel": "MakeEquipModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../utils/MusicHelper": "MusicHelper"
    }],
    EquipGatherConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e88fdoNYvFHOKOKtxW1c2Jv", "EquipGatherConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("./GameConst"),
            s = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.loot_id = "l_xinshou_1", t.weight = [100, 100, 100], t.item_id = ["E100001", "E100002", "E100016"], t.drop_num = [1, 1, 1], t.type = 0, t.itemKind = 2, t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    for (var n in e)
                        "function" != typeof e[n] && (i[n] = e[n]);
                    return i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    })
                }, t.getEquipGatherConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e != i.id || (t = i)
                    }), t
                }, t.getEquipTimesByQuality = function(e) {
                    var t = 0;
                    return e == a.GameConst.QUALITY.GREEN ? t += .5 : e == a.GameConst.QUALITY.BLUE ? t += 1 : e == a.GameConst.QUALITY.PURPLE && (t += 2), t
                }, t.getEquipPercentByQuality = function(e) {
                    var t = 0;
                    return e == a.GameConst.QUALITY.WHITE ? t = 1e4 : e == a.GameConst.QUALITY.GREEN ? t = 5e5 : e == a.GameConst.QUALITY.BLUE ? t = 5e5 : e == a.GameConst.QUALITY.PURPLE ? t = 5e5 : e == a.GameConst.QUALITY.ORANGE && (t = 2e4), t
                }, t.getEquipQualityAdd = function(e) {
                    return [1, 2, 5, 10, 2][e]
                }, t.randomEquality = function(e, i) {
                    for (var n = 0, o = e.magic_find1.length - 1; o >= 0; o--) {
                        var a = e.magic_find1[o] * t.getEquipQualityAdd(i);
                        if (Math.random() <= a / 1e6) {
                            n = o + 1;
                            break
                        }
                    }
                    return n
                }, t.configMap = new Map, t.DropType = {
                    One: 0,
                    EveryOne: 1
                }, t
            }(o.JsonConfigBase);
        i.EquipGatherConfig = s, cc._RF.pop()
    }, {
        "./GameConst": "GameConst",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    EquipGridModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c0707fhfs9NdZZYGrJl96NR", "EquipGridModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("../config/IntensifyConfig"),
            a = e("../config/IntensifyBuffConfig"),
            s = e("../config/MagicNameConfig"),
            r = function() {
                function e() {}
                return e.getEquipGridModel = function(e, t) {
                    void 0 === t && (t = n.default.instance);
                    for (var i = 0; i < t.equipGridList.length; i++) {
                        var o = t.equipGridList[i];
                        if (o.gridId == e)
                            return o
                    }
                }, e.levelUpEquipGrid = function(t, i, o) {
                    void 0 === o && (o = n.default.instance);
                    var a = e.getEquipGridModel(t, o);
                    a ? a.strengthenNum = i : ((a = new e).gridId = t, o.equipGridList.push(a), a.strengthenNum = i), n.default.saveToLocalStorage()
                }, e.getEquipGridAddAllstat = function() {
                    for (var e = 0, t = n.default.instance.getEquipGridList(), i = 0; i < t.length; i++) {
                        var a = t[i],
                            r = o.IntensifyConfig.getMagicModelByGridStrenthenNum(a.gridId, a.strengthenNum);
                        r.magicId == s.MagicNameConfig.MagicId.Allstat && (e += r.magicValue)
                    }
                    return e
                }, e.getEquipGridAddDef = function() {
                    for (var e = 0, t = n.default.instance.getEquipGridList(), i = 0; i < t.length; i++) {
                        var a = t[i],
                            r = o.IntensifyConfig.getMagicModelByGridStrenthenNum(a.gridId, a.strengthenNum);
                        r.magicId == s.MagicNameConfig.MagicId.def && (e += r.magicValue)
                    }
                    return e
                }, e.getNowIntensifyLevelConfig = function() {
                    var t,
                        i = n.default.instance.getEquipGridList(),
                        o = 0;
                    return a.IntensifyBuffConfig.configMap.forEach(function(n, a) {
                        o = 0;
                        for (var s = 0; s < i.length; s++) {
                            i[s].strengthenNum >= n.level && o++
                        }
                        o >= e.maGridNum && (t = n)
                    }), t
                }, e.getNextIntensifyLevelConfig = function() {
                    var e,
                        t = this.getNowIntensifyLevelConfig();
                    return a.IntensifyBuffConfig.configMap.forEach(function(i, n) {
                        t ? i.level > t.level && (e ? i.level <= e.level && (e = i) : e = i) : e ? i.level <= e.level && (e = i) : e = i
                    }), e || (e = t), e
                }, e.getShangHaiZengJiaPercent = function() {
                    var t = e.getNowIntensifyLevelConfig();
                    return t ? t.BonusDamage_p[1] / 1e4 : 0
                }, e.getShangHaiJianMianPercent = function() {
                    var t = e.getNowIntensifyLevelConfig();
                    return t ? t.DamageReduction_p[1] / 1e4 : 0
                }, e.getHpPercent = function() {
                    var t = e.getNowIntensifyLevelConfig();
                    return t ? t.hp_p[1] / 1e4 : 0
                }, e.getMpPercent = function() {
                    var t = e.getNowIntensifyLevelConfig();
                    return t ? t.mp_p[1] / 1e4 : 0
                }, e.proto2ModelList = function(t) {
                    for (var i = t.getEquipListList(), n = [], o = 0; o < i.length; o++) {
                        var a = i[o],
                            s = new e;
                        s.gridId = a.getPos(), s.strengthenNum = a.getLev(), n.push(s)
                    }
                    return n
                }, e.deserializeBinaryToModelList = function(e) {
                    for (var t = [], i = 0; i < e.length; i++)
                        e[i] && (t[i] = this.deserializeBinaryToModel(e[i]));
                    return t
                }, e.deserializeBinaryToModel = function(t) {
                    var i = new e;
                    return i.gridId = t.gridId, i.strengthenNum = t.strengthenNum, i
                }, e.maGridNum = 10, e
            }();
        i.EquipGridModel = r, cc._RF.pop()
    }, {
        "../config/IntensifyBuffConfig": "IntensifyBuffConfig",
        "../config/IntensifyConfig": "IntensifyConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "./RoleInfoModel": "RoleInfoModel"
    }],
    EquipMakeView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d81c4ZsWHBNZIPkmGFgrT/e", "EquipMakeView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/DateUtil"),
            s = e("../../engine/EventManager"),
            r = e("../../engine/UIManager"),
            l = e("../../engine/ViewBase"),
            c = e("../config/ColorConfig"),
            g = e("../config/EquipConfig"),
            f = e("../config/MagicNameConfig"),
            d = e("../config/RandomFuMoConfig"),
            h = e("../config/ViewConfig"),
            u = e("../event/CommonEvent"),
            p = e("../model/ItemInfoModel"),
            m = e("../model/MagicModel"),
            C = e("../model/MakeEquipModel"),
            v = e("../model/RoleInfoModel"),
            _ = e("../prefab/ItemPrefab"),
            y = e("../sdk/SdkHelper"),
            M = e("../utils/MusicHelper"),
            I = e("../utils/UIHelper"),
            b = e("../model/AdModel"),
            L = e("../model/ServerTime"),
            w = e("../config/WordConfig"),
            S = e("../network/SocketClient"),
            E = e("../config/GameConfig"),
            k = e("../miniGameTools/tttool"),
            T = e("../model/PrivilegeModel"),
            N = cc._decorator,
            R = N.ccclass,
            B = (N.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.curSelectIndex = 0, t.wantItemList = [], t.showItem = null, t.frameCount = 0, t.showItemProNodeList = [], t.quality2Cream = [1, 2, 6, 30, 180], t.selectNodeList = [], t.hadMakeNodeList = [], t
                }
                return n(t, e), t.prototype.onEnable = function() {
                    s.EventManager.instance.on(u.CommonEvent.Event_AdInfoUpdate, this.refreshAdTimes, this), s.EventManager.instance.on(u.CommonEvent.Event_ad_end, this.onAdEnd, this), s.EventManager.instance.on(u.CommonEvent.Event_Make_Equip, this.onMakeUpdate, this)
                }, t.prototype.onShow = function() {
                    this.itemBaseNode = this.findChild(this.node, "view/scrollView/view/content/itemBaseNode"), this.itemBaseNode.active = !0, this.itemRandomNode = this.findChild(this.node, "view/scrollView/view/content/itemRandomNode"), this.itemRandomNode.active = !1, this.itemInfo = this.findChild(this.node, "view/scrollView/view/content/itemInfo"), this.itemInfo.active = !1, r.default.instance.setTopUI(h.default.gameView.EquipMakeView), this.findChild(this.node, "view/btnMake").on(cc.Node.EventType.TOUCH_END, this.onClickMake.bind(this));
                    for (var e = 0; e < 3; e++)
                        this.wantItemList[e] = this.findChild(this.node, "view/wantItem" + e), this.wantItemList[e].on(cc.Node.EventType.TOUCH_END, this.onClickWantItem.bind(this, e)), this.hadMakeNodeList[e] = this.findChild(this.node, "view/hadMakeNode" + e), this.selectNodeList[e] = this.findChild(this.node, "view/selectNode" + e);
                    this.showItem = this.findChild(this.node, "view/showItem"), this.findChild(this.node, "view/btnRefresh").on(cc.Node.EventType.TOUCH_END, this.onClickRefresh.bind(this)), this.findChild(this.node, "view/btnAd").on(cc.Node.EventType.TOUCH_END, this.onClickAd.bind(this)), this.txtAdTimes = this.getChild(this.node, "view/btnAd/nums", cc.Label), this.contrastNode = this.findChild(this.node, "view/btnZhuangBeiDuiBI"), this.contrastNode.on(cc.Node.EventType.TOUCH_END, this.onClickContrast.bind(this)), this.txtMyCream = this.getChild(this.node, "view/txtMyCream", cc.Label), this.txtTime = this.getChild(this.node, "view/txtTime", cc.Label), this.initLeftTime(), this.refreshTime(), this.refreshMyCream(), S.default.req_make_info(), this.refreshAdTimes(), E.GameConfig.platform === cc.sys.WECHAT_GAME && (this.findChild(this.node, "view/btnRefresh").active = !1, this.findChild(this.node, "view/btnAd").x = 167.5)
                }, t.prototype.refreshAdTimes = function() {
                    (this.txtAdTimes.string = b.default.getAdLostTimes(b.Ad_Type.MakeEquip) + "", T.default.hadFreePrivilege()) && (this.node.getChildByName("view").getChildByName("btnAd").getChildByName("button_mianfeihuoqu_gkgg").active = !1)
                }, t.prototype.onMakeUpdate = function() {
                    this.initLeftTime(), this.refreshEquip(), this.refreshSelect(), this.refreshMyCream()
                }, t.prototype.initLeftTime = function() {
                    this.leftTime = C.default.getLastRandomTime() - L.ServerTime.getServerTime(), this.leftTime <= 0 && (this.leftTime = 0), this.refreshTime()
                }, t.prototype.onClickClose = function() {
                    M.MusicHelper.play_click(), this.closeView()
                }, t.prototype.update = function(e) {
                    this.leftTime > 0 && (this.frameCount++, this.frameCount >= cc.game.getFrameRate() && (this.frameCount = 0, this.leftTime -= 1e3, this.leftTime <= 0 && (this.leftTime = 0, S.default.req_make_info()), this.refreshTime()))
                }, t.prototype.onClickAd = function() {
                    M.MusicHelper.play_click(), b.default.getAdLostTimes(b.Ad_Type.MakeEquip) > 0 ? T.default.hadFreePrivilege() ? this.onAdEnd() : E.GameConfig.platform === cc.sys.WECHAT_GAME ? k.tttool.OpenAD() : y.default.sdkAd() : I.UIHelper.showTip("\u514d\u8d39\u6b21\u6570\u4e0d\u8db3!")
                }, t.prototype.onAdEnd = function() {
                    b.default.getAdLostTimes(b.Ad_Type.MakeEquip) > 0 && (this.txtAdTimes.string = b.default.updateAdTimes(b.Ad_Type.MakeEquip) + "", S.default.refresh_make(1), this.randomEquip(!0))
                }, t.prototype.onClickRefresh = function() {
                    M.MusicHelper.play_click(), v.default.instance.decGold(20) && (y.default.sdkCustomAction(13, 20), S.default.refresh_make(2), this.randomEquip(!0))
                }, t.prototype.refreshEquip = function() {
                    for (var e = 0; e < this.wantItemList.length; e++) {
                        var t = C.default.makeEquipList[e];
                        this.wantItemList[e].getComponent(_.default).init(t), this.hadMakeNodeList[e].active = t.hadMake
                    }
                    this.refreshNowEquip()
                }, t.prototype.refreshNowEquip = function() {
                    var e = C.default.makeEquipList[this.curSelectIndex],
                        t = g.EquipConfig.getEquipConfigById(e.itemType);
                    this.showItem.getComponent(_.default).init(e), this.nowNeedCream = parseInt(t.make_cream[e.quality].split(":")[1]), v.default.instance.getCream() >= this.nowNeedCream ? this.findChild(this.node, "view/txtCream").color = c.ColorConfig.GreenColor : this.findChild(this.node, "view/txtCream").color = c.ColorConfig.RedColor, this.findChild(this.node, "view/txtCream").getComponent(cc.Label).string = this.nowNeedCream + "", I.UIHelper.formatQuality(this.findChild(this.node, "view/txtQuality").getComponent(cc.Label), e.quality), I.UIHelper.formatRoleOccupation(this.findChild(this.node, "view/txtOccupation").getComponent(cc.Label), t.pro), I.UIHelper.formatRoleLevel(this.findChild(this.node, "view/txtLevel").getComponent(cc.Label), t), I.UIHelper.formatPart(this.findChild(this.node, "view/txtEquipGridName").getComponent(cc.Label), t.position), this.refreshAttriInfo(e, t), this.refreshContrastNode(e, t)
                }, t.prototype.refreshAttriInfo = function(e, t) {
                    for (var i = 0; i < this.showItemProNodeList.length; i++)
                        this.showItemProNodeList[i].destroy();
                    this.showItemProNodeList = [];
                    var n = [f.MagicNameConfig.MagicId.atk, f.MagicNameConfig.MagicId.mag, f.MagicNameConfig.MagicId.spt, f.MagicNameConfig.MagicId.def, f.MagicNameConfig.MagicId.hp];
                    for (i = 0; i < n.length; i++) {
                        var o = e.getBaseAddValue(n[i]),
                            a = o;
                        if (n[i] == f.MagicNameConfig.MagicId.atk ? a += t.atk : n[i] == f.MagicNameConfig.MagicId.mag ? a += t.mag : n[i] == f.MagicNameConfig.MagicId.spt ? a += t.spt : n[i] == f.MagicNameConfig.MagicId.def ? a += t.def : n[i] == f.MagicNameConfig.MagicId.hp && (a += t.hp), a > 0)
                            (r = cc.instantiate(this.itemInfo)).parent = this.itemInfo.parent, r.active = !0, (c = r.getChildByName("txtDesc").getComponent(cc.Label)).string = f.MagicNameConfig.getDesc(n[i]) + ":", (h = r.getChildByName("txtDefaultValue").getComponent(cc.Label)).string = "" + a, h.node.x = c.node.x + c.node.width, (u = r.getChildByName("txtExtra").getComponent(cc.Label)).string = "(" + o + ")", u.node.active = o > 0, this.showItemProNodeList.push(r)
                    }
                    var s = cc.instantiate(this.itemRandomNode);
                    s.parent = this.itemRandomNode.parent, s.active = !0, this.showItemProNodeList.push(s);
                    for (i = 0; i < e.randAttrList.length; i++) {
                        var r,
                            l = e.randAttrList[i];
                        (r = cc.instantiate(this.itemInfo)).parent = this.itemInfo.parent, r.active = !0;
                        var c,
                            h,
                            u,
                            p = d.RandomFuMoConfig.getRandomFuMoConfig(t, l.magicId),
                            C = d.RandomFuMoConfig.getMagicValueByConfig(p, t.level);
                        (c = r.getChildByName("txtDesc").getComponent(cc.Label)).string = f.MagicNameConfig.getDesc(l.magicId) + ":" + m.default.formatMagicValue(l.magicId, l.magicValue), c.node.color = g.EquipConfig.getRandomAttColor(t, l), (h = r.getChildByName("txtDefaultValue").getComponent(cc.Label)).node.active = !1, (u = r.getChildByName("txtExtra").getComponent(cc.Label)).string = "(\u4e0a\u9650" + m.default.formatMagicValue(l.magicId, C[1]) + ")", u.node.color = g.EquipConfig.getRandomAttColor(t, l), this.showItemProNodeList.push(r)
                    }
                }, t.prototype.refreshContrastNode = function(e, t) {
                    var i = g.EquipConfig.getGridTypeByPart(t.position, !0),
                        n = g.EquipConfig.getGridTypeByPart(t.position, !1);
                    v.default.instance.getEquipModelByGrid(i) || v.default.instance.getEquipModelByGrid(n) ? this.contrastNode.active = !0 : this.contrastNode.active = !1
                }, t.prototype.refreshMyCream = function() {
                    this.txtMyCream.string = v.default.instance.getCream() + ""
                }, t.prototype.randomEquip = function(e) {
                    void 0 === e && (e = !1), (this.leftTime <= 0 || e && !E.GameConfig.connectServer) && (C.default.randomEquip(), this.refreshEquip(), this.initLeftTime())
                }, t.prototype.refreshTime = function() {
                    this.txtTime.string = a.default.formatLeftTime2(this.leftTime)
                }, t.prototype.onClickWantItem = function(e) {
                    M.MusicHelper.play_click(), this.curSelectIndex = e, this.refreshSelect(), this.refreshNowEquip()
                }, t.prototype.refreshSelect = function() {
                    for (var e = 0; e < this.selectNodeList.length; e++)
                        this.curSelectIndex == e ? this.selectNodeList[e].active = !0 : this.selectNodeList[e].active = !1
                }, t.prototype.onHide = function() {}, t.prototype.onClickMake = function() {
                    M.MusicHelper.play_click();
                    var e = C.default.makeEquipList[this.curSelectIndex];
                    if (e.hadMake)
                        I.UIHelper.showTip("\u5df2\u6253\u9020!");
                    else {
                        var t = g.EquipConfig.getEquipConfigById(e.itemType);
                        if (v.default.instance.getCream() < this.nowNeedCream)
                            I.UIHelper.showTip("\u7cbe\u534e\u4e0d\u8db3\uff01");
                        else
                            v.default.instance.getAddItemMaxNum(p.AddItemParamStruct.create(v.default.instance, t.kind, t.id, 1, e.quality, !0)) < 1 ? w.WordConfig.showWord(60001) : v.default.instance.decCream(this.nowNeedCream) && (y.default.sdkCustomAction(24, this.nowNeedCream), S.default.req_make_equip(e.index), C.default.saveToLocalStorage(), this.refreshEquip())
                    }
                }, t.prototype.onClickContrast = function() {
                    M.MusicHelper.play_click();
                    var e = C.default.makeEquipList[this.curSelectIndex];
                    r.default.instance.createView(h.default.gameView.equipContrastView, null, e)
                }, t = o([R], t)
            }(l.default));
        i.default = B, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConfig": "GameConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/AdModel": "AdModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/MagicModel": "MagicModel",
        "../model/MakeEquipModel": "MakeEquipModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ServerTime": "ServerTime",
        "../network/SocketClient": "SocketClient",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    EventManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "65baaVVGOtMc64xZPRyFtjM", "EventManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {
                this.handlers = {}
            }
            return e.prototype.on = function(e, t, i) {
                var n = this.handlers[e];
                n || (n = [], this.handlers[e] = n);
                for (var o = 0; o < n.length; o++)
                    if (!n[o])
                        return n[o].handler = t, n[o].target = i, o;
                return n.push({
                    handler: t,
                    target: i
                }), n.length
            }, e.prototype.dispatch = function(e) {
                for (var t = [], i = 1; i < arguments.length; i++)
                    t[i - 1] = arguments[i];
                var n = this.handlers[e];
                if (n)
                    for (var o = 0; o < n.length; o++) {
                        var a = n[o].handler,
                            s = n[o].target;
                        if (a)
                            try {
                                if (s && s instanceof cc.Component && 0 == s.enabledInHierarchy)
                                    continue;
                                s ? a.call.apply(a, [s].concat(t)) : a.call.apply(a, t)
                            } catch (e) {
                                console.error(e)
                            }
                    }
            }, e.prototype.off = function(e, t, i) {
                var n = this.handlers[e];
                if (n)
                    for (var o = 0; o < n.length; o++) {
                        var a = n[o].handler,
                            s = n[o].target;
                        if (a === t && s === i) {
                            n.splice(o, 1);
                            break
                        }
                    }
            }, e.prototype.clear = function(e) {
                for (var t in this.handlers)
                    for (var i = this.handlers[t], n = 0; n < i.length; n++) {
                        i[n].target === e && i.splice(n, 1)
                    }
            }, e.prototype.clearAll = function() {
                this.handlers = {}
            }, e.prototype.addBtnEvent = function(e, t, i, n, o, a) {
                void 0 === o && (o = null), void 0 === a && (a = !1);
                var s = t.addComponent(cc.Button),
                    r = new cc.Component.EventHandler;
                r.target = e, r.component = i, r.handler = n, r.customEventData = o, s.clickEvents.push(r), a && this.addBtnEffect(t)
            }, e.prototype.removeBtnEvent = function(e) {
                var t = e.getComponent(cc.Button);
                t && (t.clickEvents = []), e.removeComponent(cc.Button)
            }, e.prototype.removeBtnEffect = function(e) {
                e.getComponent(cc.Button).transition = cc.Button.Transition.NONE
            }, e.prototype.addBtnEffect = function(e, t) {
                void 0 === t && (t = 1.1);
                var i = e.getComponent(cc.Button);
                i.transition = cc.Button.Transition.SCALE, i.zoomScale = t
            }, e.instance = new e, e
        }();
        i.EventManager = n, cc._RF.pop()
    }, {}],
    FangShiModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "4c5b1+ncS5B3JzmzXG3inAA", "FangShiModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/Logger"),
            o = e("../../engine/EventManager"),
            a = e("../event/CommonEvent"),
            s = e("../config/FangShopConfig"),
            r = function() {
                function e() {}
                return e.getNumById = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.productId == e + "")
                            return i.prodRepo
                    }
                    return 0
                }, e.getModel = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.productId == e)
                            return i
                    }
                }, e.updateNum = function(e, t) {
                    for (var i = 0; i < this.modelList.length; i++) {
                        var r = this.modelList[i];
                        r.productId == e && (r.prodRepo = t)
                    }
                    3 == s.default.getConfigById(Number(e)).shop_type ? (n.Logger.log("\u5237\u65b0\u73cd\u5b9d\u574a\u5e02", e, t), o.EventManager.instance.dispatch(a.CommonEvent.Event_ZHENBAOFangShi_Change)) : (n.Logger.log("Event_FangShi_Change===", this.modelList), o.EventManager.instance.dispatch(a.CommonEvent.Event_FangShi_Change))
                }, e.proto2ModelList = function(t) {
                    var i = t.getShopItemListList();
                    this.modelList = [];
                    for (var o = 0; o < i.length; o++) {
                        var a = new e;
                        this.modelList.push(a), a.productId = i[o].getProductid(), a.prodRepo = i[o].getProdrepo()
                    }
                    n.Logger.log("FangShiModel==", this.modelList)
                }, e.modelList = [], e
            }();
        i.default = r, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/FangShopConfig": "FangShopConfig",
        "../event/CommonEvent": "CommonEvent"
    }],
    FangShopConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1370aVSwI5IcpT3XxJgiTIY", "FangShopConfig");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("./JsonConfigBase"),
            s = e("../../engine/Logger"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                var i;
                return n(t, e), i = t, t.obj2Config = function(e) {
                    var t = new i;
                    return t.restriction = e.restriction, t.name = e.name, t.price_type = e.price_type, t.unit_price = e.unit_price, t.shop_type = e.shop_type, t.num = e.num, t.item_id = e.item_id, t.type = e.type, t.isshow = e.isshow, t.level = e.level, t.jingjie = e.jingjie, t.date = e.date, t.time = e.time, t.zhiye = e.zhiye, t.refresh = e.refresh, t.charge = e.charge, t
                }, t.getConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.shopId && (t = i)
                    }), t
                }, t.getConfigListByType = function(e) {
                    var t = [];
                    return this.configMap.forEach(function(i, n) {
                        e == i.shop_type && t.push(i)
                    }), t
                }, t.json2Config = function(e) {
                    var t = this;
                    s.Logger.log("FangShopConfig====", e), Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.shopId = parseInt(i), t.configMap.set(n.shopId, n)
                    }), s.Logger.log("FangShopConfig===configMap", this.configMap)
                }, t.getConfigByItemId = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.item_id && (t = i)
                    }), t
                }, t.getConfigByCharge = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.charge && (t = i)
                    }), t
                }, t.Config_Name = "fangShopConfig", t.configMap = new Map, t.TYPE_ITEM = 1, t.TYPE_EQUIP = 2, t.TYPE_SKILLEFFECT = 3, t.PRICE_GOLD = 1, t.PRICE_YUANBAO = 2, t.PRICE_RMB = 101, t = i = o([l], t)
            }(a.JsonConfigBase));
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    FangShopView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a13f7raLctKgb7jRhl74Lrp", "FangShopView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../model/RoleInfoModel"),
            r = e("../utils/UIHelper"),
            l = e("../../engine/Logger"),
            c = e("../config/FangShopConfig"),
            g = e("../config/ITemsConfig"),
            f = e("../prefab/ItemPrefab"),
            d = e("../model/ItemInfoModel"),
            h = e("../utils/MusicHelper"),
            u = e("../config/GameConst"),
            p = e("../../engine/UIManager"),
            m = e("../config/ViewConfig"),
            C = e("./BuyShopView"),
            v = e("../model/FangShiModel"),
            _ = e("../../engine/EventManager"),
            y = e("../event/CommonEvent"),
            M = e("../../engine/DateUtil"),
            I = e("../config/JingJieConfig"),
            b = e("../model/JingJieModel"),
            L = e("../config/SkinConfig"),
            w = cc._decorator,
            S = w.ccclass,
            E = (w.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.curTabIndex = 2, t.itemList = [], t.tabConfigList = [], t
                }
                return n(t, e), t.prototype.onShow = function() {}, t.prototype.onEnable = function() {
                    var e = this;
                    this.itemNode = this.findChild(this.node, "ScrollView/view/content/itemNode"), this.itemNode.active = !1, this.yuanbao = this.node.getChildByName("yuanbao"), this.gold = this.node.getChildByName("gold"), this.goldNum = this.gold.getChildByName("goldNum").getComponent(cc.Label), this.num1 = this.yuanbao.getChildByName("num").getComponent(cc.Label), this.Sprite1 = this.node.getChildByName("Sprite1"), this.btnIntro = this.node.getChildByName("btnIntro"), this.Sprite1.active = !0, this.Sprite2 = this.node.getChildByName("Sprite2"), this.Sprite2.active = !1, this.Sprite3 = this.node.getChildByName("Sprite3"), this.Sprite3.active = !1, this.scorllView = this.node.getChildByName("ScrollView"), this.zhenBaoScrollView = this.node.getChildByName("zhenBaoScrollView"), _.EventManager.instance.on(y.CommonEvent.Event_FangShi_Change, function(t) {
                        e.onUpdateInfo(), e.refreshItemList()
                    }, this), _.EventManager.instance.on(y.CommonEvent.Event_ZHENBAOFangShi_Change, this.refreshZhenBaoList, this), this.tabNode0 = this.node.getChildByName("button").getChildByName("tabNode0"), this.tabNode1 = this.node.getChildByName("button").getChildByName("tabNode1"), this.tabNode2 = this.node.getChildByName("button").getChildByName("tabNode2"), this.tabNode0.on(cc.Node.EventType.TOUCH_END, this.onClickChange0.bind(this)), this.tabNode1.on(cc.Node.EventType.TOUCH_END, this.onClickChange1.bind(this)), this.tabNode2.on(cc.Node.EventType.TOUCH_END, this.onClickZhenBao.bind(this)), this.btnIntro.on(cc.Node.EventType.TOUCH_END, this.onClickTip.bind(this)), this.checkmark0 = this.tabNode0.getChildByName("checkmark0"), this.checkmark1 = this.tabNode1.getChildByName("checkmark1"), this.checkmark2 = this.tabNode2.getChildByName("checkmark"), this.onClickChange1()
                }, t.prototype.onUpdateInfo = function() {
                    this.num1.string = r.UIHelper.tranNumber(s.default.instance.getGold()) + "", this.goldNum.string = r.UIHelper.tranNumber(s.default.instance.getCoin()) + ""
                }, t.prototype.onClickChange0 = function() {
                    h.MusicHelper.play_click(), this.Sprite1.active = !0, this.Sprite2.active = !1, this.checkmark0.active = !0, this.checkmark1.active = !1, this.gold.active = !1, this.yuanbao.active = !0, this.curTabIndex = 2, this.refreshItemList(), this.onUpdateInfo(), this.Sprite3.active = !1, this.checkmark2.active = !1
                }, t.prototype.onClickChange1 = function() {
                    h.MusicHelper.play_click(), this.Sprite1.active = !1, this.Sprite2.active = !0, this.checkmark0.active = !1, this.checkmark1.active = !0, this.Sprite3.active = !1, this.checkmark2.active = !1, this.gold.active = !0, this.yuanbao.active = !1, this.curTabIndex = 1, this.refreshItemList(), this.onUpdateInfo()
                }, t.prototype.onClickZhenBao = function() {
                    h.MusicHelper.play_click(), this.Sprite1.active = !1, this.Sprite2.active = !1, this.checkmark0.active = !1, this.checkmark1.active = !1, this.Sprite3.active = !0, this.checkmark2.active = !0, this.gold.active = !1, this.yuanbao.active = !1, this.curTabIndex = 3, this.refreshZhenBaoList()
                }, t.prototype.refreshItemList = function() {
                    this.scorllView.active = !0, this.zhenBaoScrollView.active = !1;
                    for (var e = 0; e < this.itemList.length; e++)
                        this.itemList[e].active = !1;
                    var t = c.default.getConfigListByType(this.curTabIndex);
                    t.sort(function(e, t) {
                        return e.shopId - t.shopId
                    });
                    var i = [],
                        n = [];
                    this.tabConfigList = [];
                    for (e = 0; e < t.length; e++) {
                        var o = t[e],
                            a = void 0;
                        this.itemList[e] ? a = this.itemList[e] : (a = cc.instantiate(this.itemNode), this.itemList[e] = a), this.tabConfigList[e] = o, a.active = !0;
                        var r,
                            h = a.getChildByName("jinbiNode"),
                            p = g.ITemsConfig.getITemsConfigById(o.item_id);
                        r = d.default.create(u.GameConst.ITEM_KIND.ITEM, o.item_id, o.num, p.quality), a.getChildByName("ItemPrefab").getComponent(f.default).init(r), h.getChildByName("txtCost").getComponent(cc.Label).string = o.unit_price + "";
                        var m = h.getChildByName("yuanbao"),
                            C = h.getChildByName("jinbi");
                        2 == this.curTabIndex ? (C.active = !1, m.active = !0) : 1 == this.curTabIndex && (C.active = !0, m.active = !1);
                        var y = a.getChildByName("xiangou").getChildByName("buynum").getComponent(cc.Label);
                        y.string = o.restriction + "";
                        var L = a.getChildByName("xiangou");
                        L.active = !0;
                        var w = a.getChildByName("over"),
                            S = a.getChildByName("buy"),
                            E = a.getChildByName("tiaojianNode"),
                            k = E.getChildByName("xianshi"),
                            T = E.getChildByName("xianshi1"),
                            N = E.getChildByName("xianshi2");
                        y.string = v.default.getNumById(o.shopId) + "";
                        var R = parseInt(y.string);
                        l.Logger.log("xiangouNum====", R), S.active = !0, w.active = !1, -1 == R ? (S.active = !0, L.active = !1) : 0 == R && (w.active = !0, S.active = !1, L.active = !1), _.EventManager.instance.removeBtnEvent(S), _.EventManager.instance.addBtnEvent(this.node, S, "FangShopView", "onClickItem", e);
                        var B = s.default.instance.create_time,
                            P = M.default.getPassDay(B),
                            A = I.JingJieConfig.getJingJieConfigById(o.jingjie),
                            O = !1;
                        if (A ? (l.Logger.log("jingjieConfig==", b.JingJieModel.hadOpenJingJie(A.next)), b.JingJieModel.hadOpenJingJie(A.next) && (O = !0)) : O = !0, l.Logger.log("passDay==", o, P, A, O), P + 1 >= o.date && O && s.default.instance.level >= o.level)
                            E.active = !1, l.Logger.log("\u7b26\u5408\u6761\u4ef6===="), i.push(a), a.active = !1;
                        else {
                            if (S.active = !1, E.active = !0, k.active = !1, N.active = !1, T.active = !1, l.Logger.log("\u4e0d\u7b26\u5408\u6761\u4ef6===="), A && (b.JingJieModel.hadOpenJingJie(A.next) || (N.active = !0)), s.default.instance.level < o.level && (k.active = !0, k.getComponent(cc.Label).string = "\u89d2\u8272" + o.level + "\u7ea7\u89e3\u9501"), P + 1 < o.date) {
                                T.active = !0;
                                var x = o.date - P - 1;
                                l.Logger.log("\u5269\u4f59\u65f6\u95f4+=", o.date, P, x), x <= 0 && (x = 0), T.getComponent(cc.Label).string = x + "\u5929\u540e\u89e3\u9501"
                            }
                            1 == o.isshow ? a.active = !1 : n.push(a), a.active = !1
                        }
                    }
                    for (e = 0; e < n.length; e++)
                        n[e].active = !1, n[e].parent = null;
                    for (e = 0; e < i.length; e++)
                        i[e].active = !0, i[e].parent = this.itemNode.parent;
                    for (e = 0; e < n.length; e++)
                        n[e].active = !0, n[e].parent = this.itemNode.parent
                }, t.prototype.refreshZhenBaoList = function() {
                    this.scorllView.active = !1, this.zhenBaoScrollView.active = !0, this.zhenBaoScrollView.getComponent(cc.ScrollView).content.removeAllChildren();
                    var e = c.default.getConfigListByType(this.curTabIndex);
                    e.sort(function(e, t) {
                        return e.shopId - t.shopId
                    });
                    for (var t = 0; t < e.length; t++)
                        if (L.default.getConfigById(Number(e[t].item_id)).role == s.default.instance.occupation) {
                            var i = cc.instantiate(this.findChild(this.node, "skillEffectItem"));
                            i.getComponent("skillEffectItem").init(e[t].shopId), i.active = !0, this.zhenBaoScrollView.getComponent(cc.ScrollView).content.addChild(i)
                        }
                }, t.prototype.onClickItem = function(e, t) {
                    h.MusicHelper.play_click(), l.Logger.log("onClickItem===", e, this.tabConfigList[t]), this.onCLickBuy(this.tabConfigList[t])
                }, t.prototype.onCLickBuy = function(e) {
                    l.Logger.log("onCLickBuy==", e);
                    var t,
                        i = v.default.getModel(e.shopId + "").prodRepo;
                    i <= 0 && (i = Number.MAX_VALUE), 1 == e.price_type ? t = 0 : 2 == e.price_type && (t = 1), p.default.instance.createView(m.default.gameView.BuyShopView, null, C.default.BuyType.FangShi, 1, e.item_id, e.unit_price, e.unit_price, t, i, function(e, t) {}.bind(this), null, e.shopId, 1, e.num)
                }, t.prototype.onClickTip = function() {
                    h.MusicHelper.play_click(), l.Logger.log("onClickTip======"), p.default.instance.createView(m.default.gameView.Explain)
                }, t.FangshiList = [], t = o([S], t)
            }(a.default));
        i.default = E, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/FangShopConfig": "FangShopConfig",
        "../config/GameConst": "GameConst",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/SkinConfig": "SkinConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FangShiModel": "FangShiModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/JingJieModel": "JingJieModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./BuyShopView": "BuyShopView"
    }],
    FightChangeView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "62e13xJnvFO0LP6IYx//YrP", "FightChangeView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/ColorConfig"),
            r = e("../../engine/Logger"),
            l = e("../../engine/UIManager"),
            c = e("../config/ViewConfig"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.frameCount = 0, t.speed = 2, t
                }
                return n(t, e), t.prototype.onInitChild = function(e, t) {
                    this.preFight = e, this.showFight = e, this.nowFight = t
                }, t.prototype.onShow = function() {
                    var e = this;
                    l.default.instance.setTopUI(c.default.gameView.FightChangeView), this.node.y = 300, this.txtFight = this.getChild(this.node, "container/txtFight", cc.Label), this.icon_down = this.getChild(this.node, "container/icon_down"), this.icon_up = this.getChild(this.node, "container/icon_up"), this.txtChange = this.getChild(this.node, "container/txtChange", cc.Label), this.txtChange.string = Math.abs(this.nowFight - this.preFight) + "", this.icon_up.active = !1, this.icon_down.active = !1;
                    var t = Math.abs(this.nowFight - this.preFight);
                    this.nowFight >= this.preFight ? (this.icon_up.active = !0, this.txtChange.node.color = s.ColorConfig.GreenColor) : (this.icon_down.active = !0, this.txtChange.node.color = s.ColorConfig.RedColor), this.speed = Math.ceil(t / (2 * cc.game.getFrameRate())), r.Logger.log("speed==============", t, this.speed), this.refreshFight(), this.scheduleOnce(function() {
                        e.closeView()
                    }, 2)
                }, t.prototype.refreshFight = function() {
                    this.txtFight.string = this.showFight + ""
                }, t.prototype.update = function() {
                    this.isStop || (this.nowFight >= this.preFight ? (this.showFight += this.speed, this.showFight >= this.nowFight && (this.showFight = this.nowFight, this.isStop = !0), this.refreshFight()) : (this.showFight -= this.speed, this.showFight <= this.nowFight && (this.showFight = this.nowFight, this.isStop = !0), this.refreshFight()))
                }, t = o([f], t)
            }(a.default));
        i.default = d, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/ViewConfig": "ViewConfig"
    }],
    FightModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ed2d4VfOA1LRZDSaB58LEph", "FightModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/Logger"),
            o = e("../../engine/UIManager"),
            a = e("../config/ViewConfig"),
            s = e("../../engine/EventManager"),
            r = e("../event/CommonEvent"),
            l = function() {
                function e() {
                    this.type = 0, this.value = 0
                }
                return e.proto2ModelList = function(t) {
                    var i = t.getFightinfo();
                    this.totalFight = i.getTotalfight(), this.maxFight = i.getMaxFight(), this.preFight != this.totalFight && 0 != this.preFight ? (o.default.instance.createView(a.default.gameView.FightChangeView, null, this.preFight, this.totalFight), this.preFight = this.totalFight) : this.preFight = this.totalFight;
                    var l = i.getFightlistList();
                    this.modelList = [];
                    for (var c = 0; c < l.length; c++) {
                        var g = new e;
                        g.type = l[c].getType(), g.value = l[c].getValue(), this.modelList[c] = g
                    }
                    n.Logger.log("FightModel=====", this.maxFight, i, l, this.modelList, this.preFight, this.totalFight), s.EventManager.instance.dispatch(r.CommonEvent.Event_UserInfoRefresh)
                }, e.getFanRenZhiLi = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.FightType.FanRen)
                            return i.value
                    }
                    return 0
                }, e.getLunHuiZhiLi = function() {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.type == e.FightType.LunHui)
                            return i.value
                    }
                    return 0
                }, e.FightType = {
                    Normal: 1,
                    FanRen: 2,
                    LunHui: 3
                }, e.maxFight = 0, e.totalFight = 0, e.preFight = 0, e.modelList = [], e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent"
    }],
    FightRoleInfoView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f4681xzOltJgpxDycwu7RJW", "FightRoleInfoView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/EventManager"),
            r = e("../event/CommonEvent"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.rolePrefab = e
                }, t.prototype.onShow = function() {
                    s.EventManager.instance.on(r.CommonEvent.Event_RolePrefabfresh, this.refresh, this), this.txtName = this.getChild(this.node, "view/info/txtName", cc.Label), this.txtFightAttack = this.getChild(this.node, "view/info/txtFightAttack", cc.Label), this.txtDef = this.getChild(this.node, "view/info/txtDef", cc.Label), this.txtHp = this.getChild(this.node, "view/info/txtHp", cc.Label), this.txtMp = this.getChild(this.node, "view/info/txtMp", cc.Label), this.txtAttackSpeed = this.getChild(this.node, "view/info/txtAttackSpeed", cc.Label), this.txtBonusDamage = this.getChild(this.node, "view/info/txtBonusDamage", cc.Label), this.txtDamageReduction = this.getChild(this.node, "view/info/txtDamageReduction", cc.Label), this.txtBonusDamage_p = this.getChild(this.node, "view/info/txtBonusDamage_p", cc.Label), this.txtDamageReduction_p = this.getChild(this.node, "view/info/txtDamageReduction_p", cc.Label), this.txtShengMingXiQu = this.getChild(this.node, "view/info/txtShengMingXiQu", cc.Label), this.txtFaLiXiQu = this.getChild(this.node, "view/info/txtFaLiXiQu", cc.Label), this.txtLucky = this.getChild(this.node, "view/info/txtLucky", cc.Label), this.refresh()
                }, t.prototype.refresh = function() {
                    this.rolePrefab && this.rolePrefab.roleInfo ? (this.txtName.string = this.rolePrefab.roleInfo.roleName, this.txtFightAttack.string = this.rolePrefab.roleInfo.attack + "", this.txtDef.string = this.rolePrefab.roleInfo.def + "", this.txtHp.string = this.rolePrefab.roleInfo.getHp() + "", this.txtMp.string = this.rolePrefab.roleInfo.getMp() + "", this.txtAttackSpeed.string = this.rolePrefab.roleInfo.attackSpeed / 1e3 + "/s", this.txtBonusDamage.string = this.rolePrefab.roleInfo.BonusDamage + "", this.txtDamageReduction.string = this.rolePrefab.roleInfo.DamageReduction + "", this.txtBonusDamage_p.string = this.rolePrefab.roleInfo.BonusDamage_p + "", this.txtDamageReduction_p.string = this.rolePrefab.roleInfo.DamageReduction_p + "", this.txtShengMingXiQu.string = this.rolePrefab.roleInfo.shengmingXiQu + "", this.txtFaLiXiQu.string = this.rolePrefab.roleInfo.faliXiQu + "", this.txtLucky.string = this.rolePrefab.roleInfo.lucky + "") : this.closeView()
                }, t.prototype.onHide = function() {}, t = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/ViewBase": "ViewBase",
        "../event/CommonEvent": "CommonEvent"
    }],
    GameConfig: [function(e, t, i) {
        "use strict";
        var n;
        cc._RF.push(t, "48761aFCgNBc50p3QQwd6az", "GameConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        }), function(e) {
            e[e.Test = 0] = "Test", e[e.Online = 1] = "Online"
        }(n = i.EnvironmentType || (i.EnvironmentType = {}));
        var o = function() {
            function e() {}
            return e.getHotUpdateUrl = function() {
                return this.environment == n.Online ? "https://pmcqcdn.gzlongrui.cn/download" : "http://212.64.108.20:9605"
            }, e.getHttpUrl = function() {
                return this.environment == n.Online ? "https://pmcqcocos03.gzlongrui.cn" : "http://212.64.108.20:8082"
            }, e.getLoginDomain = function() {
                return this.environment == n.Online ? "ws://pmcqcocos05.gzlongrui.cn:8100" : "ws://212.64.108.20:8100"
            }, e.platform = cc.sys.platform, e.connectServer = !0, e.environment = n.Online, e.serverListUrl = "http://dir.gzlongrui.cn:8080/game_config_legend.json", e.hotupdateUrl = "http://pmcqcocos.gzlongrui.cn:8000/download", e.socketUrl = "", e.jsonurl = cc.sys.platform === cc.sys.WECHAT_GAME ? "ttjson" : "json", e.preloadList = ["prefab/gameui", "prefab/game", "prefab/roles/bag", "prefab/roles/bagItem", "prefab/roles/bagAdd", "prefab/roles/equipInfo", "prefab/roles/ItemInfo", "prefab/skill/skill", "prefab/skill/skillitem", "prefab/map", "prefab/setting", "markIcon/img_tongyong", "markIcon/img_zhanshitb", "markIcon/img_fashitb", "markIcon/img_daoshitb", "fightframe/xinxi_boss", "fightframe/xinxi_guaiwu_00", "fightframe/xinxi_guaiwu_01", "fightframe/xinxi_guaiwu_02", "fightframe/xinxi_guaiwu_03", "fightframe/xinxi_jues_daoshi", "fightframe/xinxi_jues_fashi", "fightframe/xinxi_jues_zhanshi", "fightframe/xinxi_jues_kulou", "fightframe/xinxi_jues_shenshou", "skillIcon/dsjn_1", "skillIcon/dsjn_2", "skillIcon/dsjn_3", "skillIcon/dsjn_4", "skillIcon/dsjn_5", "skillIcon/dsjn_6", "skillIcon/dsjn_7", "skillIcon/dsjn_8", "skillIcon/dsjn_9", "skillIcon/dsjn_10", "skillIcon/dsjn_11", "skillIcon/dsjn_12", "skillIcon/dsjn_13", "skillIcon/dsjn_14", "skillIcon/fsjn_1", "skillIcon/fsjn_2", "skillIcon/fsjn_3", "skillIcon/fsjn_4", "skillIcon/fsjn_5", "skillIcon/fsjn_6", "skillIcon/fsjn_7", "skillIcon/fsjn_8", "skillIcon/fsjn_9", "skillIcon/fsjn_10", "skillIcon/fsjn_11", "skillIcon/fsjn_12", "skillIcon/fsjn_13", "skillIcon/fsjn_14", "skillIcon/zsjn_1", "skillIcon/zsjn_2", "skillIcon/zsjn_3", "skillIcon/zsjn_4", "skillIcon/zsjn_5", "skillIcon/zsjn_6", "skillIcon/zsjn_7", "json/Xilianexpendconfig", "json/HeroConfig", "json/EquipConfig", "json/IntensifyConfig", "json/IntensifyBuffConfig", "json/MagicNameConfig", "json/RebirthConfig", "json/MapConfig", "json/MonsterConfig", "json/EquipGatherConfig", "json/RandomFuMoConfig", "json/RandomFuMoEntryConfig", "json/shopConfig", "json/shopRecoverConfig", "json/yaoShopConfig", "json/goldsConfig", "json/chongZhiConfig", "json/activityCodeConfig", "json/SkillConfig", "json/JingJieConfig", "json/guideConfig_", "json/Word", e.jsonurl + "/BagConfig", e.jsonurl + "/DefaultConfig", e.jsonurl + "/iTemsConfig", e.jsonurl + "/shopAllConfig", "json/composeConfig", "json/runeconfig", "json/cuilianconfig", "json/skinConfig", "json/shenciConfig", "json/shenbingskillAllConfig", "json/chixuemojianConfig", "json/mingyunzhirenConfig", "mapicon/ditu00_button", "mapicon/button_ditu02_chengchi02", "mapicon/button_ditu03_dixiacheng02", "mapicon/button_ditu04_caodiyewai02", "mapicon/button_ditu04_kuangdong02", "mapicon/ditu02_button_chengchi01", "mapicon/ditu03_button_dixiacheng01", "mapicon/ditu04_button_caodiyewai01", "mapicon/ditu04_button_kuangdong01", "mapicon/ditu05_button_boss01", "json/fangShopConfig", "json/giftConfig"], e
        }();
        i.GameConfig = o, cc._RF.pop()
    }, {}],
    GameConst: [function(e, t, i) {
        "use strict";
        var n;
        cc._RF.push(t, "0da3a8qpKNB/Lbi2JypMrd/", "GameConst"), Object.defineProperty(i, "__esModule", {
            value: !0
        }), function(e) {
            e.REFINE = "I3001", e.ANTIQUE = "I3003", e.HP = "I1001", e.MP = "I2001", e.HHP = "I2101", e.HMP = "I2201", e.SkillDan = "I3004", e.Book = "I4001"
        }(i.ItemId || (i.ItemId = {})), function(e) {
            e[e.HP = 0] = "HP", e[e.MP = 1] = "MP", e[e.HHP = 2] = "HHP", e[e.HMP = 3] = "HMP"
        }(i.DrugCoolDown || (i.DrugCoolDown = {})), function(e) {
            e[e["\u666e\u901a"] = 0] = "\u666e\u901a", e[e["\u4f18\u79c0"] = 1] = "\u4f18\u79c0", e[e["\u7cbe\u826f"] = 2] = "\u7cbe\u826f", e[e["\u53f2\u8bd7"] = 3] = "\u53f2\u8bd7", e[e["\u4f20\u8bf4"] = 4] = "\u4f20\u8bf4"
        }(i.QualityName || (i.QualityName = {})), i.TestData = !1, function(e) {
            e[e.NONE = 0] = "NONE", e[e.NOT_LEVEL = 1] = "NOT_LEVEL", e[e.NOT_PRO = 2] = "NOT_PRO", e[e.SUCCESS = 3] = "SUCCESS"
        }(i.ADD_EQ || (i.ADD_EQ = {})), function(e) {
            e.BAG_ADD = "BAG_ADD", e.BAG_CUT = "BAG_CUT", e.BAG_UPDATE = "BAG_UPDATE", e.BAG_ADD_AMOUNT = "BAG_ADD_AMOUNT", e.DEC_GOLD = "DEC_GOLD", e.ADD_GOLD = "ADD_GOLD", e.DEC_COIN = "DEC_COIN", e.ADD_COIN = "ADD_COIN", e.REFRESH_REFINE = "REFRESH_REFINE", e.REFRESH_PRIVILEGE = "REFRESH_PRIVILEGE"
        }(i.EVENT_NAME || (i.EVENT_NAME = {})), function(e) {
            e[e.NONE = -1] = "NONE", e[e.WEAPON = 1] = "WEAPON", e[e.CORSELET = 2] = "CORSELET", e[e.BRACELET = 3] = "BRACELET", e[e.RING = 4] = "RING", e[e.BELT = 5] = "BELT", e[e.HELMET = 6] = "HELMET", e[e.NECK_LACE = 7] = "NECK_LACE", e[e.NONE2 = 8] = "NONE2", e[e.NONE3 = 9] = "NONE3", e[e.SHOE = 10] = "SHOE", e[e.WEAPON_lunhui = 101] = "WEAPON_lunhui", e[e.CORSELET_lunhui = 102] = "CORSELET_lunhui", e[e.BRACELET_lunhui = 103] = "BRACELET_lunhui", e[e.RING_lunhui = 104] = "RING_lunhui", e[e.BELT_lunhui = 105] = "BELT_lunhui", e[e.HELMET_lunhui = 106] = "HELMET_lunhui", e[e.NECK_LACE_lunhui = 107] = "NECK_LACE_lunhui", e[e.NONE2_lunhui = 108] = "NONE2_lunhui", e[e.NONE3_lunhui = 109] = "NONE3_lunhui", e[e.SHOE_lunhui = 110] = "SHOE_lunhui"
        }(n = i.Position || (i.Position = {})), function(e) {
            e[e.WEAPON = 1] = "WEAPON", e[e.CORSELET = 2] = "CORSELET", e[e.BRACELET_lEFT = 3] = "BRACELET_lEFT", e[e.RING_LEFT = 4] = "RING_LEFT", e[e.BELT = 5] = "BELT", e[e.HELMET = 6] = "HELMET", e[e.NECK_LACE = 7] = "NECK_LACE", e[e.BRACELET_RIGHT = 8] = "BRACELET_RIGHT", e[e.RING_RIGHT = 9] = "RING_RIGHT", e[e.SHOE = 10] = "SHOE", e[e.WEAPON_lunhui = 101] = "WEAPON_lunhui", e[e.CORSELET_lunhui = 102] = "CORSELET_lunhui", e[e.BRACELET_lEFT_lunhui = 103] = "BRACELET_lEFT_lunhui", e[e.RING_LEFT_lunhui = 104] = "RING_LEFT_lunhui", e[e.BELT_lunhui = 105] = "BELT_lunhui", e[e.HELMET_lunhui = 106] = "HELMET_lunhui", e[e.NECK_LACE_lunhui = 107] = "NECK_LACE_lunhui", e[e.BRACELET_RIGHT_lunhui = 108] = "BRACELET_RIGHT_lunhui", e[e.RING_RIGHT_lunhui = 109] = "RING_RIGHT_lunhui", e[e.SHOE_lunhui = 110] = "SHOE_lunhui"
        }(i.GridType || (i.GridType = {})), function(e) {
            e.MAIN_SCENE = "MainScene", e.WORLD_SCENE = "WorldScene", e.BATTLE_SCENE = "BattleScene", e.LOADING_SCENE = "LoadingScene"
        }(i.SceneType || (i.SceneType = {}));
        var o = function() {
            function e() {}
            return e.getEquipPositionName = function(e) {
                return e == n.WEAPON || e == n.WEAPON_lunhui ? "\u6b66\u5668" : e == n.CORSELET || e == n.CORSELET_lunhui ? "\u8863\u670d" : e == n.BRACELET || e == n.BRACELET_lunhui ? "\u624b\u956f" : e == n.RING || e == n.RING_lunhui ? "\u6212\u6307" : e == n.BELT || e == n.BELT_lunhui ? "\u8170\u5e26" : e == n.HELMET || e == n.HELMET_lunhui ? "\u5934\u76d4" : e == n.NECK_LACE || e == n.NECK_LACE_lunhui ? "\u9879\u94fe" : e == n.SHOE || e == n.SHOE_lunhui ? "\u978b\u5b50" : void 0
            }, e.MaxRandomValue = 1e4, e.PLATFORM = {
                NONE: 0,
                BN: 1
            }, e.UNIQID = {
                USER: 1,
                ROLE: 2,
                ITEM: 3,
                ORDER: 4
            }, e.OCCUPATION = {
                None: 0,
                ZHAN_SHI: 1,
                FA_SHI: 2,
                DAO_SHI: 3
            }, e.OccupationNameMap = (new Map).set(e.OCCUPATION.None, "\u901a\u7528").set(e.OCCUPATION.ZHAN_SHI, "\u6218\u58eb").set(e.OCCUPATION.FA_SHI, "\u6cd5\u5e08").set(e.OCCUPATION.DAO_SHI, "\u9053\u58eb"), e.QUALITY = {
                WHITE: 0,
                GREEN: 1,
                BLUE: 2,
                PURPLE: 3,
                ORANGE: 4
            }, e.RES_TYPE = {
                COIN: 1,
                YUAN_BAO: 2,
                CREAM: 3,
                EXP: 4
            }, e.RET = {
                SUC: 1,
                FAIL: 0
            }, e.ITEM_KIND = {
                ITEM: 1,
                EQUIP: 2
            }, e.AOS = {
                ADD: 1,
                SUB: 0
            }, e.REASON = {
                DROP: 1,
                TEMPORARY: 2
            }, e.CHARGE_KIND = {
                REWARD: 1,
                PRIVILEGE: 2,
                CHARGE: 3
            }, e.PRIVILEGE_TYPE = {
                RECYCLE: 1,
                FIGHT: 2,
                FREEADV: 3
            }, e
        }();
        i.GameConst = o, cc._RF.pop()
    }, {}],
    GameController: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "95363iDzgpHE5Y9YYUfBuyb", "GameController"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../engine/GameSocket"),
            o = e("../engine/Logger"),
            a = e("../engine/UIManager"),
            s = e("../engine/VersionManager"),
            r = e("./config/ViewConfig"),
            l = e("./model/ChatModel"),
            c = e("./model/ServerTime"),
            g = e("./network/SocketClient"),
            f = e("./sdk/SdkHelper"),
            d = e("./utils/MusicHelper"),
            h = e("./manager/SkillManager"),
            u = e("./model/RoleInfoModel"),
            p = e("../engine/EventManager"),
            m = e("./event/CommonEvent"),
            C = e("./config/WordConfig"),
            v = e("../engine/ProtoUtils"),
            _ = e("../engine/SoundPrefab"),
            y = e("../engine/MusicPrefab"),
            M = e("./network/HttpHelper"),
            I = e("./config/GameConfig"),
            b = e("./prefab/GameManager"),
            L = function() {
                function e() {}
                return e.prototype.init = function() {
                    p.EventManager.instance.on(m.CommonEvent.Event_SdkInit, this.sdkInit, this), cc.debug.setDisplayStats(!1), cc.game.setFrameRate(60), cc.dynamicAtlasManager.enabled = !1, g.default.init(), s.default.instance.init(), f.default.init(), c.ServerTime.init(), h.default.instance.init(), v.ProtoUtils.init()
                }, e.prototype.startGame = function() {
                    o.Logger.log("startGame"), l.ChatModel.reInit(), d.MusicHelper.play_bg(), I.GameConfig.socketUrl = I.GameConfig.getLoginDomain(), f.default.sdkInit_Ol()
                }, e.prototype.restartGame = function() {
                    u.default.instance = null, _.default.destory(), y.default.destory(), n.default.getInstance().isReconnecting = !1, n.default.getInstance().reconnectTimes = 0, n.default.getInstance().closeSocket(!1), a.default.instance.closeAllView(), I.GameConfig.socketUrl = I.GameConfig.getLoginDomain(), cc.game.restart()
                }, e.prototype.showServerFail = function(e) {
                    b.default.instance.isPause = !0, n.default.getInstance().isReconnecting = !1, n.default.getInstance().reconnectTimes = 0, n.default.getInstance().closeSocket(!1), a.default.instance.createView(r.default.gameView.ServerWeiHuView, null, C.WordConfig.getWord(e))
                }, e.prototype.sdkInit = function() {
                    this.loadServerList()
                }, e.prototype.loadServerList = function() {
                    var e = this;
                    o.Logger.log("loadServerList"), M.default.getDomainList(function() {
                        e.enterGame()
                    })
                }, e.prototype.enterGame = function() {
                    a.default.instance.closeAllView(), a.default.instance.createView(r.default.gameView.zoneServer)
                }, e.prototype.gotoLogin = function() {
                    a.default.instance.closeAllView(), a.default.instance.createView(r.default.gameView.login, function() {})
                }, e.instance = new e, e
            }();
        i.default = L, cc._RF.pop()
    }, {
        "../engine/EventManager": "EventManager",
        "../engine/GameSocket": "GameSocket",
        "../engine/Logger": "Logger",
        "../engine/MusicPrefab": "MusicPrefab",
        "../engine/ProtoUtils": "ProtoUtils",
        "../engine/SoundPrefab": "SoundPrefab",
        "../engine/UIManager": "UIManager",
        "../engine/VersionManager": "VersionManager",
        "./config/GameConfig": "GameConfig",
        "./config/ViewConfig": "ViewConfig",
        "./config/WordConfig": "WordConfig",
        "./event/CommonEvent": "CommonEvent",
        "./manager/SkillManager": "SkillManager",
        "./model/ChatModel": "ChatModel",
        "./model/RoleInfoModel": "RoleInfoModel",
        "./model/ServerTime": "ServerTime",
        "./network/HttpHelper": "HttpHelper",
        "./network/SocketClient": "SocketClient",
        "./prefab/GameManager": "GameManager",
        "./sdk/SdkHelper": "SdkHelper",
        "./utils/MusicHelper": "MusicHelper"
    }],
    GameManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e9cb0yOKnNCXrOSRA2a/KPB", "GameManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {
                this.tabIndex = 0, this.isPause = !1
            }
            return e.prototype.init = function(e) {
                this.gameView = e
            }, e.prototype.isInFightView = function() {
                return 0 == e.instance.tabIndex
            }, e.instance = new e, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    GamePrivilegeView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "cde6eyT9npL6qhgJ1j3e7RI", "GamePrivilegeView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../model/PrivilegeModel"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = e("../utils/MusicHelper"),
            g = e("../config/ChongZhiConfig"),
            f = e("../../engine/EventManager"),
            d = e("../config/GameConst"),
            h = e("../../engine/Logger"),
            u = e("../network/SocketClient"),
            p = e("../../engine/DateUtil"),
            m = e("../sdk/SdkHelper"),
            C = cc._decorator,
            v = C.ccclass,
            _ = (C.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e) {
                    void 0 === e && (e = s.default.Privilege_Type.recovery), this.privilegeType = e
                }, t.prototype.onShow = function() {
                    r.default.instance.setTopUI(l.default.gameView.GamePrivilege), this.initData(), this.initUI(), this.registerEvent()
                }, t.prototype.initData = function() {}, t.prototype.initUI = function() {
                    var e,
                        t,
                        n,
                        o = this.findChild(this.node, "sp/recycle"),
                        a = this.findChild(this.node, "sp/fightGod"),
                        r = this.findChild(this.node, "txt/label_1"),
                        l = this.findChild(this.node, "txt/label_2"),
                        c = (this.findChild(this.node, "txt/label_3"), this.findChild(this.node, "txt/priceLabel_1")),
                        f = this.findChild(this.node, "txt/priceLabel_2"),
                        d = this.findChild(this.node, "txt/priceLabel_3");
                    if (this.privilegeType == s.default.Privilege_Type.recovery) {
                        o.active = !0, a.active = !1, m.default.isAndroid() ? (e = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.RECYCLE_MONTH), t = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.RECYCLE_SEASON), n = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.MERGE_SEASON)) : (e = g.ChongZhiConfig.getConfigById(i.Config_Ios.RECYCLE_MONTH), t = g.ChongZhiConfig.getConfigById(i.Config_Ios.RECYCLE_SEASON), n = g.ChongZhiConfig.getConfigById(i.Config_Ios.MERGE_SEASON));
                        var h = p.default.getDay(1e3 * e.continueTime),
                            u = p.default.getDay(1e3 * t.continueTime);
                        r.getComponent(cc.Label).string = "\u589e\u52a0\u56de\u6536\u7279\u6743" + h + "\u5929\u6301\u7eed\u65f6\u95f4", l.getComponent(cc.Label).string = "\u589e\u52a0\u56de\u6536\u7279\u6743" + u + "\u5929\u6301\u7eed\u65f6\u95f4", c.getComponent(cc.Label).string = "" + e.money, f.getComponent(cc.Label).string = "" + t.money, d.getComponent(cc.Label).string = "" + n.money
                    } else if (this.privilegeType == s.default.Privilege_Type.FightGod) {
                        o.active = !1, a.active = !0, m.default.isAndroid() ? (e = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.FIGHTGOD_MONTH), t = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.FIGHTGOD_SEASON), n = g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.MERGE_SEASON)) : (e = g.ChongZhiConfig.getConfigById(i.Config_Ios.FIGHTGOD_MONTH), t = g.ChongZhiConfig.getConfigById(i.Config_Ios.FIGHTGOD_SEASON), n = g.ChongZhiConfig.getConfigById(i.Config_Ios.MERGE_SEASON));
                        var C = e.continueTime;
                        h = p.default.getDay(1e3 * C), u = p.default.getDay(1e3 * t.continueTime);
                        r.getComponent(cc.Label).string = "\u589e\u52a0\u6218\u795e\u7279\u6743" + h + "\u5929\u6301\u7eed\u65f6\u95f4", l.getComponent(cc.Label).string = "\u589e\u52a0\u6218\u795e\u7279\u6743" + u + "\u5929\u6301\u7eed\u65f6\u95f4", c.getComponent(cc.Label).string = "" + e.money, f.getComponent(cc.Label).string = "" + t.money, d.getComponent(cc.Label).string = "" + n.money
                    }
                }, t.prototype.registerEvent = function() {
                    var e = this.findChild(this.node, "btn/monthBtn"),
                        t = this.findChild(this.node, "btn/seasonBtn"),
                        i = this.findChild(this.node, "btn/mergeBtn"),
                        n = this.findChild(this.node, "btn/closeBtn");
                    this.onAddEvent(e, this.onClickMonth.bind(this)), this.onAddEvent(t, this.onClickSeason.bind(this)), this.onAddEvent(i, this.onClickMerge.bind(this)), this.onAddEvent(n, this.onClickClose.bind(this)), f.EventManager.instance.on(d.EVENT_NAME.REFRESH_PRIVILEGE, this.onEventRefreshPrivilege, this)
                }, t.prototype.onEventRefreshPrivilege = function(e, t) {}, t.prototype.onClickMonth = function() {
                    var e;
                    c.MusicHelper.play_click(), this.privilegeType == s.default.Privilege_Type.recovery ? e = m.default.isAndroid() ? g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.RECYCLE_MONTH) : g.ChongZhiConfig.getConfigById(i.Config_Ios.RECYCLE_MONTH) : this.privilegeType == s.default.Privilege_Type.FightGod && (e = m.default.isAndroid() ? g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.FIGHTGOD_MONTH) : g.ChongZhiConfig.getConfigById(i.Config_Ios.FIGHTGOD_MONTH)), h.Logger.log("\u70b9\u51fb\u6708\u5361=", e), u.default.req_charge(e.id), this.closeView()
                }, t.prototype.onClickSeason = function() {
                    var e;
                    c.MusicHelper.play_click(), this.privilegeType == s.default.Privilege_Type.recovery ? e = m.default.isAndroid() ? g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.RECYCLE_SEASON) : g.ChongZhiConfig.getConfigById(i.Config_Ios.RECYCLE_SEASON) : this.privilegeType == s.default.Privilege_Type.FightGod && (e = m.default.isAndroid() ? g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.FIGHTGOD_SEASON) : g.ChongZhiConfig.getConfigById(i.Config_Ios.FIGHTGOD_SEASON)), h.Logger.log("\u70b9\u51fb\u5b63\u5361=", e), u.default.req_charge(e.id), this.closeView()
                }, t.prototype.onClickMerge = function() {
                    var e;
                    c.MusicHelper.play_click(), e = m.default.isAndroid() ? g.ChongZhiConfig.getConfigById(i.CONFIG_INDEX.MERGE_SEASON) : g.ChongZhiConfig.getConfigById(i.Config_Ios.MERGE_SEASON), h.Logger.log("\u70b9\u51fb\u53cc\u5361=", e), u.default.req_charge(e.id), this.closeView()
                }, t.prototype.onClickClose = function() {
                    c.MusicHelper.play_click(), this.onClose()
                }, t.prototype.onClose = function() {
                    this.closeView()
                }, t.CONFIG_INDEX = {
                    RECYCLE_MONTH: 2,
                    FIGHTGOD_MONTH: 3,
                    RECYCLE_SEASON: 4,
                    FIGHTGOD_SEASON: 5,
                    MERGE_SEASON: 6
                }, t.Config_Ios = {
                    RECYCLE_MONTH: 1002,
                    FIGHTGOD_MONTH: 1003,
                    RECYCLE_SEASON: 1004,
                    FIGHTGOD_SEASON: 1005,
                    MERGE_SEASON: 1006
                }, t = i = o([v], t)
            }(a.default));
        i.default = _, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ChongZhiConfig": "ChongZhiConfig",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper"
    }],
    GameSocket: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b2679krszZPOYxYmvmI4Jp8", "GameSocket"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../game/event/CommonEvent"),
            o = e("./EventManager"),
            a = e("./GameWebSocket"),
            s = e("./Logger"),
            r = e("./ProtoConfig"),
            l = e("./ProtoUtils"),
            c = e("./UIManager"),
            g = e("../game/config/GameConfig"),
            f = e("../game/model/ServerTime"),
            d = e("../game/network/SocketClient"),
            h = e("../game/config/ViewConfig"),
            u = e("./DateUtil"),
            p = e("./SocketRequestData"),
            m = e("./RandomUtil"),
            C = function() {
                function e() {
                    this.isConnected = !1, this.isConnecting = !1, this.requestMsgQue = [], this.pingInteval = 1e4, this.sendTimeCount = 13e3, this.connectTimeMax = 3e3, this.lastRecvTime = 0, this.isReconnecting = !1, this.reconnectCount = 0, this.reconnectTimes = 0, this.maxReconnectTimes = 3, this.onlyId = 1, this.callbackMap = new Map, this.init()
                }
                return e.prototype.checkOnlyId = function() {
                    var e = this.onlyId;
                    return this.onlyId++, this.onlyId >= 999999 && (this.onlyId = 1), e
                }, e.getInstance = function() {
                    return e._instance || (e._instance = new e), e._instance
                }, e.prototype.init = function() {
                    this.socket = new a.default, o.EventManager.instance.off(n.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this), o.EventManager.instance.on(n.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this), this.isConnected = !1, this.isConnecting = !1, cc.game.off(cc.game.EVENT_HIDE, this.onHideToBackground, this), cc.game.on(cc.game.EVENT_HIDE, this.onHideToBackground, this), cc.game.off(cc.game.EVENT_SHOW, this.aWakeFromBackGround, this), cc.game.on(cc.game.EVENT_SHOW, this.aWakeFromBackGround, this), this.socket.SetCallBacks(this.onConnect, this.onClose, this.onSocketData, this.onError, this)
                }, e.prototype.onHideToBackground = function() {
                    s.Logger.log("onHideToBackground")
                }, e.prototype.aWakeFromBackGround = function() {
                    s.Logger.log("aWakeFromBackGround"), cc.audioEngine.resumeAll()
                }, e.prototype.onConnect = function(e) {
                    c.default.instance.closeView(h.default.gameView.OfflineView), this.isConnected = !0, this.isConnecting = !1, this.reconnectTimes = 0, clearTimeout(this.connectTimeId), c.default.instance.hideLoadingIcon(), this.isReconnecting ? d.default.login() : this.checkSendPack()
                }, e.prototype.onClose = function(e) {
                    this.isConnected = !1, this.isConnecting = !1, this.isLogin = !1, clearTimeout(this.connectTimeId), c.default.instance.hideLoadingIcon(), s.Logger.log("GameSocket onClose", this.isReconnecting), this.isReconnecting && this.reConnect()
                }, e.prototype.onError = function(e) {
                    console.log("GameSocket onError")
                }, e.prototype.connnect = function(e) {
                    var t = this;
                    void 0 === e && (e = g.GameConfig.socketUrl), this.isConnected || this.isConnecting || (this.isConnecting = !0, console.log("socket connect start==", e), c.default.instance.showLoadingIcon(), this.connectTimeId = setTimeout(function() {
                        s.Logger.log("connect socket time out="), t.closeSocket(!0)
                    }, this.connectTimeMax), this.socket.connect(e))
                }, e.prototype.reConnect = function() {
                    this.requestMsgQue = [], this.isReconnecting = !0, this.reconnectTimes++, c.default.instance.createView(h.default.gameView.OfflineView), this.reconnectCount = 1 * cc.game.getFrameRate()
                }, e.prototype.checkReConnect = function() {
                    this.isReconnecting && (this.reconnectCount--, 0 == this.reconnectCount && (c.default.instance.createView(h.default.gameView.OfflineView), this.connnect()))
                }, e.prototype.onFrameUpdate = function() {
                    this.checkReConnect()
                }, e.prototype.pingRequest = function() {
                    var t = l.ProtoUtils.Create(r.ProtoConfig.s_req_heart);
                    t.setHeart(1), e.getInstance().sendToSocket(t), clearTimeout(this.timeOutId), s.Logger.log("pingRequest=="), this.timeOutId = setTimeout(function() {
                        s.Logger.log("\u8d85\u65f6\u91cd\u8fde"), e.getInstance().closeSocket(!0)
                    }, 5e3)
                }, e.prototype.ping = function() {
                    var e = this;
                    this.isConnected && (this.pingRequest(), clearTimeout(this.pingTimeId), this.pingTimeId = setTimeout(function() {
                        e.ping()
                    }, this.pingInteval))
                }, e.prototype.checkSendPack = function() {
                    if (this.requestMsgQue.length > 0) {
                        var e = this.requestMsgQue.shift();
                        if (this.isConnected) {
                            var t = this.createSendPack(e).buffer;
                            this.socket.send(t), this.checkSendPack()
                        } else
                            this.reConnect()
                    }
                }, e.prototype.createSendPack = function(e) {
                    var t = l.ProtoUtils.GetProtoName(e.data),
                        i = r.ProtoConfig.getProtoRequestType(t),
                        n = e.data.serializeBinary();
                    e.callback && this.callbackMap.set(e.id, e.callback), this.scu_rand = m.default.nextInt(1, 999999);
                    var o = l.ProtoUtils.Create(r.ProtoConfig.PB_MESSAGE);
                    o.setSeq(e.id), o.setHead(i), o.setData(n);
                    var a = Math.floor(this.scu_key / 1e3) + (100 * (this.scu_rand << 1) - 99);
                    return isNaN(a) && (a = 1), o.setScu(a), o.setScuRand(this.scu_rand), t != r.ProtoConfig.s_req_heart && s.Logger.log("createSendPack===", t, a, o, e.id, t, i, this.callbackMap), o.serializeBinary()
                }, e.prototype.sendToSocket = function(e, t) {
                    void 0 === t && (t = null);
                    var i = new p.default;
                    i.id = this.checkOnlyId(), i.data = e, i.callback = t, this.requestMsgQue.push(i), this.isConnected ? this.checkSendPack() : this.connnect()
                }, e.prototype.onSocketData = function(e) {
                    this.lastRecvTime = u.default.now();
                    var t = new Uint8Array(e),
                        i = l.ProtoUtils.DeserializeBinary(r.ProtoConfig.PB_MESSAGE, t),
                        a = i.getSeq(),
                        g = i.getHead(),
                        d = i.getData(),
                        h = i.getScuRand();
                    this.scu_rand = h << 1;
                    var p = r.ProtoConfig.getProtoRespName(g);
                    if (clearTimeout(this.timeOutId), p != r.ProtoConfig.c_req_heart && s.Logger.log("onSocketData=", a, g, p), 0 != a) {
                        var m = this.callbackMap.get(a);
                        if (m)
                            return void m(p, d)
                    }
                    if (g == r.ProtoConfig.getProtoResponeseType(r.ProtoConfig.c_user_login)) {
                        c.default.instance.hideLoadingIcon();
                        var C = l.ProtoUtils.DeserializeBinary(r.ProtoConfig.c_user_login, d),
                            v = C.getRet();
                        if (s.Logger.log("\u767b\u5f55\u6210\u529f=", C), 1 == v)
                            ;
                        else if (2 == v) {
                            var _ = C.getScuKey();
                            this.scu_key = _
                        }
                        o.EventManager.instance.dispatch(n.CommonEvent.Event_SocketRespMsg, p, d)
                    } else if (g == r.ProtoConfig.getProtoResponeseType(r.ProtoConfig.c_req_heart)) {
                        var y = l.ProtoUtils.DeserializeBinary(r.ProtoConfig.c_req_heart, d);
                        f.ServerTime.setServerTime(1e3 * y.getServerTime())
                    } else
                        r.ProtoConfig.getProtoResponeseType(r.ProtoConfig.c_req_role_info), c.default.instance.hideLoadingIcon(), o.EventManager.instance.dispatch(n.CommonEvent.Event_SocketRespMsg, p, d)
                }, e.prototype.closeSocket = function(e) {
                    void 0 === e && (e = !0), this.socket.readyState != a.GameWebSocketStatus.CLOSED && (this.isConnected = !1, this.isLogin = !1, this.isReconnecting = e, this.socket.close(), this.socket = null, this.init())
                }, e
            }();
        i.default = C, cc._RF.pop()
    }, {
        "../game/config/GameConfig": "GameConfig",
        "../game/config/ViewConfig": "ViewConfig",
        "../game/event/CommonEvent": "CommonEvent",
        "../game/model/ServerTime": "ServerTime",
        "../game/network/SocketClient": "SocketClient",
        "./DateUtil": "DateUtil",
        "./EventManager": "EventManager",
        "./GameWebSocket": "GameWebSocket",
        "./Logger": "Logger",
        "./ProtoConfig": "ProtoConfig",
        "./ProtoUtils": "ProtoUtils",
        "./RandomUtil": "RandomUtil",
        "./SocketRequestData": "SocketRequestData",
        "./UIManager": "UIManager"
    }],
    GameUIView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5a783zfCzRA37Tyy1cagLfF", "GameUIView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/EventManager"),
            s = e("../../engine/UIManager"),
            r = e("../../engine/VersionManager"),
            l = e("../../engine/ViewBase"),
            c = e("../config/ColorConfig"),
            g = e("../config/GameConfig"),
            f = e("../config/HeroConfig"),
            d = e("../config/MapConfig"),
            h = e("../config/ViewConfig"),
            u = e("../event/CommonEvent"),
            p = e("../model/FightModel"),
            m = e("../model/GuideModel"),
            C = e("../model/RoleInfoModel"),
            v = e("../prefab/GameManager"),
            _ = e("../utils/MusicHelper"),
            y = e("../utils/UIHelper"),
            M = e("./GameView"),
            I = e("./Map/MapView"),
            b = e("./Roles/BagView"),
            L = e("./Setting/SettingView"),
            w = e("./FangShopView"),
            S = e("../../engine/Logger"),
            E = cc._decorator,
            k = E.ccclass,
            T = E.property,
            N = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.gameViewPrefab = null, t.bagViewPrefab = null, t.fangshiPrefab = null, t.mapPrefab = null, t.settingPrefab = null, t.topBgList = [], t
                }
                var i;
                return n(t, e), i = t, t.prototype.onEnable = function() {
                    s.default.instance.closeView(h.default.gameView.LoadingTipView), a.EventManager.instance.on(u.CommonEvent.Event_SwitchMapSuc, this.switchMapSuc, this), a.EventManager.instance.on(u.CommonEvent.Event_has_reward, this.hadRewardRefresh, this), a.EventManager.instance.on(u.CommonEvent.Event_JumpToSkillEffectView, this.jumptoBagTab, this)
                }, t.prototype.start = function() {
                    this.checkOffline()
                }, t.prototype.checkOffline = function() {
                    S.Logger.log("last_off_line_time===============", C.default.instance.last_off_line_time, C.default.instance.off_line_exp), C.default.instance.last_off_line_time > 300 && C.default.instance.level >= 5 && C.default.instance.off_line_exp > 0 && s.default.instance.createView(h.default.gameView.OfflineGiftView)
                }, t.prototype.onShow = function() {
                    for (var e = 0; e < d.MapConfig.Max_World; e++)
                        this.topBgList[e] = this.findChild(this.node, "view/top/topBg" + e), this.topBgList[e].active = !1;
                    this.view = this.node.getChildByName("view"), this.settingContainer = this.findChild(this.node, "view/settingContainer"), this.top = this.view.getChildByName("top"), this.hadRewardRedNode = this.top.getChildByName("spRed"), this.hadRewardRefresh(), this.bottom = this.view.getChildByName("bottom"), this.panel = this.bottom.getChildByName("panel"), this.nowExpNode = this.findChild(this.bottom, "expContainer/nowExpNode"), this.expWidth = this.nowExpNode.parent.width, this.txtVersion = this.getChild(this.bottom, "txtVersion", cc.Label), this.txtVersion.string = r.default.instance.nowVersion, this.txtExp = this.getChild(this.bottom, "expContainer/txtExp", cc.Label), this.gameContainer = this.findChild(this.node, "view/gameContainer"), this.gameView = cc.instantiate(this.gameViewPrefab).getComponent(M.default), this.gameContainer.addChild(this.gameView.node), this.gameView.onShow(), this.bagView = cc.instantiate(this.bagViewPrefab).getComponent(b.default), this.gameContainer.addChild(this.bagView.node), this.bagView.node.active = !1, this.bagView.onShow(), this.fangshiView = cc.instantiate(this.fangshiPrefab).getComponent(w.default), this.gameContainer.addChild(this.fangshiView.node), this.fangshiView.node.active = !1, this.fangshiView.onShow(), this.mapView = cc.instantiate(this.mapPrefab).getComponent(I.default), this.gameContainer.addChild(this.mapView.node), this.mapView.node.active = !1, this.mapView.onShow(), this.settingView = cc.instantiate(this.settingPrefab).getComponent(L.default), this.settingContainer.addChild(this.settingView.node), this.settingView.node.active = !1, this.settingView.onShow();
                    for (var t = 0; t < this.panel.childrenCount; t++)
                        this.panel.children[t].on(cc.Node.EventType.TOUCH_END, this.onSelectBtn.bind(this, t));
                    this.role = this.top.getChildByName("role").getComponent(cc.Label), this.userName = this.top.getChildByName("name").getComponent(cc.Label), this.level = this.top.getChildByName("level").getComponent(cc.Label), this.val_1 = this.top.getChildByName("val_1").getComponent(cc.Label), this.val_2 = this.top.getChildByName("val_2").getComponent(cc.Label), this.val_3 = this.top.getChildByName("val_3").getComponent(cc.Label), this.val_4 = this.top.getChildByName("val_4").getComponent(cc.Label), this.icon1 = this.top.getChildByName("val_3").getChildByName("icon1"), this.icon2 = this.top.getChildByName("val_4").getChildByName("icon2"), this.Recharge = this.top.getChildByName("Recharge"), this.Recharge.on(cc.Node.EventType.TOUCH_END, this.onClickCharge.bind(this)), this.icon1.on(cc.Node.EventType.TOUCH_END, this.onClickBuy.bind(this)), this.icon2.on(cc.Node.EventType.TOUCH_END, this.onClickCharge.bind(this)), g.GameConfig.platform === cc.sys.WECHAT_GAME ? (this.Recharge.active = !1, this.hadRewardRedNode.active = !1, this.icon2.active = !1, this.findChild(this.top, "val_4/icon2").active = !1) : cc.tween(this.Recharge).repeatForever(cc.tween().to(.3, {
                        scaleX: 1,
                        scaleY: 1
                    }).to(.3, {
                        scaleX: .8,
                        scaleY: .8
                    })).start(), this.currSelect = 0, this.panel.children[this.currSelect].color = c.ColorConfig.YellowColor, this.onUpdateInfo(), a.EventManager.instance.on("GUIDE_1001", function(e) {
                        m.GuideModel.dispatchTounchEndEvent(this.panel.children[1], e)
                    }.bind(this), this), a.EventManager.instance.on("GUIDE_1006", function(e) {
                        m.GuideModel.dispatchTounchEndEvent(this.panel.children[0], e)
                    }.bind(this), this), a.EventManager.instance.on("GUIDE_3001", function(e) {
                        m.GuideModel.dispatchTounchEndEvent(this.panel.children[4], e)
                    }.bind(this), this), g.GameConfig.connectServer || m.GuideModel.instance.checkGuide(m.GUIDE_TYPE.NOOB), this.refreshTopBg()
                }, t.prototype.switchMapSuc = function() {
                    this.refreshTopBg()
                }, t.prototype.refreshTopBg = function() {
                    for (var e = 0; e < this.topBgList.length; e++)
                        e == d.MapConfig.curMapConfig.world - 1 ? this.topBgList[e].active = !0 : this.topBgList[e].active = !1
                }, t.prototype.hadRewardRefresh = function(e) {
                    void 0 === e && (e = !1), 1 == C.default.instance.has_reward || e ? this.hadRewardRedNode.active = !0 : this.hadRewardRedNode.active = !1, g.GameConfig.platform === cc.sys.WECHAT_GAME && (this.hadRewardRedNode.active = !1)
                }, t.prototype.onHide = function() {}, t.prototype.onUserInfoRefresh = function() {
                    this.onUpdateInfo()
                }, t.prototype.onUpdateInfo = function() {
                    this.role.string = C.default.instance.getOccupationName(), this.userName.string = C.default.instance.roleName, this.level.string = C.default.instance.level + "\u7ea7", this.val_1.string = p.default.totalFight + "", this.val_2.string = y.UIHelper.tranNumber(C.default.instance.getCream()) + "", this.val_3.string = y.UIHelper.tranNumber(C.default.instance.getCoin()) + "", this.val_4.string = y.UIHelper.tranNumber(C.default.instance.getGold()) + "";
                    var e = C.default.instance.getExp(),
                        t = f.HeroConfig.getMaxExp(C.default.instance.occupation, C.default.instance.level);
                    this.txtExp.string = e + "/" + t, this.nowExpNode.width = Math.floor(this.expWidth * (e / t)), this.nowExpNode.width >= this.expWidth && (this.nowExpNode.width = this.expWidth)
                }, t.prototype.onClickCharge = function() {
                    _.MusicHelper.play_click(), s.default.instance.createView(h.default.gameView.topUp), this.hadRewardRedNode.active = !1
                }, t.prototype.jumptoBagTab = function() {
                    this.onSelectBtn(1)
                }, t.prototype.onSelectBtn = function(e) {
                    if (S.Logger.log("onSelectBtn", e), _.MusicHelper.play_click(), this.currSelect != e) {
                        this.currSelect = e, v.default.instance.tabIndex = e;
                        for (var t = 0; t < this.panel.childrenCount; t++)
                            this.panel.children[t].color = c.ColorConfig.WhiteColor;
                        this.panel.children[e].color = c.ColorConfig.YellowColor, i.tabIndex = e, 0 == e ? (this.bagView.node.active = !1, this.fangshiView.node.active = !1, this.mapView.node.active = !1, this.settingView.node.active = !1) : 1 == e ? (this.bagView.node.active = !0, this.fangshiView.node.active = !1, this.mapView.node.active = !1, this.settingView.node.active = !1) : 2 == e ? (this.fangshiView.node.active = !0, this.bagView.node.active = !1, this.mapView.node.active = !1, this.settingView.node.active = !1) : 3 == e ? (this.bagView.node.active = !1, this.fangshiView.node.active = !1, this.mapView.node.active = !0, this.settingView.node.active = !1) : 4 == e && (this.bagView.node.active = !1, this.fangshiView.node.active = !1, this.mapView.node.active = !1, this.settingView.node.active = !0)
                    }
                }, t.prototype.onClickBuy = function() {
                    _.MusicHelper.play_click(), y.UIHelper.showCoinNoEnough()
                }, t.tabIndex = 0, o([T(cc.Prefab)], t.prototype, "gameViewPrefab", void 0), o([T(cc.Prefab)], t.prototype, "bagViewPrefab", void 0), o([T(cc.Prefab)], t.prototype, "fangshiPrefab", void 0), o([T(cc.Prefab)], t.prototype, "mapPrefab", void 0), o([T(cc.Prefab)], t.prototype, "settingPrefab", void 0), t = i = o([k], t)
            }(l.default);
        i.default = N, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/VersionManager": "VersionManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/HeroConfig": "HeroConfig",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FightModel": "FightModel",
        "../model/GuideModel": "GuideModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../prefab/GameManager": "GameManager",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./FangShopView": "FangShopView",
        "./GameView": "GameView",
        "./Map/MapView": "MapView",
        "./Roles/BagView": "BagView",
        "./Setting/SettingView": "SettingView"
    }],
    GameView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ed4996sWY5HMqHV3s3DI8AD", "GameView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/DateUtil"),
            s = e("../../engine/EventManager"),
            r = e("../../engine/Logger"),
            l = e("../../engine/MathUtils"),
            c = e("../../engine/RandomUtil"),
            g = e("../../engine/UIManager"),
            f = e("../../engine/ViewBase"),
            d = e("../config/MapConfig"),
            h = e("../config/ViewConfig"),
            u = e("../event/CommonEvent"),
            p = e("../manager/MapManager"),
            m = e("../manager/MonsterManager"),
            C = e("../manager/ScoreManager"),
            v = e("../manager/SkillEffectManager"),
            _ = e("../manager/SummonedManager"),
            y = e("../model/BossModel"),
            M = e("../model/Grid"),
            I = e("../model/MapStatisticsModel"),
            b = e("../model/RoleInfoModel"),
            L = e("../prefab/GameManager"),
            w = e("../prefab/RolePrefab"),
            S = e("../utils/UIHelper"),
            E = e("./ReviveView"),
            k = e("../config/GameConfig"),
            T = e("../network/SocketClient"),
            N = e("../model/PrivilegeModel"),
            R = e("../config/GameConst"),
            B = e("./CityView"),
            P = cc._decorator,
            A = P.ccclass,
            O = P.property,
            x = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.tempPrefabItemNode = null, t.gridPositionList = [], t.allRolePrefabList = [], t.allGridList = [], t.maxBossProgressLength = 162, t.myRoleGridRow = -1, t.myRoleGridCol = -1, t.rolePool = new cc.NodePool, t.cityPrefab = null, t.bgList = [], t.frontBgList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this)
                }, t.prototype.onEnable = function() {
                    s.EventManager.instance.on(R.EVENT_NAME.REFRESH_PRIVILEGE, this.refreshPrivilege, this), s.EventManager.instance.on(u.CommonEvent.Event_RoleRevive, this.onMyReview, this), s.EventManager.instance.on(u.CommonEvent.Event_SwitchMapStart, this.switchMapStart, this), s.EventManager.instance.on(u.CommonEvent.Event_SwitchMapSuc, this.switchMapSuc, this), s.EventManager.instance.on(y.BossModel.Event_Boss_Init, this.initBossClient, this), m.default.instance.init(), this.schedule(this.refreshBossHp.bind(this), 1)
                }, t.prototype.onShow = function() {
                    for (var e = 0; e < d.MapConfig.Max_World; e++)
                        this.bgList[e] = this.findChild(this.node, "view/game/panel/roleContainer/bg" + e), this.frontBgList[e] = this.findChild(this.node, "view/game/panel/frontBg" + e);
                    this.cityView = cc.instantiate(this.cityPrefab).getComponent(B.default), this.node.addChild(this.cityView.node), this.cityView.node.active = !1, this.cityView.onShow(), m.default.instance.init(), this.reviveView = this.node.getChildByName("revive").getComponent(E.default), this.reviveView.node.active = !1, v.default.instance.init(this.findChild(this.node, "view/game/panel/skill/effect")), this.tempPrefabItemNode = this.findChild(this.node, "view/game/panel/roleContainer/item"), this.bossNode = this.findChild(this.node, "view/boss"), this.bossNode.active = !1, this.bossRefresh = this.findChild(this.node, "view/boss/bossRefresh"), this.bossRefreshProgress = this.findChild(this.node, "view/boss/bossRefresh/bossRefreshProgress"), this.bossRevive = this.findChild(this.node, "view/boss/bossRevive"), this.bossReviveProgress = this.findChild(this.node, "view/boss/bossRevive/bossReviveProgress"), this.txtBossLeftTime = this.getChild(this.node, "view/boss/bossRevive/txtBossLeftTime", cc.Label), this.txtRecover = this.findChild(this.node, "view/game/panel/txt/txtRecover").getComponent(cc.Label), this.txtRecover.node.active = !1, this.txtGuai = this.findChild(this.node, "view/game/panel/txt/txtGuai").getComponent(cc.Label), this.txtGuai.node.active = !1, this.txtJueSe = this.findChild(this.node, "view/game/panel/txt/txtJueSe").getComponent(cc.Label), this.txtJueSe.node.active = !1, C.default.instance.init([this.txtRecover, this.txtJueSe, this.txtGuai]), this.tempPrefabItemNode.active = !1, this.allGridList = [];
                    for (e = 0; e < p.default.instance.gridRow; e++) {
                        this.gridPositionList[e] = [];
                        for (var t = 0; t < p.default.instance.gridCol; t++) {
                            this.allGridList.push(M.default.init(e, t));
                            var i = this.tempPrefabItemNode.x + t * this.tempPrefabItemNode.width,
                                n = this.tempPrefabItemNode.y - e * this.tempPrefabItemNode.height;
                            this.gridPositionList[e][t] = cc.v2(i, n)
                        }
                    }
                    this.switchMapSuc(), this.onAddEvent(this.findChild(this.node, "privilege/huishouNode"), this.onClickHuiShouPrivilege.bind(this)), this.onAddEvent(this.findChild(this.node, "privilege/zhanshenNode"), this.onClickZhanShenPrivilege.bind(this))
                }, t.prototype.refreshWorld = function() {
                    for (var e = 0; e < this.bgList.length; e++)
                        e == d.MapConfig.curMapConfig.world - 1 ? (this.bgList[e].active = !0, this.frontBgList[e].zIndex = 10, this.frontBgList[e].active = !0) : (this.bgList[e].active = !1, this.frontBgList[e].active = !1)
                }, t.prototype.onClickHuiShouPrivilege = function() {
                    r.Logger.log("onClickHuiShouPrivilege"), g.default.instance.createView(h.default.gameView.PrivilegeRecovery)
                }, t.prototype.onClickZhanShenPrivilege = function() {
                    g.default.instance.createView(h.default.gameView.PrivilegeFightGodView)
                }, t.prototype.switchMapStart = function() {
                    L.default.instance.isPause = !0, _.default.instance.summonedInfoList = [];
                    for (var e = this.allRolePrefabList.length - 1; e >= 0; e--)
                        this.allRolePrefabList[e] && this.allRolePrefabList[e].node && (this.allRolePrefabList[e].nowRoleType == w.default.RoleType.Summoned && this.myRolePrefab && !this.myRolePrefab.isDead && _.default.instance.summonedInfoList.push(this.allRolePrefabList[e].roleInfo), this.allRolePrefabList[e].node.destroy(), this.allRolePrefabList.splice(e, 1));
                    this.myRolePrefab && this.myRolePrefab.node && this.myRolePrefab.node.destroy(), this.myRolePrefab = null, this.allRolePrefabList = [], m.default.instance.leaveMap(), _.default.instance.leaveMap(), this.bossNode.active = !1
                }, t.prototype.switchMapSuc = function() {
                    var e = this;
                    L.default.instance.isPause = !1, this.refreshPrivilege(), I.default.instance.reInit(), this.refreshWorld(), this.myRoleGridRow = -1, this.myRoleGridCol = -1, r.Logger.log("GameView.switchMapSuc", d.MapConfig.curMapConfig, d.MapConfig.curMapConfig.type), this.myRolePrefab && this.myRolePrefab.node && this.myRolePrefab.node.destroy(), d.MapConfig.curMapConfig.type == d.MapConfig.MAP_TYPE.City ? (b.default.instance.revive(), this.cityView.node.active = !0) : (this.cityView.node.active = !1, L.default.instance.init(this), p.default.instance.createMapAstar(), this.addMyRolePrefab(), m.default.instance.enterMap(this), _.default.instance.enterMap(this)), this.initBoss(), this.schedule(function() {
                        e.initBossClient()
                    }, 1)
                }, t.prototype.update = function() {}, t.prototype.initBoss = function() {
                    d.MapConfig.curMapConfig.boss ? (this.bossNode.active = !0, k.GameConfig.connectServer ? T.default.req_boss_fresh_time() : this.initBossClient()) : this.bossNode.active = !1
                }, t.prototype.initBossClient = function() {
                    if (d.MapConfig.curMapConfig.boss) {
                        var e = y.BossModel.getBoss(b.default.instance.mapId);
                        if (e.getLeftTime() <= 0)
                            this.bossRefresh.active = !0, this.bossRevive.active = !1, m.default.instance.nowBoss || (this.bossRefreshProgress.width = this.maxBossProgressLength), e.getCanRevive() || T.default.req_boss_fresh_time();
                        else {
                            this.bossRefresh.active = !1, this.bossRevive.active = !0;
                            var t = d.MapConfig.curMapConfig.boss.rebtime;
                            N.default.hadFightGodPrivilege() && (t = Math.floor(t / 2)), this.bossReviveProgress.width = (t - e.getLeftTime()) / t * this.maxBossProgressLength, this.bossReviveProgress.width <= 0 && (this.bossReviveProgress.width = 0), this.bossReviveProgress.width > this.maxBossProgressLength && (this.bossReviveProgress.width = this.maxBossProgressLength), this.txtBossLeftTime.string = a.default.formatLeftTime2(1e3 * e.getLeftTime())
                        }
                    }
                }, t.prototype.refreshBossHp = function() {
                    d.MapConfig.curMapConfig.boss && (m.default.instance.nowBoss ? (this.bossRefreshProgress.width = m.default.instance.nowBoss.getHp() / m.default.instance.nowBoss.getMaxHp() * this.maxBossProgressLength, this.bossRefreshProgress.width <= 0 && (this.bossRefreshProgress.width = 0), this.bossRefreshProgress.width > this.maxBossProgressLength && (this.bossRefreshProgress.width = this.maxBossProgressLength)) : this.initBossClient())
                }, t.prototype.onMyReview = function() {
                    this.addMyRolePrefab(), this.myRolePrefab.setWudi()
                }, t.prototype.addMyRolePrefab = function() {
                    var e = this.randomOneEmptyGrid();
                    this.myRolePrefab = this.addRolePrefab(e), this.myRolePrefab.setRoleType(w.default.RoleType.Role)
                }, t.prototype.randomOneEmptyGrid = function() {
                    for (var e, t = this.getEmptyGridList(), i = 0; i < t.length; i++)
                        if (t[i].row == this.myRoleGridRow && t[i].col == this.myRoleGridCol) {
                            e = t[i];
                            break
                        }
                    return e || (e = c.default.randomItem(t)), e
                }, t.prototype.getEmptyGridList = function() {
                    for (var e = this.allGridList.concat(), t = 0; t < this.allRolePrefabList.length; t++)
                        for (var i = this.allRolePrefabList[t], n = e.length - 1; n >= 0; n--) {
                            var o = e[n];
                            if (o.row == i.gridRow && o.col == i.gridCol) {
                                e.splice(n, 1);
                                break
                            }
                        }
                    return e.length <= 0 && r.Logger.warn("getEmptyGridList error==", this.allRolePrefabList, this.allGridList, e), e
                }, t.prototype.release2Prefab = function(e) {
                    this.rolePool.put(e.node)
                }, t.prototype.getRolePrefab = function() {
                    return this.rolePool.size() > 0 ? this.rolePool.get().getComponent(w.default) : cc.instantiate(this.tempPrefabItemNode).getComponent(w.default)
                }, t.prototype.addRolePrefab = function(e) {
                    var t = cc.instantiate(this.tempPrefabItemNode).getComponent(w.default);
                    return t.gridRow = e.row, t.gridCol = e.col, t.node.parent = this.tempPrefabItemNode.parent, t.node.active = !0, t.node.setPosition(this.gridPositionList[e.row][e.col]), this.allRolePrefabList.push(t), t
                }, t.prototype.addSummoned = function(e) {
                    var t = this.addRolePrefab(e);
                    return t.setRoleType(w.default.RoleType.Summoned), t
                }, t.prototype.addMonster = function(e, t, i, n, o) {
                    var a = this.addRolePrefab(n);
                    return a.setRoleType(w.default.RoleType.Monster, i, e, t, o), a
                }, t.prototype.killMonster = function(e) {
                    for (var t = this.allRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.allRolePrefabList[t];
                        if (e.gridRow == i.gridRow && e.gridCol == i.gridCol) {
                            this.allRolePrefabList.splice(t, 1);
                            break
                        }
                    }
                    e.node.destroy()
                }, t.prototype.killSummoned = function(e) {
                    for (var t = this.allRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.allRolePrefabList[t];
                        if (e.gridRow == i.gridRow && e.gridCol == i.gridCol) {
                            this.allRolePrefabList.splice(t, 1);
                            break
                        }
                    }
                    _.default.instance.gotoDead(e), e.node.destroy()
                }, t.prototype.gotoRoleDead = function(e) {
                    for (var t = this.allRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.allRolePrefabList[t];
                        if (e.gridRow == i.gridRow && e.gridCol == i.gridCol) {
                            this.allRolePrefabList.splice(t, 1);
                            break
                        }
                    }
                    e.isDead = !0, e.node.destroy(), this.myRoleGridRow = this.myRolePrefab.gridRow, this.myRoleGridCol = this.myRolePrefab.gridCol, this.myRolePrefab = null, S.UIHelper.showTip("\u4f60\u88ab\u6740\u6b7b\u4e86"), this.reviveView.node.active = !0
                }, t.prototype.getGridPosition = function(e, t) {
                    try {
                        return this.gridPositionList[e][t]
                    } catch (i) {
                        r.Logger.error("getGridPosition error=", e, t, this.gridPositionList)
                    }
                }, t.prototype.getMonsterAttackRoleList = function(e, t, i) {
                    for (var n = [], o = 0; o < this.allRolePrefabList.length; o++) {
                        var a = this.allRolePrefabList[o];
                        if (!a.isDead && (a.nowRoleType == w.default.RoleType.Role || a.nowRoleType == w.default.RoleType.Summoned)) {
                            var s = Math.abs(a.gridRow - t),
                                r = Math.abs(a.gridCol - i);
                            s <= e && r <= e && n.push(a)
                        }
                    }
                    return n
                }, t.prototype.getMonsterAttackList = function() {
                    for (var e = [], t = 0; t < this.allRolePrefabList.length; t++) {
                        var i = this.allRolePrefabList[t];
                        i.isDead || i.nowRoleType != w.default.RoleType.Role && i.nowRoleType != w.default.RoleType.Summoned || e.push(i)
                    }
                    return e
                }, t.prototype.getNearlyRole = function(e) {
                    for (var t, i = Number.MAX_VALUE, n = 0; n < this.allRolePrefabList.length; n++) {
                        var o = this.allRolePrefabList[n];
                        if (!o.isDead && (o.nowRoleType == w.default.RoleType.Role || o.nowRoleType == w.default.RoleType.Summoned))
                            l.default.distance(o.gridRow, o.gridCol, e.gridRow, e.gridCol) <= i && (t = o)
                    }
                    return t
                }, t.prototype.canWalk = function(e, t) {
                    if (e < 0 || e >= p.default.instance.gridRow)
                        return !1;
                    if (t < 0 || t >= p.default.instance.gridCol)
                        return !1;
                    for (var i = 0; i < this.allRolePrefabList.length; i++) {
                        var n = this.allRolePrefabList[i];
                        if (n.gridRow == e && n.gridCol == t)
                            return !1
                    }
                    return !0
                }, t.prototype.refreshPrivilege = function() {
                    var e = this.findChild(this.node, "privilege/spRedZhanShen"),
                        t = this.findChild(this.node, "privilege/spRedHuiShou");
                    if (e.active = !1, t.active = !1, k.GameConfig.platform === cc.sys.WECHAT_GAME)
                        return this.findChild(this.node, "privilege/huishouNode").active = !1, this.findChild(this.node, "privilege/zhanshenNode/noactiveNode").active = !1, this.findChild(this.node, "privilege/huishouNode/noactiveNode").active = !1, void (this.findChild(this.node, "privilege/zhanshenNode").active = !1);
                    var i = N.default.getFightGodPrivilege(),
                        n = N.default.getRecoveryPrivilege();
                    i && 2 == i.is_get_diamond && (e.active = !0), n && 2 == n.is_get_diamond && (t.active = !0), N.default.hadFightGodPrivilege() ? (this.findChild(this.node, "privilege/zhanshenNode/noactiveNode").active = !1, this.findChild(this.node, "privilege/zhanshenNode/activeNode").active = !0) : (this.findChild(this.node, "privilege/zhanshenNode/noactiveNode").active = !0, this.findChild(this.node, "privilege/zhanshenNode/activeNode").active = !1), r.Logger.log("\u56de\u6536\u7279\u6743+|===", N.default.hadRecoveryPrivilege()), N.default.hadRecoveryPrivilege() ? (this.findChild(this.node, "privilege/huishouNode/noactiveNode").active = !1, this.findChild(this.node, "privilege/huishouNode/activeNode").active = !0) : (this.findChild(this.node, "privilege/huishouNode/noactiveNode").active = !0, this.findChild(this.node, "privilege/huishouNode/activeNode").active = !1)
                }, t.prototype.onHide = function() {
                    r.Logger.log("gameview onHide===")
                }, t.prototype.onDisable = function() {
                    m.default.instance.destroy(), r.Logger.log("gameview onDisable===")
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), r.Logger.log("gameview ondestroy===")
                }, o([O(cc.Prefab)], t.prototype, "cityPrefab", void 0), t = o([A], t)
            }(f.default);
        i.default = x, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/MathUtils": "MathUtils",
        "../../engine/RandomUtil": "RandomUtil",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../manager/MapManager": "MapManager",
        "../manager/MonsterManager": "MonsterManager",
        "../manager/ScoreManager": "ScoreManager",
        "../manager/SkillEffectManager": "SkillEffectManager",
        "../manager/SummonedManager": "SummonedManager",
        "../model/BossModel": "BossModel",
        "../model/Grid": "Grid",
        "../model/MapStatisticsModel": "MapStatisticsModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../prefab/GameManager": "GameManager",
        "../prefab/RolePrefab": "RolePrefab",
        "../utils/UIHelper": "UIHelper",
        "./CityView": "CityView",
        "./ReviveView": "ReviveView"
    }],
    GameWebSocket: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "861b8+wl3dETJXq24Rwjl6K", "GameWebSocket"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n,
            o = e("./Logger"),
            a = e("./GameSocket");
        (function(e) {
            e[e.CONNECTING = 0] = "CONNECTING", e[e.OPEN = 1] = "OPEN", e[e.CLOSING = 2] = "CLOSING", e[e.CLOSED = 3] = "CLOSED"
        })(n = i.GameWebSocketStatus || (i.GameWebSocketStatus = {}));
        var s = function() {
            function e() {}
            return e.prototype.SetCallBacks = function(e, t, i, n, o) {
                this.onConnect = e, this.onClose = t, this.onSocketData = i, this.onError = n, this.thisObject = o
            }, e.prototype.connect = function(e) {
                if (this.socket && this.socket.close(), o.Logger.log("websocket connnect=", e), cc.sys.isNative) {
                    var t = cc.url.raw("resources/https/cacert.pem");
                    o.Logger.log("\u8bc1\u4e66\u5730\u5740===========", t), jsb.fileUtils.isFileExist(t) ? (o.Logger.log("\u8bc1\u4e66===\u5b58\u5728========"), this.socket = new WebSocket(e, null, t)) : (o.Logger.log("\u8bc1\u4e66==no\u5b58\u5728========"), this.socket = new WebSocket(e))
                } else
                    this.socket = new WebSocket(e);
                this.socket.binaryType = "arraybuffer", this.bindEvent()
            }, e.prototype.bindEvent = function() {
                var e = this;
                this.socket.onopen = function() {
                    o.Logger.log("gamewebsocket onopen="), e.onConnect.call(e.thisObject)
                }, this.socket.onclose = function() {
                    o.Logger.log("gamewebsocket close="), a.default.getInstance().isReconnecting = !0, e.onClose.call(e.thisObject), e.clear()
                }, this.socket.onerror = function() {
                    o.Logger.log("gamewebsocket onerror=")
                }, this.socket.onmessage = function(t) {
                    e.onSocketData.call(e.thisObject, t.data)
                }
            }, e.prototype.clear = function() {
                this.unBindEvent(), this.socket = null
            }, e.prototype.unBindEvent = function() {
                this.socket.onopen = null, this.socket.onclose = null, this.socket.onerror = null, this.socket.onmessage = null
            }, e.prototype.close = function() {
                o.Logger.log("gamewebsocket close my", this.socket.readyState), this.socket && this.socket.readyState == n.OPEN ? (o.Logger.log("gamewebsocket close22 my", this.socket), this.socket.close(), this.onClose.call(this.thisObject)) : this.onClose.call(this.thisObject), this.clear()
            }, e.prototype.send = function(e) {
                this.socket && this.socket.readyState == n.OPEN && this.socket.send(e)
            }, Object.defineProperty(e.prototype, "readyState", {
                get: function() {
                    return this.socket ? this.socket.readyState : n.CLOSED
                },
                enumerable: !0,
                configurable: !0
            }), e
        }();
        i.default = s, cc._RF.pop()
    }, {
        "./GameSocket": "GameSocket",
        "./Logger": "Logger"
    }],
    GmView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "45d79JcaM5CT50Nd/7N1zlK", "GmView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/Logger"),
            r = e("../config/GameConfig"),
            l = e("../GameController"),
            c = e("../network/SocketClient"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    this.txtCode = this.node.getChildByName("txtCode").getComponent(cc.EditBox), this.txtArg = this.node.getChildByName("txtArg").getComponent(cc.EditBox), this.node.getChildByName("btnSend").on(cc.Node.EventType.TOUCH_END, this.onClickSend.bind(this))
                }, t.prototype.onClickCLose = function() {
                    this.closeView()
                }, t.prototype.onClickSend = function() {
                    s.Logger.log("\u53d1\u9001GM", this.txtCode.string, this.txtArg.string, this.txtArg.string.split(",")), r.GameConfig.connectServer && ("restart" == this.txtCode.string ? (this.closeView(), l.default.instance.restartGame()) : c.default.sendGm(this.txtCode.string, this.txtArg.string))
                }, t = o([f], t)
            }(a.default));
        i.default = d, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/ViewBase": "ViewBase",
        "../GameController": "GameController",
        "../config/GameConfig": "GameConfig",
        "../network/SocketClient": "SocketClient"
    }],
    GoldsConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "4fcb6cYvSpHaoYfrUWQltR0", "GoldsConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.level = 0, t.gold = 50, t.off_gold = 1, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.gold = e.gold, i.off_gold = e.off_gold, i.off_cream = e.off_cream, i.off_gold1 = e.off_gold1, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    e == parseInt(n) && (t = i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.GoldsConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    Grid: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "96862IxoOtMaYh+Q8q9mJUV", "Grid"), Object.defineProperty(i, "__esModule", {
            value: !0
        }), function(e) {
            e[e.UP = 0] = "UP", e[e.Down = 1] = "Down", e[e.Left = 2] = "Left", e[e.Right = 3] = "Right"
        }(i.GridSide || (i.GridSide = {}));
        var n = function() {
            function e(e, t) {
                this.row = e, this.col = t
            }
            return e.init = function(t, i) {
                return new e(t, i)
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    GuideConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "09255JluvZNdIVw/xxf8CAQ", "GuideConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = function() {
                return function() {
                    this.id = "", this.next_id = "", this.sys_type = 0, this.text_id = "", this.gudiePos = null, this.textPos = null, this.offset = null, this.repeat = !1
                }
            }();
        i.GuideItem = a;
        var s = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return n(t, e), t.obj2Config = function(e) {
                var t = new a;
                for (var i in e)
                    "function" != typeof e[i] && (t[i] = e[i]);
                return t
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getGuideConfig = function(e) {
                return this.configMap.get(e)
            }, t.configMap = new Map, t
        }(o.JsonConfigBase);
        i.GuideConfig = s, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    GuideModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "87a7dqJwIlMTqOzgFMUSHxs", "GuideModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("../../engine/LocalStorage"),
            a = e("../config/GuideConfig"),
            s = e("../../engine/UIManager"),
            r = e("../config/ViewConfig"),
            l = e("../config/GameConst"),
            c = e("./TaskModel"),
            g = e("../network/SocketClient"),
            f = e("../../engine/Logger");
        (function(e) {
            e[e.NOOB = 1] = "NOOB", e[e.YUN_YOU = 2] = "YUN_YOU", e[e.SKILL = 3] = "SKILL", e[e.NULL = Number.MAX_VALUE] = "NULL"
        })(i.GUIDE_TYPE || (i.GUIDE_TYPE = {}));
        var d = function() {
            function e() {}
            return e.prototype.checkGuide = function(t) {
                e.LOCAL_KEY[t], n.default.instance.roleId;
                f.Logger.log("checkGuide", "", t, c.TaskModel.hadFinishTask(t), c.TaskModel.modelList), c.TaskModel.hadFinishTask(t) ? f.Logger.log("checkGuide fail finish", "", c.TaskModel.hadFinishTask(t)) : this.startGuid(t, e.START_ID[t])
            }, e.prototype.startGuid = function(e, t) {
                var i = a.GuideConfig.getGuideConfig(t);
                f.Logger.log("checkGuide startGuide", t, i), s.default.instance.createView(r.default.gameView.guideView, null, e, i)
            }, e.prototype.saveGuidStep = function(t, i) {
                if (i) {
                    var s = e.LOCAL_KEY[t] + n.default.instance.roleId;
                    if (o.default.setItem(s, i.next_id), f.Logger.log("checkGuide finish", i, t, c.TaskModel.hadFinishTask(t), c.TaskModel.modelList), "end" != i.next_id) {
                        var r = a.GuideConfig.getGuideConfig(i.next_id);
                        if (r)
                            return "3002" == r.id && n.default.instance.occupation == l.GameConst.OCCUPATION.FA_SHI && (r.gudiePos.x += 90, r.offset.x += 90, r.textPos.x += 90), r
                    } else
                        g.default.req_finish_task(t, 1);
                    return null
                }
            }, e.dispatchTounchEndEvent = function(e, t) {
                e && e.dispatchEvent(t)
            }, e.LOCAL_KEY = ["GuideNoobID", "GuideYunYouID", "GuideSkillID"], e.START_ID = ["", "1000", "2001", "3001"], e.instance = new e, e
        }();
        i.GuideModel = d, cc._RF.pop()
    }, {
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../config/GameConst": "GameConst",
        "../config/GuideConfig": "GuideConfig",
        "../config/ViewConfig": "ViewConfig",
        "../network/SocketClient": "SocketClient",
        "./RoleInfoModel": "RoleInfoModel",
        "./TaskModel": "TaskModel"
    }],
    GuideView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "028d1ldiuJMQ7myIiung/Qt", "GuideView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/ViewConfig"),
            r = e("../../engine/UIManager"),
            l = e("../model/GuideModel"),
            c = e("../../engine/EventManager"),
            g = e("../../engine/Logger"),
            f = cc._decorator,
            d = f.ccclass,
            h = (f.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.type = l.GUIDE_TYPE.NULL, t.config = null, t.node_1 = null, t.node_2 = null, t.node_3 = null, t
                }
                return n(t, e), t.prototype.onInitChild = function(e, t) {
                    this.type = e, this.config = t
                }, t.prototype.onShow = function() {
                    this.node_1 = this.node.getChildByName("node_1"), this.node_2 = this.node.getChildByName("node_2"), this.node_3 = this.node.getChildByName("node_3"), this.findChild(this.node_1, "next").on(cc.Node.EventType.TOUCH_END, this.onClickNext.bind(this)), this.findChild(this.node_2, "next").on(cc.Node.EventType.TOUCH_END, this.onClickNext.bind(this)), this.findChild(this.node_3, "next").on(cc.Node.EventType.TOUCH_END, this.onClickNext.bind(this)), this.refreshUI()
                }, t.prototype.refreshUI = function() {
                    if (this.config)
                        switch (g.Logger.log("checkGuide guideview", this.config), this.node_1.active = !1, this.node_2.active = !1, this.node_3.active = !1, this.config.sys_type) {
                        case 0:
                            this.node_1.active = !0;
                            break;
                        case 1:
                            this.node_2.active = !0;
                            var e = this.node_2.getChildByName("panel"),
                                t = this.node_2.getChildByName("mask"),
                                i = this.node_2.getChildByName("next"),
                                n = this.node_2.getChildByName("icon"),
                                o = e.getChildByName("content").getComponent(cc.Label);
                            e.position = cc.v3(this.config.textPos.x, this.config.textPos.y), t.position = cc.v3(this.config.gudiePos.x, this.config.gudiePos.y), i.position = cc.v3(this.config.gudiePos.x, this.config.gudiePos.y), n.position = cc.v3(this.config.offset.x, this.config.offset.y), o.string = this.config.text_id, n.stopAllActions(), n.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.5, 0, -30), cc.moveBy(.5, 0, 30))));
                            break;
                        case 2:
                            this.node_3.active = !0;
                            e = this.node_3.getChildByName("panel"), t = this.node_3.getChildByName("mask"), i = this.node_3.getChildByName("next"), n = this.node_3.getChildByName("icon"), o = e.getChildByName("content").getComponent(cc.Label);
                            e.position = cc.v3(this.config.textPos.x, this.config.textPos.y), t.position = cc.v3(this.config.gudiePos.x, this.config.gudiePos.y), i.position = cc.v3(this.config.gudiePos.x, this.config.gudiePos.y), n.position = cc.v3(this.config.offset.x, this.config.offset.y), o.string = this.config.text_id, n.stopAllActions(), n.runAction(cc.repeatForever(cc.sequence(cc.moveBy(.8, 0, 30), cc.moveBy(.8, 0, -30))))
                        }
                }, t.prototype.update = function() {
                    r.default.instance.setTopUI(s.default.gameView.guideView)
                }, t.prototype.onClickNext = function(e) {
                    c.EventManager.instance.dispatch("GUIDE_" + this.config.id, e), this.config && this.type != l.GUIDE_TYPE.NULL && (this.config = l.GuideModel.instance.saveGuidStep(this.type, this.config), this.config ? this.refreshUI() : this.closeView())
                }, t = o([d], t)
            }(a.default));
        i.default = h, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig",
        "../model/GuideModel": "GuideModel"
    }],
    HaoEncrypt: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "54f3bDz/HFKIpG6zp9Ech5u", "HaoEncrypt"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.encode = function(e) {
                for (var t = "", i = 0; i < e.length; i++) {
                    var n = e.charCodeAt(i);
                    n += i % 2 == 0 ? 3 : 1, t += String.fromCharCode(n)
                }
                return t
            }, e.decode = function(e) {
                for (var t = "", i = 0; i < e.length; i++) {
                    var n = e.charCodeAt(i);
                    n -= i % 2 == 0 ? 3 : 1, t += String.fromCharCode(n)
                }
                return t
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    HelpGiftModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "aef3fj1B8pCVIlW5jaeJfwn", "HelpGiftModel");
        var n = this && this.__decorate || function(e, t, i, n) {
            var o,
                a = arguments.length,
                s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                s = Reflect.decorate(e, t, i, n);
            else
                for (var r = e.length - 1; r >= 0; r--)
                    (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
            return a > 3 && s && Object.defineProperty(t, i, s), s
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = cc._decorator,
            a = o.ccclass,
            s = (o.property, function() {
                function e() {}
                return e = n([a], e)
            }());
        i.default = s, cc._RF.pop()
    }, {}],
    HeroConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b6adcThCydLDKDJ9VZ65TIC", "HeroConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../model/RoleInfoModel"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.getMyMaxLevel = function() {
                    var e = 1;
                    return this.configMap.forEach(function(t, i) {
                        a.default.instance.occupation == parseInt(t.roleType) && t.level > e && (e = t.level)
                    }), e
                }, t.getNextHeroConfig = function() {
                    var e = this.getHeroConfig(a.default.instance.occupation, a.default.instance.level + 1);
                    return e || (e = this.getMyHeroConfig()), e
                }, t.getMyHeroConfig = function() {
                    return this.getHeroConfig(a.default.instance.occupation, a.default.instance.level)
                }, t.getHeroConfig = function(e, t) {
                    var i;
                    return this.configMap.forEach(function(n, o) {
                        e == parseInt(n.roleType) && t == n.level && (i = n)
                    }), i
                }, t.getMaxExp = function(e, t) {
                    return this.getHeroConfig(e, t).exp
                }, t.obj2Config = function(e) {
                    var i = new t;
                    for (var n in e)
                        "function" != typeof e[n] && (i[n] = e[n]);
                    return i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n)
                    })
                }, t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.HeroConfig = s, cc._RF.pop()
    }, {
        "../model/RoleInfoModel": "RoleInfoModel",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    HotUpdate: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "33266rIEM5PiojO/Y+nMski", "HotUpdate"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = e("./VersionManager"),
            a = e("./EventManager"),
            s = e("./ManifestConfig"),
            r = function() {
                function e() {
                    this.needUpdate = !1
                }
                return e.prototype.init = function(e, t, i) {
                    void 0 === t && (t = "Code-remote-asset"), cc.sys.isNative && (this.hotupdateIndex = e, this.key = t, this.storagePath = jsb.fileUtils.getWritablePath() + t, this.manifestUrl = i, jsb.fileUtils.isDirectoryExist(this.storagePath) || jsb.fileUtils.createDirectory(this.storagePath), n.Logger.log("init removeDirectory=", this.storagePath + "_temp")), this.needUpdate = !1, this.isUpdating = !1, this.isFinishUpdate = !1, this.isCheck = !1
                }, e.prototype.jumpToApkUpate = function() {
                    var e;
                    cc.sys.isNative && (cc.sys.os == cc.sys.OS_ANDROID ? e = o.default.instance.apkStoreUrl : cc.sys.os == cc.sys.OS_IOS && (e = o.default.instance.iosStoreUrl)), n.Logger.info("jumpToApkUpate==androidurl===", o.default.instance.apkStoreUrl), n.Logger.info("jumpToApkUpate==iosStoreUrl===", o.default.instance.iosStoreUrl), n.Logger.info("jumpToApkUpate=====", e), cc.sys.openURL(e)
                }, e.prototype.showPackUpdateDialog = function() {
                    this.jumpToApkUpate()
                }, e.prototype.checkCb = function(t) {
                    switch (n.Logger.log("checkCb Code: =================" + t.getEventCode()), t.getEventCode()) {
                    case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:
                        n.Logger.log("No local manifest file found, hot update skipped."), this.failUpdate();
                        break;
                    case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:
                    case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:
                        n.Logger.log("Fail to download manifest file, hot update skipped."), this.failUpdate();
                        break;
                    case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:
                        n.Logger.log("Already up to date with the latest remote version."), this.alreadyUpToDate();
                        break;
                    case jsb.EventAssetsManager.NEW_VERSION_FOUND:
                        n.Logger.log("new version found, please try to update.", this.localBigVersion, this.remoteBigVersion), this.key == o.default.Config_Key[0] && this.localBigVersion < this.remoteBigVersion ? (n.Logger.log("new version found, please try to update======packupdate=", this.localBigVersion, this.remoteBigVersion), this.showPackUpdateDialog()) : (n.Logger.log("new version found, please try to update======hotupdate=", this.localBigVersion, this.remoteBigVersion), this.needUpdate = !0, a.EventManager.instance.dispatch(e.Event_On_NeedUpdate, this.key));
                        break;
                    case jsb.EventAssetsManager.UPDATE_PROGRESSION:
                        n.Logger.log("UPDATE_PROGRESSION2222==========", this.key, t.getDownloadedBytes(), t.getTotalBytes()), t.getTotalBytes() > 0 && a.EventManager.instance.dispatch(e.Event_On_Progress, t.getDownloadedBytes(), t.getTotalBytes(), this.key);
                        break;
                    case jsb.EventAssetsManager.UPDATE_FINISHED:
                        n.Logger.log("UPDATE_FINISHED=============="), this.finishUpdate(!0);
                        break;
                    case jsb.EventAssetsManager.UPDATE_FAILED:
                        n.Logger.log("Update failed==========", t.getMessage()), this.failUpdate();
                        break;
                    case jsb.EventAssetsManager.ERROR_UPDATING:
                        var i = this.storagePath + "/" + t.getAssetId(),
                            s = this.storagePath + "_temp/" + t.getAssetId();
                        n.Logger.log("fullFilePath====", i), n.Logger.log("tempFilePath====", s), n.Logger.log("ERROR_UPDATING=============", t.getAssetId(), t.getMessage()), this.failUpdate();
                        break;
                    default:
                        return
                    }
                }, e.prototype.checkUpdate = function() {
                    if (this.isUpdating || this.isCheck)
                        n.Logger.log("Checking or updating ...");
                    else {
                        var e = o.default.Config_Url_Key[this.hotupdateIndex];
                        this._am || (this._am = new jsb.AssetsManager("", this.storagePath, this.versionCompareHandle.bind(this)));
                        var t = s.default.getManifestStr(e);
                        n.Logger.log("checkUpdate=======manifestStr=======", t);
                        var i = new jsb.Manifest(t, this.storagePath);
                        this._am.setVerifyCallback(function(e, t) {
                            return !0
                        }), this._am.setEventCallback(this.checkCb.bind(this)), this.isCheck = !0, this._am.loadLocalManifest(i, this.storagePath), this._am.checkUpdate()
                    }
                }, e.prototype.versionCompareHandle = function(e, t) {
                    var i = e.split("."),
                        a = t.split(".");
                    n.Logger.log("versionCompareHandle======", this.key, o.default.Config_Key[0]), this.key == o.default.Config_Key[0] && (n.Logger.log("versionCompareHandle22===", e, t), o.default.instance.nowVersion = e, o.default.instance.targetVersion = t), this.localBigVersion = parseInt(i[0]), this.remoteBigVersion = parseInt(a[0]);
                    for (var s = 0; s < i.length; ++s) {
                        var r = parseInt(i[s]),
                            l = parseInt(a[s] || 0);
                        if (r !== l)
                            return r - l
                    }
                    return a.length > i.length ? -1 : 0
                }, e.prototype.startUpdate = function() {
                    if (!this.isUpdating) {
                        var t = this._am.getLocalManifest(),
                            i = this._am.getRemoteManifest();
                        n.Logger.log("startUpdate111===", t.getVersionFileUrl()), n.Logger.log("startUpdate2222===", t.getManifestFileUrl()), n.Logger.log("startUpdate3333===", i.getVersionFileUrl()), n.Logger.log("startUpdate4444===", i.getManifestFileUrl()), this.isUpdating = !0, a.EventManager.instance.dispatch(e.Event_On_Progress, 0, 100, this.key), this._am.update()
                    }
                }, e.prototype.disposeUpdate = function() {
                    this._am && (this._am.setVerifyCallback(null), this._am.setEventCallback(null)), this._am = null, this._checkListener = null, this.isUpdating = !1, this.needUpdate = !1
                }, e.prototype.failUpdate = function() {
                    this.disposeUpdate(), this.isCheck = !1, this.key, o.default.Config_Key[0], a.EventManager.instance.dispatch(e.Event_On_Fail_Update, this.key)
                }, e.prototype.alreadyUpToDate = function() {
                    this.disposeUpdate(), this.isFinishUpdate = !0, a.EventManager.instance.dispatch(e.Event_On_ALREADY_UP_TO_DATE, this.key)
                }, e.prototype.finishUpdate = function(t) {
                    if (n.Logger.log("\u66f4\u65b0\u5b8c\u6210=====", t), this.disposeUpdate(), this.isFinishUpdate = !0, a.EventManager.instance.dispatch(e.Event_Finish_Update, this.key, t), t) {
                        var i = jsb.fileUtils.getSearchPaths();
                        n.Logger.log("\u66f4\u65b0\u5b8c\u6210====searchPaths======", i), cc.sys.localStorage.setItem("HotUpdateSearchPaths", JSON.stringify(i)), jsb.fileUtils.setSearchPaths(i), this.key == o.default.Config_Key[0] && (cc.audioEngine.stopAll(), cc.game.restart())
                    }
                }, e.Event_CheckUpdate = "Event_CheckUpdate", e.Event_On_Progress = "HotUpdate_Event_On_Progress", e.Event_On_NeedUpdate = "HotUpdate_Event_On_NeedUpdate", e.Event_Finish_Update = "HotUpdate_Event_Finish", e.Event_On_ALREADY_UP_TO_DATE = "HotUpdate_Event_On_ALREADY_UP_TO_DATE", e.Event_On_Fail_Update = "HotUpdate_Event_On_Fail_Update", e
            }();
        i.default = r, cc._RF.pop()
    }, {
        "./EventManager": "EventManager",
        "./Logger": "Logger",
        "./ManifestConfig": "ManifestConfig",
        "./VersionManager": "VersionManager"
    }],
    HttpHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c8b3fiXHatHmJ6mznEJORw9", "HttpHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/HttpUtil"),
            o = e("../../engine/LocalStorage"),
            a = e("../../engine/Logger"),
            s = e("../config/GameConfig"),
            r = e("../model/NotifyModel"),
            l = e("../model/ServerTime"),
            c = e("../model/ZoneModel"),
            g = e("../sdk/SdkHelper"),
            f = e("../../engine/VersionManager"),
            d = function() {
                function e() {}
                return e.getDomainList = function(e) {
                    var t = new n.default;
                    t.setMethod(n.default.methodTypeOption.GET);
                    var i = [{
                            user_id: o.default.getItem(g.default.Local_Login_Uid_Key),
                            version: f.default.instance.nowVersion
                        }],
                        a = JSON.stringify(i);
                    a = encodeURIComponent(a), t.requestByForm(s.GameConfig.getHttpUrl() + "/game/?server_list=" + a, function(t, i) {
                        t && (c.ZoneModel.json2ZoneModel(i), e && e())
                    })
                }, e.getNotify = function() {
                    var e = new n.default;
                    e.setMethod(n.default.methodTypeOption.GET);
                    var t = [{
                            app_id: g.default.app_id
                        }],
                        i = JSON.stringify(t);
                    i = encodeURIComponent(i), e.requestByForm(s.GameConfig.getHttpUrl() + "/game/?server_content=" + i, function(e, t) {
                        a.Logger.log("getNotify===", t), e && (r.NotifyModel.content = t.content)
                    })
                }, e.getServerTime = function() {
                    var e = this,
                        t = new n.default;
                    t.setMethod(n.default.methodTypeOption.GET);
                    var i;
                    i = "https://api.m.taobao.com/rest/api3.do?api=mtop.common.getTimestamp", t.requestByForm(i, function(e, t) {
                        if (e)
                            try {
                                l.ServerTime.setServerTime(t.data.t)
                            } catch (e) {
                                a.Logger.warn("getServerTime error=", e)
                            }
                    }), clearTimeout(this.timeId), this.timeId = setTimeout(function() {
                        e.getServerTime()
                    }, 500)
                }, e
            }();
        i.default = d, cc._RF.pop()
    }, {
        "../../engine/HttpUtil": "HttpUtil",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/VersionManager": "VersionManager",
        "../config/GameConfig": "GameConfig",
        "../model/NotifyModel": "NotifyModel",
        "../model/ServerTime": "ServerTime",
        "../model/ZoneModel": "ZoneModel",
        "../sdk/SdkHelper": "SdkHelper"
    }],
    HttpUtil: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "9b04e5rx6JP2r+vAVnlh/Eo", "HttpUtil"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = function() {
                function e() {
                    this.methodType = "GET", this.responseType = "json", this.myRequestHeader = new Map, this.hadSetContentType = !1, this.contentType = "", this.xhr = cc.loader.getXMLHttpRequest()
                }
                return e.prototype.setMethod = function(t) {
                    void 0 === t && (t = e.methodTypeOption.POST), this.methodType = t
                }, e.prototype.setParams = function(e) {
                    var t = "",
                        i = 1;
                    for (var o in e)
                        e.hasOwnProperty(o) && (t += 1 == i ? o + "=" + encodeURIComponent(e[o]) : "&" + o + "=" + encodeURIComponent(e[o]), i += 1);
                    return n.Logger.log("setParams==============", e, t), t
                }, e.prototype.setResponseType = function(e) {
                    this.responseType = e
                }, e.prototype.setContentType = function(e) {
                    this.hadSetContentType = !0, this.contentType = e
                }, e.prototype.setRequestHeader = function(e, t) {
                    this.myRequestHeader.set(e, t)
                }, e.prototype.resetRequestHeader = function() {
                    this.myRequestHeader.clear()
                }, e.prototype.requestByForm = function(e, t, i) {
                    var o = this;
                    void 0 === i && (i = 5e3);
                    var a = this.xhr;
                    a.responseType = this.responseType, a.timeout = i, a.onreadystatechange = function() {
                        if (4 == a.readyState && 200 == a.status) {
                            var e = a.response;
                            n.Logger.info("http request======response========", e);
                            try {
                                t && (t(!0, e), t = null)
                            } catch (e) {
                                t && (t(!1), t = null)
                            }
                        } else
                            4 == a.readyState && 301 == a.status ? o.requestByForm(a.getResponseHeader("Location"), t) : 4 == a.readyState && 404 == a.status ? t && (t(!1), t = null) : 4 == a.readyState && t && (t(!1), t = null)
                    }, a.onprogress = function() {}, a.onerror = function() {
                        n.Logger.warn("http request======error========", e), t && (t(!1), t = null)
                    }, a.ontimeout = function() {
                        t && (t(!1), t = null)
                    }, n.Logger.info("http request======url========", e), a.open(this.methodType, e, !0), this.hadSetContentType ? a.setRequestHeader("content-type", this.contentType) : a.setRequestHeader("content-type", "text/plain;charset=UTF-8"), this.myRequestHeader.forEach(function(e, t) {
                        a.setRequestHeader(t, e)
                    }), a.send(), this.resetRequestHeader()
                }, e.prototype.requestByBody = function(e, t, i, o) {
                    var a = this;
                    void 0 === i && (i = null), void 0 === o && (o = 5e3);
                    var s = this.xhr;
                    s.responseType = this.responseType, s.timeout = o, s.onreadystatechange = function() {
                        if (4 == s.readyState && 200 == s.status) {
                            var e = s.response;
                            n.Logger.info("http request======response========", e);
                            try {
                                t && (t(!0, e), t = null)
                            } catch (e) {
                                t && (t(!1), t = null)
                            }
                        } else
                            4 == s.readyState && 301 == s.status ? a.requestByBody(s.getResponseHeader("Location"), t) : 4 == s.readyState && 404 == s.status ? t && (t(!1), t = null) : 4 == s.readyState && t && (t(!1), t = null)
                    }, s.onprogress = function() {}, s.onerror = function() {
                        n.Logger.warn("http request======error========", e), t && (t(!1), t = null)
                    }, s.ontimeout = function() {
                        t && (t(!1), t = null)
                    }, n.Logger.info("http request======url========", e), n.Logger.info("http request======params========", i), s.open(this.methodType, e, !0), this.hadSetContentType ? s.setRequestHeader("content-type", this.contentType) : s.setRequestHeader("content-type", "text/plain;charset=UTF-8"), this.myRequestHeader.forEach(function(e, t) {
                        s.setRequestHeader(t, e)
                    }), s.send(i), this.resetRequestHeader()
                }, e.instance = new e, e.methodTypeOption = {
                    GET: "GET",
                    POST: "POST"
                }, e
            }();
        i.default = o, cc._RF.pop()
    }, {
        "./Logger": "Logger"
    }],
    ITemsConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a2f7dF69TpHEYU+TP+YzWd6", "ITemsConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = "", t.kind = 0, t.name = "", t.position = "", t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                for (var n in e)
                    i[n] = e[n];
                return i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    n.id = i, t.configMap.set(i, n)
                })
            }, t.getITemsConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    e == i.id && (t = i)
                }), t
            }, t.configMap = new Map, t.StackType = {
                Yes: 1,
                No: 0
            }, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ITemsConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    IntensifyBuffConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "46176ldGApHfYWgYIZex706", "IntensifyBuffConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.BonusDamage_p = e.BonusDamage_p, i.DamageReduction_p = e.DamageReduction_p, i.hp_p = e.hp_p, i.level = e.level, i.mp_p = e.mp_p, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.level = parseInt(i)
                })
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.IntensifyBuffConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    IntensifyConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "96fc0p8O8pLKZEXQqZE3IvL", "IntensifyConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("../model/MagicModel"),
            a = e("./GameConst"),
            s = e("./JsonConfigBase"),
            r = e("./MagicNameConfig"),
            l = e("../model/ZoneModel"),
            c = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.prob = 1e4, t.limit_level = 1, t.magicList = [], t
                }
                return n(t, e), t.prototype.getCost = function() {
                    return 100009 == l.ZoneModel.nowZoneInfoModel.unique_id ? this.cost4 : this.cost
                }, t.obj2Config = function(e) {
                    var i = new t;
                    return i.level = e.level, i.prob = e.prob, i.cost = e.cost, i.cost4 = e.cost4, i.prob1 = e.prob1, i.limit_level = e.limit_level, i.magicList = [], i.magicList.push(o.default.create(e[1][0], e[1][1])), i.magicList.push(o.default.create(e[2][0], e[2][1])), i.magicList.push(o.default.create(e[3][0], e[3][1])), i.magicList.push(o.default.create(e[4][0], e[4][1])), i.magicList.push(o.default.create(e[5][0], e[5][1])), i.magicList.push(o.default.create(e[6][0], e[6][1])), i.magicList.push(o.default.create(e[7][0], e[7][1])), i.magicList.push(o.default.create(e[8][0], e[8][1])), i.magicList.push(o.default.create(e[9][0], e[9][1])), i.magicList.push(o.default.create(e[10][0], e[10][1])), i.weapon = o.default.create(e[1][0], e[1][1]), i.corselet = o.default.create(e[2][0], e[2][1]), i.helmet = o.default.create(e[6][0], e[6][1]), i.necklace = o.default.create(e[7][0], e[7][1]), i.bracelet_left = o.default.create(e[3][0], e[3][1]), i.bracelet_right = o.default.create(e[8][0], e[8][1]), i.ring_left = o.default.create(e[4][0], e[4][1]), i.ring_right = o.default.create(e[9][0], e[9][1]), i.belt = o.default.create(e[5][0], e[5][1]), i.shoe = o.default.create(e[10][0], e[10][1]), i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.jsonParse(n), t.configMap.set(i, n)
                    })
                }, t.jsonParse = function(e) {
                    for (var t in e)
                        "string" == typeof e[t] && (e[t] = JSON.parse(e[t]))
                }, t.getIntensifyConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.level && (t = i)
                    }), t
                }, t.getEquipIntensifyConfig = function(e) {
                    var i;
                    return t.configMap.forEach(function(t, n) {
                        t.level != e || (i = t)
                    }), i
                }, t.getMagicModelByGridStrenthenNum = function(e, t) {
                    var i,
                        n = this.getEquipIntensifyConfig(t);
                    return e == a.GridType.WEAPON ? i = n.weapon : e == a.GridType.CORSELET ? i = n.corselet : e == a.GridType.BELT ? i = n.belt : e == a.GridType.BRACELET_lEFT ? i = n.bracelet_left : e == a.GridType.BRACELET_RIGHT ? i = n.bracelet_right : e == a.GridType.HELMET ? i = n.helmet : e == a.GridType.NECK_LACE ? i = n.necklace : e == a.GridType.RING_LEFT ? i = n.ring_left : e == a.GridType.RING_RIGHT ? i = n.ring_right : e == a.GridType.SHOE && (i = n.shoe), i
                }, t.prototype.getAllDef = function() {
                    for (var e = 0, t = 0; t < this.magicList.length; t++) {
                        var i = this.magicList[t];
                        i.magicId == r.MagicNameConfig.MagicId.def && (e += i.magicValue)
                    }
                    return e
                }, t.configMap = new Map, t
            }(s.JsonConfigBase);
        i.IntensifyConfig = c, cc._RF.pop()
    }, {
        "../model/MagicModel": "MagicModel",
        "../model/ZoneModel": "ZoneModel",
        "./GameConst": "GameConst",
        "./JsonConfigBase": "JsonConfigBase",
        "./MagicNameConfig": "MagicNameConfig"
    }],
    ItemInfoModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "bab0fJ/+DFAN6JeZo2jQqz3", "ItemInfoModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/EventManager"),
            o = e("../../engine/Logger"),
            a = e("../config/EquipConfig"),
            s = e("../config/GameConfig"),
            r = e("../config/GameConst"),
            l = e("../config/ITemsConfig"),
            c = e("../config/SkillConfig"),
            g = e("../config/WordConfig"),
            f = e("../manager/SkillManager"),
            d = e("../network/SocketClient"),
            h = e("../sdk/SdkHelper"),
            u = e("../utils/UIHelper"),
            p = e("./GuideModel"),
            m = e("./MagicModel"),
            C = e("./RoleInfoModel"),
            v = e("./ServerTime"),
            _ = e("../config/MapConfig"),
            y = e("../config/MagicNameConfig"),
            M = e("../config/RuneConfig"),
            I = e("../../engine/DateUtil"),
            b = e("./BlessModel"),
            L = function() {
                function e() {}
                return e.create = function(t, i, n, o, a, s, l, c, g, f, d) {
                    void 0 === i && (i = r.GameConst.ITEM_KIND.EQUIP), void 0 === n && (n = ""), void 0 === o && (o = 0), void 0 === a && (a = r.GameConst.QUALITY.WHITE), void 0 === s && (s = !0), void 0 === l && (l = !1), void 0 === c && (c = 0), void 0 === g && (g = []), void 0 === f && (f = []), void 0 === d && (d = -1);
                    var h = new e;
                    return h.role = t, h.itemKind = i, h.itemType = n, h.itemCnt = o, h.quality = a, h.isNew = s, h.isLock = l, h.index = c, h.baseAddAttrList = g, h.randAttrList = f, h.gridId = d, h
                }, e
            }();
        i.AddItemParamStruct = L;
        var w = function() {
            function e() {}
            return e.create = function(t, i, n) {
                void 0 === n && (n = -1);
                var o = new e;
                return o.itemId = t, o.amount = i, o.bagIndex = n, o
            }, e
        }();
        i.DecItemParamStruct = w;
        var S = function() {
            return function() {}
        }();
        i.FuWenNeedModel = S;
        var E = function() {
            function e() {
                this.baseAddAttrList = [], this.randAttrList = [], this.gridId = 2, this.fight = 666, this.end_time = 0, this.fuwenId = 1, this.fuwenAtriList = [], this.fuwenNeedList = [], this.blessAtttList = []
            }
            return e.create = function(t, i, n, o, a, s, l, c, g, f) {
                void 0 === t && (t = r.GameConst.ITEM_KIND.EQUIP), void 0 === i && (i = ""), void 0 === n && (n = 0), void 0 === o && (o = r.GameConst.QUALITY.WHITE), void 0 === a && (a = !0), void 0 === s && (s = !1), void 0 === l && (l = 0), void 0 === c && (c = []), void 0 === g && (g = []), void 0 === f && (f = -1);
                var d = new e;
                return d.itemKind = t, d.itemType = i, d.itemCnt = n, d.quality = o, d.isNew = a, d.isLock = s, d.index = l, d.baseAddAttrList = c, d.randAttrList = g, d.gridId = f, d
            }, e.createDingZhiEquip = function(t) {
                var i = new e,
                    n = a.EquipConfig.getEquipConfigById(t);
                for (var o in i.itemKind = r.GameConst.ITEM_KIND.EQUIP, i.itemType = t, i.itemId = "-" + I.default.now(), i.quality = n.d_pinzhi, i.itemCnt = 1, i.baseAddAttrList = [], n.d_jipin) {
                    if (n.d_jipin[o] > 0)
                        (s = m.default.create(parseInt(o), n.d_jipin[o])).magicId == y.MagicNameConfig.MagicId.atk ? s.magicValue -= n.atk : s.magicId == y.MagicNameConfig.MagicId.mag ? s.magicValue -= n.mag : s.magicId == y.MagicNameConfig.MagicId.spt ? s.magicValue -= n.spt : s.magicId == y.MagicNameConfig.MagicId.def ? s.magicValue -= n.def : s.magicId == y.MagicNameConfig.MagicId.hp && (s.magicValue -= n.hp), i.baseAddAttrList.push(s)
                }
                for (var o in i.randAttrList = [], n.d_suiji)
                    if (n.d_suiji[o] > 0) {
                        var s = m.default.create(parseInt(o), n.d_suiji[o]);
                        i.randAttrList.push(s)
                    }
                return i
            }, e.createFuWenEquip = function(t) {
                var i = new e,
                    n = a.EquipConfig.getEquipConfigById(t);
                for (var o in i.itemId = "-" + I.default.now(), i.itemKind = r.GameConst.ITEM_KIND.EQUIP, i.itemType = t, i.quality = n.d_pinzhi, i.gridId = -1, i.itemCnt = 1, i.baseAddAttrList = [], n.d_jipin) {
                    if (n.d_jipin[o] > 0)
                        (g = m.default.create(parseInt(o), n.d_jipin[o])).magicId == y.MagicNameConfig.MagicId.atk ? g.magicValue -= n.atk : g.magicId == y.MagicNameConfig.MagicId.mag ? g.magicValue -= n.mag : g.magicId == y.MagicNameConfig.MagicId.spt ? g.magicValue -= n.spt : g.magicId == y.MagicNameConfig.MagicId.def ? g.magicValue -= n.def : g.magicId == y.MagicNameConfig.MagicId.hp && (g.magicValue -= n.hp), i.baseAddAttrList.push(g)
                }
                i.fuwenId = n.d_rune, i.fuwenActive = !0, i.fuwenNeedList = [];
                for (var s = M.RuneConfig.getRuneById(i.fuwenId), l = 0; l < s.rune.length; l++) {
                    var c = new S;
                    c.index = l, c.item_type = s.rune[l], i.fuwenNeedList[l] = c
                }
                i.fuwenAtriList = [];
                for (l = 0; l < s.property.length; l++) {
                    var g = new m.default;
                    i.fuwenAtriList[l] = g, g.magicId = s.property[l], g.magicValue = s.pro_min[l], g.min = s.pro_min[l], g.magicId == y.MagicNameConfig.MagicId.skill_all ? (g.magicValue = Math.ceil(s.pro_min[l] / 100), g.max = Math.ceil(s.pro_max[l] / 100)) : g.max = s.pro_max[l], g.color = r.GameConst.QUALITY.ORANGE
                }
                return i.fight = a.EquipConfig.getLunHuiZhiLi(t, i.baseAddAttrList, i.fuwenAtriList), i
            }, e.req_item_listByServer = function(t, i) {
                void 0 === i && (i = C.default.instance);
                e.proto2ModelList(t);
                C.default.saveToLocalStorage()
            }, e.updateItemInfoByServer = function(e, t) {
                void 0 === t && (t = C.default.instance);
                for (var i = e.getDeleteItemIdListList(), a = e.getUpdateitemlistList(), s = e.getAdditemlistList(), l = e.getUpdateEquipList(), c = 0; c < i.length; c++) {
                    var g = i[c].getItemid(),
                        f = this.getItemByid(g + "");
                    this.decItem(g + "", f.itemCnt)
                }
                for (c = 0; c < s.length; c++) {
                    var d = s[c],
                        h = this.proto2Model(d);
                    C.default.instance.itemInfoList.push(h), C.default.instance.addItemToBag(h, h.itemCnt), n.EventManager.instance.dispatch(r.EVENT_NAME.BAG_ADD, h, h.itemCnt)
                }
                for (c = 0; c < a.length; c++) {
                    var u = a[c],
                        p = u.getId(),
                        m = u.getUpdateNum(),
                        v = u.getNew(),
                        _ = this.getItemByid(p + "");
                    _.isNew = 1 == v, o.Logger.log("updateItemList=======2222==========", e, _), m > 0 ? (_.itemCnt += m, C.default.instance.addItemToBag(_, m)) : this.decItem(p + "", Math.abs(m)), n.EventManager.instance.dispatch(r.EVENT_NAME.BAG_ADD, _, _.itemCnt)
                }
                for (c = 0; c < l.length; c++)
                    for (var y = this.proto2Model(l[c]), M = 0; M < C.default.instance.itemInfoList.length; M++)
                        y.itemId == C.default.instance.itemInfoList[M].itemId && (C.default.instance.itemInfoList[M] = y, C.default.instance.updateBagEquip(y), o.Logger.log("\u66f4\u65b0\u88c5\u5907==", y));
                o.Logger.log("updateItemInfoByServer======", e, C.default.instance.itemInfoList), C.default.saveToLocalStorage()
            }, e.proto2ModelList = function(e) {
                var t = e.getItemlistList();
                o.Logger.log("updateItemList============1111=====", t);
                var i = [];
                o.Logger.log("\u80cc\u5305\u7b2c\u4e00\u6b21\u521d\u59cb\u5316=====================", C.default.instance.isInitBag), C.default.instance.isInitBag || (C.default.instance.bagRemainingnumber = C.default.instance.bagAMount, C.default.instance.bagModelList = new Array(C.default.instance.bagAMount));
                for (var n = 0; n < t.length; n++) {
                    var a = t[n],
                        s = this.proto2Model(a);
                    i.push(s), C.default.instance.isInitBag
                }
                return C.default.instance.itemInfoList = i, C.default.instance.isInitBag || (C.default.instance.isInitBag = !0, C.default.instance.sortBag()), o.Logger.log("updateItemList========2222=========", t, C.default.instance.itemInfoList, C.default.instance.bagModelList), C.default.saveToLocalStorage(), i
            }, e.prototype.proto2Model = function(e) {
                o.Logger.log("itemPack=======", e);
                if (this.itemId = e.getItemid() + "", this.itemKind = e.getItemkind(), this.itemType = e.getItemtype(), this.itemCnt = e.getItemcnt(), this.itemKind == r.GameConst.ITEM_KIND.EQUIP)
                    this.quality = e.getQuality();
                else {
                    var t = l.ITemsConfig.getITemsConfigById(this.itemType);
                    this.quality = t.quality
                }
                1 == e.getIsnew() ? this.isNew = !0 : this.isNew = !1, 1 == e.getIslock() ? this.isLock = !0 : this.isLock = !1, this.gridId = e.getGridId(), this.baseAddAttrList = [];
                for (var i = e.getBaseaddattrlistList(), n = 0; n < i.length; n++) {
                    var a = i[n].getK(),
                        s = i[n].getV(),
                        c = m.default.create(a, s);
                    this.baseAddAttrList[n] = c
                }
                i = e.getRandattrlistList(), this.randAttrList = [];
                for (n = 0; n < i.length; n++) {
                    a = i[n].getK(), s = i[n].getV();
                    var g = i[n].getPos();
                    c = m.default.create(a, s);
                    this.randAttrList[g - 1] = c
                }
                this.fight = e.getFight(), this.end_time = 1e3 * e.getEndTime();
                var f = e.getRuneMsg();
                this.fuwenId = f.getRuneId(), this.fuwenActive = f.getIsActive(), this.fuwenAtriList = m.default.proto2RunList(f.getPropertyListList()), this.fuwenNeedList = [];
                var d = f.getNeedRuneListList();
                for (n = 0; n < d.length; n++) {
                    var h = new S;
                    h.index = d[n].getIndex(), h.item_type = d[n].getItemType(), this.fuwenNeedList[n] = h
                }
                this.fuwenNeedList.sort(function(e, t) {
                    return e.index - t.index
                }), this.blessAtttList = [];
                var u = e.getBlessattrlistList();
                for (n = 0; n < u.length; n++) {
                    var p = new b.default;
                    p.blessId = u[n].getBlessid(), p.blessValue = u[n].getBlessattr(), this.blessAtttList[n] = p
                }
                return this
            }, e.proto2Model = function(t) {
                var i = new e;
                return i.proto2Model(t), i
            }, e.deserializeBinaryToModelList = function(e) {
                for (var t = [], i = 0; i < e.length; i++)
                    e[i] ? t[i] = this.deserializeBinaryToModel(e[i]) : t[i] = null;
                return t
            }, e.deserializeBinaryToModel = function(t) {
                var i = new e;
                i.itemId = t.itemId, i.itemKind = t.itemKind, i.itemType = t.itemType, i.quality = t.quality, i.gridId = t.gridId, i.index = t.index, i.isLock = t.isLock, i.isNew = t.isNew, i.itemCnt = t.itemCnt;
                var n = t.baseAddAttrList;
                i.baseAddAttrList = [];
                for (var o = 0, a = n; o < a.length; o++) {
                    var s = a[o],
                        r = m.default.create(s.magicId, s.magicValue);
                    i.baseAddAttrList.push(r)
                }
                var l = t.randAttrList;
                i.randAttrList = [];
                for (var c = 0, g = l; c < g.length; c++) {
                    s = g[c], r = m.default.create(s.magicId, s.magicValue);
                    i.randAttrList.push(r)
                }
                return i
            }, e.addItems = function(t, i) {
                if (void 0 === i && (i = C.default.instance), i.tryAddItemsToBag(t)) {
                    for (var o = 0; o < t.length; o++) {
                        var a = t[o],
                            s = e.addItemToData(a);
                        a.role.addItemToBag(s, a.itemCnt), n.EventManager.instance.dispatch(r.EVENT_NAME.BAG_ADD, s, a.itemCnt)
                    }
                    return C.default.saveToLocalStorage(), !0
                }
                return g.WordConfig.showWord(60001), !1
            }, e.addItemToData = function(t) {
                var i;
                t.itemKind == r.GameConst.ITEM_KIND.ITEM && ((i = this.getItem(t.itemType, t.role)) && (l.ITemsConfig.getITemsConfigById(t.itemType).stack == l.ITemsConfig.StackType.Yes || (i = null)));
                return i ? (i.itemCnt += t.itemCnt, i.isNew = t.isNew) : ((i = new e).itemId = v.ServerTime.getServerTime() + "-" + this.randomId, this.randomId++, t.role.itemInfoList.push(i), i.itemKind = t.itemKind, i.itemType = t.itemType, i.itemCnt = t.itemCnt, i.quality = t.quality, i.isNew = t.isNew, i.isLock = t.isLock, i.index = t.index, i.baseAddAttrList = t.baseAddAttrList, i.randAttrList = t.randAttrList, i.gridId = t.gridId), i
            }, e.getItem = function(e, t) {
                void 0 === t && (t = C.default.instance);
                for (var i = 0; i < t.itemInfoList.length; i++) {
                    var n = t.itemInfoList[i];
                    if (e == n.itemType)
                        return n
                }
            }, e.getItemByid = function(e, t) {
                void 0 === t && (t = C.default.instance);
                for (var i = 0; i < t.itemInfoList.length; i++) {
                    var n = t.itemInfoList[i];
                    if (e == n.itemId)
                        return n
                }
            }, e.getItemAmountById = function(t, i) {
                void 0 === i && (i = C.default.instance);
                var n = e.getItemByid(t);
                return n ? n.itemCnt : 0
            }, e.decItem = function(e, t, i, n, o) {
                void 0 === i && (i = -1), void 0 === n && (n = C.default.instance), void 0 === o && (o = !0), this.decItemByParamStruct(w.create(e, t, i), n, o)
            }, e.decItemByParamStruct = function(t, i, o) {
                void 0 === i && (i = C.default.instance), void 0 === o && (o = !0);
                var a = e.decItemToData(t.itemId, t.amount, i);
                i.decItemToBag(a, t.amount, t.bagIndex), a && (n.EventManager.instance.dispatch(r.EVENT_NAME.BAG_CUT, a, t.amount), o && C.default.saveToLocalStorage())
            }, e.decItems = function(t, i, o) {
                void 0 === i && (i = C.default.instance), void 0 === o && (o = !0);
                for (var a = 0; a < t.length; a++) {
                    var s = t[a],
                        l = e.decItemToData(s.itemId, s.amount, i);
                    i.decItemToBag(l, s.amount, s.bagIndex)
                }
                n.EventManager.instance.dispatch(r.EVENT_NAME.BAG_CUT), o && C.default.saveToLocalStorage()
            }, e.decItemToData = function(e, t, i) {
                void 0 === i && (i = C.default.instance);
                for (var n = 0; n < i.itemInfoList.length; n++) {
                    var o = i.itemInfoList[n];
                    if (e == o.itemId)
                        return o.itemCnt - t < 1 ? i.itemInfoList.splice(n, 1) : o.itemCnt -= t, o
                }
                return null
            }, e.getItemAmount = function(e, t) {
                void 0 === t && (t = C.default.instance);
                for (var i = 0; i < t.itemInfoList.length; i++) {
                    var n = t.itemInfoList[i];
                    if (e == n.itemType)
                        return n.itemCnt || 0
                }
                return 0
            }, e.getQuality = function(e) {
                return r.QualityName[e]
            }, e.prototype.getBaseAddValue = function(e) {
                for (var t = 0, i = 0; i < this.baseAddAttrList.length; i++) {
                    var n = this.baseAddAttrList[i];
                    if (n.magicId == e) {
                        t = n.magicValue;
                        break
                    }
                }
                return t
            }, e.prototype.useArticle = function(e, t) {
                void 0 === e && (e = 1), void 0 === t && (t = -1);
                var i = this.getConfig();
                if (C.default.instance.level < i.level)
                    u.UIHelper.showTip("\u7b49\u7ea7\u4e0d\u591f");
                else if ("gold" == i.position)
                    s.GameConfig.connectServer && (h.default.sdkCustomAction(14, i.magic_value * e), d.default.req_use_item(this.itemId, e));
                else if ("gem" == i.position)
                    s.GameConfig.connectServer && d.default.req_use_item(this.itemId, e);
                else if ("book" == i.position) {
                    if (o.Logger.log("useArticle book====================", i), 0 == C.default.instance.updateSkill(i.skillid, 1, !0, 0, C.default.instance, !1))
                        return void u.UIHelper.showTip("\u804c\u4e1a\u4e0d\u7b26");
                    c.SkillConfig.getSkillConfigById(i.skillid, i.level).type == c.SkillConfig.SkillType.ZhuDong && p.GuideModel.instance.checkGuide(p.GUIDE_TYPE.SKILL);
                    var n = f.default.instance.getSkillModelById(i.skillid);
                    if (o.Logger.log("useArticle book==========skillModel==========", n), n.isActive)
                        return void g.WordConfig.showWord(60119);
                    s.GameConfig.connectServer && (h.default.sdkCustomAction(34, 1), u.UIHelper.showTip("\u5b66\u4e60\u6280\u80fd\u6210\u529f!"), d.default.req_skill_lev_up(i.skillid))
                } else if (-1 != i.name.search("\u793c\u5305")) {
                    if (s.GameConfig.connectServer) {
                        for (var m = this.getConfig().magic_value, v = new Array, _ = 0; _ < m.length; _++)
                            for (var y in m[_]) {
                                var M = m[_][y] || 1,
                                    I = a.EquipConfig.getEquipConfigById(y);
                                if (I) {
                                    var b = L.create(C.default.instance, I.kind, I.id, 1, M);
                                    v.push(b)
                                } else {
                                    var w = l.ITemsConfig.getITemsConfigById(y);
                                    v.push(L.create(C.default.instance, w.kind, w.id, M, w.quality))
                                }
                            }
                        if (C.default.instance.tryAddItemsToBag(v)) {
                            for (_ = 0; _ < v.length; _++) {
                                var S = v[_];
                                S.itemKind == r.GameConst.ITEM_KIND.ITEM || (S.itemKind, r.GameConst.ITEM_KIND.EQUIP)
                            }
                            d.default.req_use_item(this.itemId, e)
                        } else
                            g.WordConfig.showWord(60001)
                    }
                } else
                    s.GameConfig.connectServer && d.default.req_use_item(this.itemId, e)
            }, e.tryOpenGift = function(e) {
                for (var t = e.magic_value, i = new Array, n = 0; n < t.length; n++)
                    for (var o in t[n]) {
                        var s = t[n][o] || 1,
                            r = a.EquipConfig.getEquipConfigById(o);
                        if (r) {
                            var c = L.create(C.default.instance, r.kind, r.id, 1, s);
                            i.push(c)
                        } else {
                            var g = l.ITemsConfig.getITemsConfigById(o);
                            i.push(L.create(C.default.instance, g.kind, g.id, s, g.quality))
                        }
                    }
                return !!C.default.instance.tryAddItemsToBag(i)
            }, e.prototype.addArticle = function(e) {
                void 0 === e && (e = 0)
            }, e.resolutionArticle = function(t, i, n) {
                void 0 === n && (n = -1);
                var o = t.getConfig(),
                    a = o.break;
                if (C.default.instance.getAddItemMaxNum(L.create(C.default.instance, r.GameConst.ITEM_KIND.ITEM, t.itemType, i, o.quality)) == i) {
                    s.GameConfig.connectServer && d.default.req_break_item(t.itemId, i);
                    var l = new Array,
                        c = e.getConfigById(a[0]);
                    l.push(u.TipsItem.create(c.name, a[1] * i, c.quality)), u.UIHelper.showGetItemsTips(l, "\u5206\u89e3\u6210\u529f")
                } else
                    u.UIHelper.showTip("\u5206\u89e3\u5931\u8d25\uff0c\u80cc\u5305\u5bb9\u91cf\u4e0d\u8db3\uff01")
            }, e.prototype.addItemAmount = function(e, t) {
                void 0 === t && (t = 1)
            }, e.prototype.useGifePackage = function() {
                for (var t = this.getConfig().magic_value, i = new Array, n = new Array, o = 0; o < t.length; o++)
                    for (var s in t[o]) {
                        var r = t[o][s] || 1,
                            c = a.EquipConfig.getEquipConfigById(s);
                        if (c) {
                            var g = L.create(C.default.instance, c.kind, c.id, 1, r);
                            g.baseAddAttrList = a.EquipConfig.randomBaseAddAttrList(r, c), g.randAttrList = a.EquipConfig.randomAddAttrList(r, c), i.push(g), n.push(u.TipsItem.create(c.name, 1, g.quality))
                        } else {
                            var f = l.ITemsConfig.getITemsConfigById(s);
                            i.push(L.create(C.default.instance, f.kind, f.id, r, f.quality)), n.push(u.TipsItem.create(f.name, r, f.quality))
                        }
                    }
                var d = e.addItems(i);
                return d && u.UIHelper.showGetItemsTips(n, "\u6253\u5f00\u793c\u5305\u6210\u529f"), d
            }, e.prototype.getConfig = function() {
                return this.itemKind == r.GameConst.ITEM_KIND.ITEM ? l.ITemsConfig.getITemsConfigById(this.itemType) : a.EquipConfig.getEquipConfigById(this.itemType)
            }, e.getConfigById = function(e) {
                var t;
                return (t = l.ITemsConfig.getITemsConfigById(e)) || a.EquipConfig.getEquipConfigById(e), t
            }, e.prototype.isCanEquipAnimation = function() {
                var e = a.EquipConfig.getEquipConfigById(this.itemType),
                    t = 0;
                if (e.world == _.MapConfig.WORLD.FanRen)
                    for (var i = 0; i < this.randAttrList.length; i++)
                        a.EquipConfig.getRandomAttrQuality(e, this.randAttrList[i]) == r.GameConst.QUALITY.ORANGE && t++;
                else
                    for (i = 0; i < this.fuwenAtriList.length; i++) {
                        var n = this.fuwenAtriList[i];
                        n.magicValue >= n.max && t++
                    }
                return t >= 3
            }, e.prototype.clone = function() {
                var t = new e;
                return t.itemId = this.itemId, t.itemKind = this.itemKind, t.itemType = this.itemType, t.itemCnt = this.itemCnt, t.quality = this.quality, t.isNew = this.isNew, t.isLock = this.isLock, t.index = this.index, t.baseAddAttrList = this.baseAddAttrList, t.randAttrList = this.randAttrList, t.gridId = this.gridId, t.fight = this.fight, t.end_time = this.end_time, t.fuwenActive = this.fuwenActive, t.fuwenId = this.fuwenId, t.fuwenAtriList = this.fuwenAtriList, t.fuwenNeedList = this.fuwenNeedList, t.blessAtttList = this.blessAtttList, t
            }, e.prototype.getItemQualityValue = function() {
                var e = a.EquipConfig.getEquipConfigById(this.itemType),
                    t = [];
                return this.quality == r.GameConst.QUALITY.GREEN ? t = e.Magic : this.quality == r.GameConst.QUALITY.BLUE ? t = e.Rare : this.quality == r.GameConst.QUALITY.PURPLE ? t = e.Legendary : this.quality == r.GameConst.QUALITY.ORANGE && (t = e.ancient), t
            }, e.prototype.getCurrBaseAddAttrValue = function() {
                for (var e = 0, t = (a.EquipConfig.getEquipConfigById(this.itemType), 0); t < this.baseAddAttrList.length; t++)
                    e += this.baseAddAttrList[t].magicValue;
                return e
            }, e.prototype.getJiPinPersent = function() {
                var e = this.getItemQualityValue()[1];
                return (this.getCurrBaseAddAttrValue() / e * 100).toFixed(0)
            }, e.randomId = 0, e
        }();
        i.default = E, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/MapConfig": "MapConfig",
        "../config/RuneConfig": "RuneConfig",
        "../config/SkillConfig": "SkillConfig",
        "../config/WordConfig": "WordConfig",
        "../manager/SkillManager": "SkillManager",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper",
        "./BlessModel": "BlessModel",
        "./GuideModel": "GuideModel",
        "./MagicModel": "MagicModel",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    ItemPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3f9b6++QthAvKRWn7uKzqPl", "ItemPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = e("../model/ItemInfoModel"),
            r = e("../config/ColorConfig"),
            l = e("../config/GameConst"),
            c = e("../config/ITemsConfig"),
            g = e("../config/EquipConfig"),
            f = e("../utils/UIHelper"),
            d = cc._decorator,
            h = d.ccclass,
            u = d.property,
            p = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.frameSpriteFrameList = [], t.itemModel = null, t.itemConfig = null, t.equipConfig = null, t.itemType = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.init = function(e) {
                    e instanceof s.default ? (this.itemModel = e, this.itemModel.itemKind == l.GameConst.ITEM_KIND.ITEM ? (this.itemConfig = c.ITemsConfig.getITemsConfigById(this.itemModel.itemType), this.quality = this.itemConfig.quality) : this.itemModel.itemKind == l.GameConst.ITEM_KIND.EQUIP && (this.equipConfig = g.EquipConfig.getEquipConfigById(this.itemModel.itemType), this.quality = this.itemModel.quality), this.itemType = i.ITEM_TYEP.ITEM_MODEL) : e instanceof c.ITemsConfig ? (this.itemConfig = e, this.quality = this.itemConfig.quality, this.itemType = i.ITEM_TYEP.ITEM_CONFIG) : e instanceof g.EquipConfig && (this.equipConfig = e, this.quality = l.GameConst.QUALITY.WHITE, this.itemType = i.ITEM_TYEP.EQUIP_CONFIG), this.refresh()
                }, t.prototype.refresh = function() {
                    var e = this.node.getChildByName("frameNode"),
                        t = this.node.getChildByName("occupationNode"),
                        n = this.node.getChildByName("nameTxt").getComponent(cc.Label);
                    n.node.active = !0;
                    var o = this.node.getChildByName("numTxt").getComponent(cc.Label),
                        a = this.node.getChildByName("lockNode");
                    a.zIndex = this.node.childrenCount + 1;
                    var s = this.node.getChildByName("animationNode");
                    switch (s && (s.active = !1), this.itemType) {
                    case i.ITEM_TYEP.ITEM_MODEL:
                        if (e.color = r.ColorConfig.getQualityColor(this.quality), n.node.color = r.ColorConfig.getQualityColor(this.quality), this.itemModel.itemKind == l.GameConst.ITEM_KIND.ITEM)
                            a.active = !1, n.string = f.UIHelper.formatName(this.itemConfig.name), t.active = !1, this.itemModel.itemCnt > 0 ? (o.string = this.itemModel.itemCnt + "", o.node.active = !0, o.node.color = r.ColorConfig.getQualityColor(this.quality)) : o.node.active = !1, this.itemConfig.rune ? e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[1] : e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[0];
                        else if (this.itemModel.itemKind == l.GameConst.ITEM_KIND.EQUIP && (o.node.active = !1, a.active = this.itemModel.isLock, e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[this.equipConfig.world - 1], n.string = f.UIHelper.formatName(this.equipConfig.name), t.active = !0, g.EquipConfig.setMarkSprite(this.equipConfig.pro, function(e, i) {
                            t.getComponent(cc.Sprite).spriteFrame = i
                        }), s && this.itemModel.quality >= l.GameConst.QUALITY.PURPLE)) {
                            if (1 == this.equipConfig.dingzhi || this.itemModel.isCanEquipAnimation()) {
                                s.active = !0;
                                var c = s.getComponent(cc.Animation),
                                    d = c.getClips(),
                                    h = void 0;
                                h = this.itemModel.quality == l.GameConst.QUALITY.ORANGE ? d[1] : d[0], c.play(h.name, 0)
                            }
                        }
                        break;
                    case i.ITEM_TYEP.ITEM_CONFIG:
                        e.color = r.ColorConfig.getQualityColor(this.quality), n.node.color = r.ColorConfig.getQualityColor(this.quality), a.active = !1, n.string = f.UIHelper.formatName(this.itemConfig.name), t.active = !1, o.node.active = !1, this.itemConfig.rune ? e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[1] : e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[0];
                        break;
                    case i.ITEM_TYEP.EQUIP_CONFIG:
                        o.node.active = !1, a.active = !1, n.string = f.UIHelper.formatName(this.equipConfig.name), t.active = !0, e.getComponent(cc.Sprite).spriteFrame = this.frameSpriteFrameList[this.equipConfig.world - 1], g.EquipConfig.setMarkSprite(this.equipConfig.pro, function(e, i) {
                            t.getComponent(cc.Sprite).spriteFrame = i
                        })
                    }
                }, t.ITEM_TYEP = {
                    ITEM_MODEL: 0,
                    ITEM_CONFIG: 1,
                    EQUIP_CONFIG: 2
                }, o([u({
                    type: [cc.SpriteFrame]
                })], t.prototype, "frameSpriteFrameList", void 0), t = i = o([h], t)
            }(a.default);
        i.default = p, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConst": "GameConst",
        "../config/ITemsConfig": "ITemsConfig",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../utils/UIHelper": "UIHelper"
    }],
    JingJieConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "52540i6q8lAQL4E54F/bq9n", "JingJieConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../model/MagicModel"),
            s = e("./MagicNameConfig"),
            r = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.condition = [{
                        level: 3
                    }, {
                        login: 4
                    }], t
                }
                return n(t, e), t.getDesc = function(e) {
                    void 0 === e && (e = 1);
                    return ["", "\u51e1\u4eba\u4e4b\u529b", "\u8f6e\u56de\u4e4b\u529b"][e]
                }, t.createZeroConfig = function() {
                    var e = new t;
                    return e.next = 1, e.level = 0, e
                }, t.obj2Config = function(e) {
                    var i = new t;
                    return i.id = e.id, i.next = e.next, i.level = e.level, i.condition = e.condition, i.need_pingfen = e.need_pingfen, i.expcost = e.expcost, i.atk = e[1], i.mag = e[3], i.spt = e[5], i.def = e[9], i.magic_find1 = e[21], i.equip_times = e[22], i.hp = e[10], i.mp = e[12], i.zhanli = e.zhanli, i.BonusDamage = e[15], i.DamageReduction = e[17], i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    })
                }, t.getJingJieConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getJingJieConfig = function(e, t) {
                    var i;
                    return void 0 === t && (t = 1), this.configMap.forEach(function(n, o) {
                        e == n.next && t == n.level && (i = n)
                    }), i
                }, t.getJingJieConfigByNext = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.next && (t = i)
                    }), t
                }, t.getMagicModelList = function(e) {
                    var t,
                        i = [];
                    return e.atk > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.atk, t.magicValue = e.atk, i.push(t)), e.mag > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.mag, t.magicValue = e.mag, i.push(t)), e.spt > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.spt, t.magicValue = e.spt, i.push(t)), e.def > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.def, t.magicValue = e.def, i.push(t)), e.magic_find1 > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.magic_find1, t.magicValue = e.magic_find1, i.push(t)), e.equip_times > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.equip_times, t.magicValue = e.equip_times, i.push(t)), e.hp > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.hp, t.magicValue = e.hp, i.push(t)), e.mp > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.mp, t.magicValue = e.mp, i.push(t)), e.BonusDamage > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.BonusDamage, t.magicValue = e.BonusDamage, i.push(t)), e.DamageReduction > 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.DamageReduction, t.magicValue = e.DamageReduction, i.push(t)), i
                }, t.JingJieNameConfig = [["\u51e1\u4eba\u5883\xb7\u96f6\u91cd", "\u51e1\u4eba\u5883\xb7\u4e00\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u91cd", "\u51e1\u4eba\u5883\xb7\u56db\u91cd", "\u51e1\u4eba\u5883\xb7\u4e94\u91cd", "\u51e1\u4eba\u5883\xb7\u516d\u91cd", "\u51e1\u4eba\u5883\xb7\u4e03\u91cd", "\u51e1\u4eba\u5883\xb7\u516b\u91cd", "\u51e1\u4eba\u5883\xb7\u4e5d\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e00\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e8c\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e09\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u56db\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e94\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u516d\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e03\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u516b\u91cd", "\u51e1\u4eba\u5883\xb7\u5341\u4e5d\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u4e00\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u4e8c\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u4e09\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u56db\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u4e94\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u516d\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u4e03\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u516b\u91cd", "\u51e1\u4eba\u5883\xb7\u4e8c\u5341\u4e5d\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e00\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e8c\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e09\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u56db\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e94\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u516d\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e03\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u516b\u91cd", "\u51e1\u4eba\u5883\xb7\u4e09\u5341\u4e5d\u91cd", "\u51e1\u4eba\u5883\xb7\u56db\u5341\u91cd"], ["\u8f6e\u56de\u5883\xb7\u96f6\u91cd", "\u8f6e\u56de\u5883\xb7\u4e00\u91cd", "\u8f6e\u56de\u5883\xb7\u4e8c\u91cd", "\u8f6e\u56de\u5883\xb7\u4e09\u91cd", "\u8f6e\u56de\u5883\xb7\u56db\u91cd", "\u8f6e\u56de\u5883\xb7\u4e94\u91cd", "\u8f6e\u56de\u5883\xb7\u516d\u91cd"], ["\u5148\u5929\u5883\xb7\u96f6\u91cd", "\u5148\u5929\u5883\xb7\u4e00\u91cd", "\u5148\u5929\u5883\xb7\u4e8c\u91cd", "\u5148\u5929\u5883\xb7\u4e09\u91cd", "\u5148\u5929\u5883\xb7\u56db\u91cd", "\u5148\u5929\u5883\xb7\u4e94\u91cd", "\u5148\u5929\u5883\xb7\u516d\u91cd"]], t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.JingJieConfig = r, cc._RF.pop()
    }, {
        "../model/MagicModel": "MagicModel",
        "./JsonConfigBase": "JsonConfigBase",
        "./MagicNameConfig": "MagicNameConfig"
    }],
    JingJieModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "acfaanZSExPEaJddYCauAy+", "JingJieModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("../../engine/Logger"),
            a = e("../../engine/EventManager"),
            s = e("../event/CommonEvent"),
            r = e("../config/JingJieConfig"),
            l = function() {
                function e() {
                    this.jingJieId = 0, this.level = 0, this.status = 0
                }
                return e.getMyLunHuiJingLevel = function(e) {
                    void 0 === e && (e = 2);
                    for (var t = 0; t < n.default.instance.jingJieList.length; t++) {
                        var i = n.default.instance.jingJieList[t];
                        if (i.jingJieId == e)
                            return i.level
                    }
                    return 0
                }, e.getJingJieLevel = function(e) {
                    for (var t = 0; t < n.default.instance.jingJieList.length; t++) {
                        var i = n.default.instance.jingJieList[t];
                        if (i.jingJieId == e && 1 == i.status)
                            return i.level
                    }
                    return 0
                }, e.getJingJieName = function() {
                    for (var e = this.jingJieNameConfig[0], t = 0, i = 0; i < n.default.instance.jingJieList.length; i++) {
                        var o = n.default.instance.jingJieList[i];
                        o.jingJieId > t && o.level >= 0 && (t = o.jingJieId, e = this.jingJieNameConfig[t - 1])
                    }
                    return e
                }, e.hadOpenJingJie = function(e) {
                    o.Logger.log("\u5883\u754cid" + e, n.default.instance.jingJieList);
                    for (var t = 0; t < n.default.instance.jingJieList.length; t++) {
                        var i = n.default.instance.jingJieList[t];
                        if (i.jingJieId == e && 1 == i.status)
                            return !0
                    }
                    return !1
                }, e.getHadOpenJingjieByNext = function(e) {
                    for (var t = 0; t < n.default.instance.jingJieList.length; t++) {
                        var i = n.default.instance.jingJieList[t];
                        if (r.JingJieConfig.getJingJieConfig(i.jingJieId).next >= e)
                            return !0
                    }
                    return !1
                }, e.proto2JingJieList = function(e) {
                    for (var t = e.getRealmInfoList(), i = [], r = 0; r < t.length; r++) {
                        var l = this.proto2JingJieModel(t[r]);
                        i.push(l)
                    }
                    return n.default.instance.jingJieList = i, o.Logger.log("proto2JingJieList===", n.default.instance.jingJieList), a.EventManager.instance.dispatch(s.CommonEvent.Event_JingJie), n.default.saveToLocalStorage(), i
                }, e.proto2JingJieModel = function(t) {
                    var i = new e;
                    return i.jingJieId = t.getK(), i.level = t.getV(), i.status = t.getStatus(), i
                }, e.deserializeBinaryToModelList = function(e) {
                    for (var t = [], i = 0; i < e.length; i++)
                        e[i] && (t[i] = this.deserializeBinaryToModel(e[i]));
                    return t
                }, e.deserializeBinaryToModel = function(t) {
                    var i = new e;
                    return i.jingJieId = t.jingJieId, i.level = t.level, i
                }, e.jingJieNameConfig = ["\u51e1\u4eba\u4e4b\u5883", "\u8f6e\u56de\u4e4b\u5883"], e
            }();
        i.JingJieModel = l, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/JingJieConfig": "JingJieConfig",
        "../event/CommonEvent": "CommonEvent",
        "./RoleInfoModel": "RoleInfoModel"
    }],
    JingJieView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "22acc52BF9KnqlHsPZVxtvP", "JingJieView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../model/JingJieModel"),
            s = e("../model/RoleInfoModel"),
            r = e("../config/JingJieConfig"),
            l = e("../../engine/Logger"),
            c = e("../utils/MusicHelper"),
            g = e("../model/MagicModel"),
            f = e("../config/MagicNameConfig"),
            d = e("../../engine/EventManager"),
            h = e("../utils/UIHelper"),
            u = e("../network/SocketClient"),
            p = e("../config/GameConfig"),
            m = e("../event/CommonEvent"),
            C = e("../../engine/ComponentBase"),
            v = e("../../engine/DateUtil"),
            _ = e("../model/FightModel"),
            y = e("../config/ColorConfig"),
            M = e("../config/WordConfig"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.btnTabList = [], t.curTabIndex = 0, t.itemList = [], t.nowNodeList = [], t.nextNodeList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.btnLevelUp = this.findChild(this.node, "btnLevelUp"), this.btnLevelUp.on(cc.Node.EventType.TOUCH_END, this.onClickLevelUp.bind(this));
                    for (var t = 0; t < 3; t++)
                        this.btnTabList[t] = this.node.getChildByName("btnTab" + t), this.btnTabList[t].on(cc.Node.EventType.TOUCH_END, this.onClickTab.bind(this, t));
                    this.txtNowJingJie = this.getChild(this.node, "txtNowJingJie", cc.Label), this.txtNextJingJie = this.node.getChildByName("txtNextJingJie").getComponent(cc.Label), this.nowItemNode = this.findChild(this.node, "scrollViewNow/view/content/itemNode"), this.nowItemNode.active = !1, this.nextitemNode = this.findChild(this.node, "scrollViewNext/view/content/itemNode"), this.nextitemNode.active = !1, this.txtPower = this.getChild(this.node, "txtPower", cc.Label), this.txtExp = this.getChild(this.node, "txtExp", cc.Label), this.txtSuoXu = this.getChild(this.node, "txtSuoXu", cc.Label), this.limitNode = this.findChild(this.node, "limitNode"), this.scrollViewNext = this.findChild(this.node, "scrollViewNext")
                }, t.prototype.onEnable = function() {
                    l.Logger.log("JingJieView========================="), d.EventManager.instance.on(m.CommonEvent.Event_JingJie, this.refreshTab, this), this.refreshTab(), p.GameConfig.connectServer && u.default.req_realm_info()
                }, t.prototype.onClickTab = function(e) {
                    c.MusicHelper.play_click(), this.initJingJieConfig(e);
                    var t = v.default.getPassDay(s.default.instance.create_time);
                    l.Logger.log("onClickTab====", t, this.nextConfig), a.JingJieModel.hadOpenJingJie(e + 1) || 1 != e ? (this.curTabIndex = e, this.refreshTab()) : h.UIHelper.showTip("\u7b49\u7ea7\u8fbe\u523050\u7ea7\u6216\u521b\u5efa\u89d2\u8272\u7b2c4\u5929\u540e\u5f00\u542f!")
                }, t.prototype.initJingJieConfig = function(e) {
                    var t,
                        i,
                        n = e + 1,
                        o = s.default.instance.getJingJieModel(n);
                    o ? (t = r.JingJieConfig.getJingJieConfig(n, o.level), (i = r.JingJieConfig.getJingJieConfig(n, o.level + 1)) || (i = t)) : i = r.JingJieConfig.getJingJieConfig(n, 1), t || (t = null), i || (i = t), this.nowConfig = t, this.nextConfig = i, this.nowConfig && this.nowConfig.level == this.nextConfig.level && (this.txtExp.string = "---", this.txtPower.string = "---")
                }, t.prototype.refreshTab = function() {
                    for (var e = 0; e < this.btnTabList.length; e++) {
                        var t = this.btnTabList[e],
                            i = t.getChildByName("selectNode"),
                            n = t.getChildByName("openNode"),
                            o = t.getChildByName("noOpenNode");
                        i.active = !1, n.active = !1, o.active = !1;
                        var a = e + 1,
                            c = s.default.instance.getJingJieModel(a);
                        l.Logger.log("refreshTab==", e, c), this.curTabIndex == e ? i.active = !0 : c ? n.active = !0 : o.active = !0
                    }
                    var g,
                        f,
                        d = this.curTabIndex + 1,
                        h = s.default.instance.getJingJieModel(d);
                    l.Logger.log("jingJieModel====", h), h ? (g = r.JingJieConfig.getJingJieConfig(d, h.level), f = r.JingJieConfig.getJingJieConfig(d, h.level + 1), l.Logger.log("jingJieModel===nowConfig=", g, f), this.txtNowJingJie.string = r.JingJieConfig.JingJieNameConfig[d - 1][h.level], this.txtNextJingJie.string = r.JingJieConfig.JingJieNameConfig[d - 1][h.level + 1]) : (this.txtNowJingJie.string = r.JingJieConfig.JingJieNameConfig[d - 1][0], this.txtNextJingJie.string = r.JingJieConfig.JingJieNameConfig[d - 1][1], f = r.JingJieConfig.getJingJieConfig(d, 1)), l.Logger.log("pgame+==", d, h, g, f), g || (g = null), f || (f = g);
                    for (e = 0; e < this.itemList.length; e++) {
                        this.itemList[e].destroy()
                    }
                    this.itemList = [], l.Logger.log("\u5237\u65b0\u5883\u754c+=22=", h, g, f);
                    if ((0 == this.curTabIndex ? _.default.getFanRenZhiLi() : _.default.getLunHuiZhiLi()) >= f.need_pingfen[1] ? this.txtPower.node.color = y.ColorConfig.GreenColor : this.txtPower.node.color = y.ColorConfig.RedColor, this.txtPower.string = f.need_pingfen[1] + "", this.txtExp.string = f.expcost + "", s.default.instance.getExp() >= f.expcost ? this.txtExp.node.color = y.ColorConfig.GreenColor : this.txtExp.node.color = y.ColorConfig.RedColor, this.txtSuoXu.string = "\u6240\u9700" + r.JingJieConfig.getDesc(f.need_pingfen[0]) + ":", this.nowConfig = g, this.nextConfig = f, this.jingJieModel = h, g)
                        this.refreshOneConfig(g, 0, r.JingJieConfig.getMagicModelList(g));
                    else {
                        var u = r.JingJieConfig.getMagicModelList(f);
                        for (e = 0; e < u.length; e++)
                            u[e].magicValue = 0;
                        this.refreshOneConfig(g, 0, u)
                    }
                    this.refreshOneConfig(f, 1, r.JingJieConfig.getMagicModelList(f)), this.nowConfig && this.nowConfig.level == this.nextConfig.level ? (this.limitNode.active = !0, this.txtNextJingJie.node.active = !1, this.txtPower.string = "---", this.txtPower.node.color = y.ColorConfig.hexToColor("#FFFFFF"), this.txtExp.string = "---", this.txtExp.node.color = y.ColorConfig.hexToColor("#FFFFFF"), this.scrollViewNext.active = !1) : (this.limitNode.active = !1, this.txtNextJingJie.node.active = !0, this.scrollViewNext.active = !0)
                }, t.prototype.refreshOneConfig = function(e, t, i) {
                    if (0 == t) {
                        for (var n = 0; n < this.nowNodeList.length; n++)
                            this.nowNodeList[n].destroy();
                        this.nowNodeList = []
                    } else {
                        for (n = 0; n < this.nextNodeList.length; n++)
                            this.nextNodeList[n].destroy();
                        this.nextNodeList = []
                    }
                    l.Logger.log("magicList====", i);
                    for (n = 0; n < i.length; n++) {
                        var o = void 0;
                        0 == t ? ((o = cc.instantiate(this.nowItemNode)).parent = this.nowItemNode.parent, o.active = !0, this.nowNodeList.push(o)) : ((o = cc.instantiate(this.nextitemNode)).parent = this.nextitemNode.parent, o.active = !0, this.nextNodeList.push(o));
                        var a = o.getChildByName("txtName").getComponent(cc.Label),
                            s = i[n];
                        a.string = f.MagicNameConfig.getDesc(s.magicId) + ":", o.getChildByName("txtValue").getComponent(cc.Label).string = g.default.formatMagicValue(s.magicId, s.magicValue) + ""
                    }
                }, t.prototype.onClickLevelUp = function() {
                    if (c.MusicHelper.play_click(), l.Logger.log("onClickLevelUp==", this.nowConfig), this.nowConfig && this.nowConfig.level == this.nextConfig.level)
                        h.UIHelper.showTip("\u5df2\u5230\u8fbe\u6700\u9ad8\u7b49\u7ea7!");
                    else {
                        if ((0 == this.curTabIndex ? _.default.getFanRenZhiLi() : _.default.getLunHuiZhiLi()) < this.nextConfig.need_pingfen[1]) {
                            var e = 60131;
                            e = 0 == this.curTabIndex ? 60131 : 60143;
                            var t = M.WordConfig.getWord(e);
                            return t = t.replace("[#]", this.nextConfig.need_pingfen[1] + ""), void h.UIHelper.showTip(t)
                        }
                        p.GameConfig.connectServer && (l.Logger.log("onClickLevelUp2222222222==", this.nextConfig), this.nextConfig ? u.default.req_up_realm(this.nextConfig.id) : 0 == this.curTabIndex ? u.default.req_up_realm(1) : 1 == this.curTabIndex && u.default.req_up_realm(101)), this.refreshTab()
                    }
                }, t.prototype.onDisable = function() {
                    d.EventManager.instance.clear(this)
                }, t = o([b], t)
            }(C.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FightModel": "FightModel",
        "../model/JingJieModel": "JingJieModel",
        "../model/MagicModel": "MagicModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    JsonConfigBase: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "6f7b1q6xQJFR7lMDpOSGH0X", "JsonConfigBase"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            return function() {}
        }();
        i.JsonConfigBase = n, cc._RF.pop()
    }, {}],
    KillBossTip: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "2af31I/TnVJaYm9+/i/gFWG", "KillBossTip");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ViewConfig"),
            r = e("../../../engine/UIManager"),
            l = e("../../network/SocketClient"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e, t, i) {
                    void 0 === i && (i = null), this.viewType = e, this.tipString = t, this.bossModel = i
                }, t.prototype.onShow = function() {
                    r.default.instance.setTopUI(s.default.gameView.KillBossTip), this.btnAgree = this.getChild(this.node, "bg/bottom/btnAgree"), this.btnCancel = this.getChild(this.node, "bg/bottom/btnCancel"), this.tip = this.getChild(this.node, "bg/tip"), this.title = this.getChild(this.node, "bg/top/title"), this.tip.getComponent(cc.RichText).string = this.tipString, this.btnAgree.x = -113.999, this.viewType == i.TYPE_GET_TIP ? (this.title.getComponent(cc.Label).string = "\u79d2\u6740\u5956\u52b1", this.btnCancel.active = !1, this.btnAgree.x = 0) : this.viewType == i.TYPE_KILL_TIP && (this.title.getComponent(cc.Label).string = "\u6e29\u99a8\u63d0\u793a", this.btnCancel.active = !0), this.onAddEvent(this.btnAgree, this.onCilckkillBoss.bind(this, this.bossModel)), this.onAddEvent(this.btnCancel, this.closeView.bind(this))
                }, t.prototype.onCilckkillBoss = function(e) {
                    void 0 === e && (e = null), e && l.default.s_seckill_monster(e.monsterId, 4, e.mapId), this.closeView()
                }, t.TYPE_KILL_TIP = 0, t.TYPE_GET_TIP = 1, t = i = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig",
        "../../network/SocketClient": "SocketClient"
    }],
    LanguageHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1b555epWoNBK7+p05R0alxT", "LanguageHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            return function() {}
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    LoadingTipView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "7b2642SO/tLzZzJkEczu7I4", "LoadingTipView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../../engine/Logger"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    l.Logger.log("LoadingTipView==="), s.default.instance.setTopUI(r.default.gameView.LoadingTipView), this.node.y = 90, this.txtTip = this.getChild(this.node, "container/txtTip", cc.Label), this.img_shangshen_bg = this.findChild(this.node, "img_shangshen_bg"), this.lastVla = 0, this.schedule(this.onAnim, .5), this.txtTip.string = this.tipStr
                }, t.prototype.onInitChild = function(e) {
                    void 0 === e && (e = "\u8fdb\u5165\u6e38\u620f\u4e2d"), this.tipStr = e
                }, t.prototype.onAnim = function() {
                    this.lastVla += 1, this.txtTip.string += " .", this.lastVla > 3 && (this.lastVla = 0, this.txtTip.string = this.tipStr)
                }, t = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig"
    }],
    LoadingView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "2dcdb1ljkJGlK9ZjBQOEpKt", "LoadingView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            },
            a = this && this.__awaiter || function(e, t, i, n) {
                return new (i || (i = Promise))(function(o, a) {
                    function s(e) {
                        try {
                            l(n.next(e))
                        } catch (e) {
                            a(e)
                        }
                    }
                    function r(e) {
                        try {
                            l(n.throw(e))
                        } catch (e) {
                            a(e)
                        }
                    }
                    function l(e) {
                        e.done ? o(e.value) : new i(function(t) {
                            t(e.value)
                        }).then(s, r)
                    }
                    l((n = n.apply(e, t || [])).next())
                })
            },
            s = this && this.__generator || function(e, t) {
                var i,
                    n,
                    o,
                    a,
                    s = {
                        label: 0,
                        sent: function() {
                            if (1 & o[0])
                                throw o[1];
                            return o[1]
                        },
                        trys: [],
                        ops: []
                    };
                return a = {
                    next: r(0),
                    throw: r(1),
                    return: r(2)
                }, "function" == typeof Symbol && (a[Symbol.iterator] = function() {
                    return this
                }), a;
                function r(e) {
                    return function(t) {
                        return l([e, t])
                    }
                }
                function l(a) {
                    if (i)
                        throw new TypeError("Generator is already executing.");
                    for (; s;)
                        try {
                            if (i = 1, n && (o = 2 & a[0] ? n.return : a[0] ? n.throw || ((o = n.return) && o.call(n), 0) : n.next) && !(o = o.call(n, a[1])).done)
                                return o;
                            switch (n = 0, o && (a = [2 & a[0], o.value]), a[0]) {
                            case 0:
                            case 1:
                                o = a;
                                break;
                            case 4:
                                return s.label++, {
                                    value: a[1],
                                    done: !1
                                };
                            case 5:
                                s.label++, n = a[1], a = [0];
                                continue;
                            case 7:
                                a = s.ops.pop(), s.trys.pop();
                                continue;
                            default:
                                if (!(o = (o = s.trys).length > 0 && o[o.length - 1]) && (6 === a[0] || 2 === a[0])) {
                                    s = 0;
                                    continue
                                }
                                if (3 === a[0] && (!o || a[1] > o[0] && a[1] < o[3])) {
                                    s.label = a[1];
                                    break
                                }
                                if (6 === a[0] && s.label < o[1]) {
                                    s.label = o[1], o = a;
                                    break
                                }
                                if (o && s.label < o[2]) {
                                    s.label = o[2], s.ops.push(a);
                                    break
                                }
                                o[2] && s.ops.pop(), s.trys.pop();
                                continue
                            }
                            a = t.call(e, s)
                        } catch (e) {
                            a = [6, e], n = 0
                        } finally {
                            i = o = 0
                        }
                    if (5 & a[0])
                        throw a[1];
                    return {
                        value: a[0] ? a[1] : void 0,
                        done: !0
                    }
                }
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var r = e("../../engine/EventManager"),
            l = e("../../engine/HotUpdate"),
            c = e("../../engine/Logger"),
            g = e("../../engine/MusicPrefab"),
            f = e("../../engine/SoundPrefab"),
            d = e("../../engine/UIManager"),
            h = e("../../engine/VersionManager"),
            u = e("../../engine/ViewBase"),
            p = e("../config/ActivityCodeConfig"),
            m = e("../config/BagConfig"),
            C = e("../config/ChongZhiConfig"),
            v = e("../config/DefaultConfig"),
            _ = e("../config/EquipConfig"),
            y = e("../config/EquipGatherConfig"),
            M = e("../config/GameConfig"),
            I = e("../config/GoldsConfig"),
            b = e("../config/GuideConfig"),
            L = e("../config/HeroConfig"),
            w = e("../config/IntensifyBuffConfig"),
            S = e("../config/IntensifyConfig"),
            E = e("../config/ITemsConfig"),
            k = e("../config/JingJieConfig"),
            T = e("../config/MagicNameConfig"),
            N = e("../config/MapConfig"),
            R = e("../config/MonsterConfig"),
            B = e("../config/RandomFuMoConfig"),
            P = e("../config/RandomFuMoEntryConfig"),
            A = e("../config/RebirthConfig"),
            O = e("../config/ShopAllConfig"),
            x = e("../config/ShopConfig"),
            V = e("../config/ShopRecoverConfig"),
            U = e("../config/SkillConfig"),
            H = e("../config/ViewConfig"),
            D = e("../config/WordConfig"),
            G = e("../config/YaoShopConfig"),
            q = e("../GameController"),
            j = e("../utils/UIHelper"),
            F = e("./Roles/BagItem"),
            J = e("./Skill/SkillItem"),
            Z = e("../config/SpriteFrameConfig"),
            W = e("../config/GameConst"),
            Y = e("../prefab/ShaderMaterialPrefab"),
            Q = e("../config/Xilianexpendconfig"),
            z = e("../config/ComplexConfig"),
            K = e("../config/RuneConfig"),
            X = e("../config/QuenchingCostConfig"),
            $ = e("../config/FangShopConfig"),
            ee = e("./Discount/DisCountConfig"),
            te = e("../config/SkinConfig"),
            ie = e("../config/ShenCiConfig"),
            ne = e("../config/ShenbingskillAllConfig"),
            oe = e("../config/ChiXueMoJianConfig"),
            ae = e("../config/MingYunZhiRenConfig"),
            se = cc._decorator,
            re = se.ccclass,
            le = se.property,
            ce = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.bgSpriteFrameList = [], t
                }
                return n(t, e), t.prototype.onShow = function() {
                    d.default.instance.setTopUI(H.default.gameView.loading), this.loading = this.node.getChildByName("loading").getComponent(cc.Label), this.lastVla = 0, this.progressBar = this.node.getChildByName("progressBar").getComponent(cc.ProgressBar), this.progressBar.progress = 0, this.progressBar.node.active = !1, this.txtProgress = this.node.getChildByName("txtProgress").getComponent(cc.Label), this.txtProgress.string = "", this.schedule(this.onAnim, .5), r.EventManager.instance.on(l.default.Event_On_NeedUpdate, this.onNeedUpdate, this), r.EventManager.instance.on(l.default.Event_On_Progress, this.onUpdateProgress, this), r.EventManager.instance.on(l.default.Event_On_Fail_Update, this.onUpdateFail, this), r.EventManager.instance.on(l.default.Event_Finish_Update, this.onUpdateFinish, this), r.EventManager.instance.on(l.default.Event_On_ALREADY_UP_TO_DATE, this.onUpdateFinish, this), this.checkUpdate()
                }, t.prototype.start = function() {
                    this.bg = this.node.getChildByName("bg").getComponent(cc.Sprite), this.bg.spriteFrame = this.bgSpriteFrameList[0], cc.sys.isNative && (cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (this.bg.spriteFrame = this.bgSpriteFrameList[1]))
                }, t.prototype.update = function() {
                    !cc.sys.isNative || cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (this.loading.node.active = !1, this.progressBar.node.active = !1, this.txtProgress.node.active = !1)
                }, t.prototype.onHide = function() {
                    this.unscheduleAllCallbacks()
                }, t.prototype.checkUpdate = function() {
                    var e = this;
                    cc.sys.getNetworkType() != cc.sys.NetworkType.NONE ? h.default.instance.isOpenHotUpdate ? h.default.instance.checkUpdate(0) : this.startLoadingLocal() : this.scheduleOnce(function() {
                        e.checkUpdate()
                    }, 1)
                }, t.prototype.onNeedUpdate = function(e) {
                    c.Logger.log("onNeedUpdate=====", e, h.default.Config_Key), e == h.default.Config_Key[0] && (this.isHotupdating = !0, h.default.instance.startUpdate(0), this.progressBar.node.active = !0)
                }, t.prototype.onUpdateProgress = function(e, t, i) {
                    if (i == h.default.Config_Key[0]) {
                        this.isHotupdating = !0;
                        var n = Math.min(100, e / t * 100).toFixed(2) + "%";
                        this.txtProgress.string = n, this.progressBar.progress = e / t
                    }
                }, t.prototype.onUpdateFail = function(e) {
                    e == h.default.Config_Key[0] && (c.Logger.warn("\u70ed\u66f4\u65b0\u5931\u8d25========"), j.UIHelper.showTip("\u70ed\u66f4\u65b0\u5931\u8d25!"), this.scheduleOnce(function() {
                        cc.game.restart()
                    }, 2))
                }, t.prototype.onUpdateFinish = function(e, t) {
                    c.Logger.log("onUpdateFinish========"), this.isHotupdating = !1, e != h.default.Config_Key[0] || t || this.startLoadingLocal()
                }, t.prototype.startLoadingLocal = function() {
                    return a(this, void 0, void 0, function() {
                        var e,
                            t = this;
                        return s(this, function(i) {
                            return Y.default.preLoad(), e = M.GameConfig.preloadList, c.Logger.log("loadResArray===urlList==", e), cc.loader.loadResArray(e, function(e, i, n) {
                                t.progressBar.node.active = !0, t.txtProgress.string = (e / i * 100).toFixed(2) + "%", t.progressBar.progress = e / i
                            }, function(e, i) {
                                if (e)
                                    c.Logger.error("startLoadingLocal error", e);
                                else {
                                    for (var n = 0; n < i.length; n++)
                                        i[n] instanceof cc.JsonAsset ? t.initConfig(i[n]) : i[n] instanceof cc.Prefab ? t.initPrefab(i[n]) : i[n] instanceof cc.Texture2D && t.initSpriteFrame(i[n], n);
                                    t.loadComponent()
                                }
                            }), [2]
                        })
                    })
                }, t.prototype.initSpriteFrame = function(e, t) {
                    var i = new cc.SpriteFrame(e);
                    11 == t ? Z.SpriteFrameConfig.occupation_spriteframe.set(W.GameConst.OCCUPATION.None, i) : 12 == t ? Z.SpriteFrameConfig.occupation_spriteframe.set(W.GameConst.OCCUPATION.ZHAN_SHI, i) : 13 == t ? Z.SpriteFrameConfig.occupation_spriteframe.set(W.GameConst.OCCUPATION.FA_SHI, i) : 14 == t ? Z.SpriteFrameConfig.occupation_spriteframe.set(W.GameConst.OCCUPATION.DAO_SHI, i) : 15 == t ? Z.SpriteFrameConfig.fight_frame[0] = i : 16 == t ? Z.SpriteFrameConfig.fight_frame[1] = i : 17 == t ? Z.SpriteFrameConfig.fight_frame[2] = i : 18 == t ? Z.SpriteFrameConfig.fight_frame[3] = i : 19 == t ? Z.SpriteFrameConfig.fight_frame[4] = i : 20 == t ? Z.SpriteFrameConfig.fight_frame[5] = i : 21 == t ? Z.SpriteFrameConfig.fight_frame[6] = i : 22 == t ? Z.SpriteFrameConfig.fight_frame[7] = i : 23 == t ? Z.SpriteFrameConfig.fight_frame[8] = i : 24 == t ? Z.SpriteFrameConfig.fight_frame[9] = i : t >= 25 && t <= 59 && Z.SpriteFrameConfig.skill_frame.set(M.GameConfig.preloadList[t], i)
                }, t.prototype.initPrefab = function(e) {
                    e.name == F.default.prefabName ? F.default.prefab = e : e.name == J.default.prefabName && (J.default.prefab = e)
                }, t.prototype.initConfig = function(e) {
                    "HeroConfig" == e.name ? L.HeroConfig.json2Config(e.json) : "EquipConfig" == e.name ? _.EquipConfig.json2Config(e.json) : "IntensifyConfig" == e.name ? S.IntensifyConfig.json2Config(e.json) : "IntensifyBuffConfig" == e.name ? w.IntensifyBuffConfig.json2Config(e.json) : "MagicNameConfig" == e.name ? T.MagicNameConfig.json2Config(e.json) : "RebirthConfig" == e.name ? A.RebirthConfig.json2Config(e.json) : "MapConfig" == e.name ? N.MapConfig.json2Config(e.json) : "MonsterConfig" == e.name ? R.MonsterConfig.json2Config(e.json) : "EquipGatherConfig" == e.name ? y.EquipGatherConfig.json2Config(e.json) : "RandomFuMoConfig" == e.name ? B.RandomFuMoConfig.json2Config(e.json) : "RandomFuMoEntryConfig" == e.name ? P.RandomFuMoEntryConfig.json2Config(e.json) : "DefaultConfig" == e.name ? v.DefaultConfig.json2Config(e.json) : "shopConfig" == e.name ? x.ShopConfig.json2Config(e.json) : "iTemsConfig" == e.name ? E.ITemsConfig.json2Config(e.json) : "shopAllConfig" == e.name ? O.ShopAllConfig.json2Config(e.json) : "shopRecoverConfig" == e.name ? V.ShopRecoverConfig.json2Config(e.json) : "yaoShopConfig" == e.name ? G.YaoShopConfig.json2Config(e.json) : "BagConfig" == e.name ? m.BagConfig.json2Config(e.json) : "goldsConfig" == e.name ? I.GoldsConfig.json2Config(e.json) : "chongZhiConfig" == e.name ? C.ChongZhiConfig.json2Config(e.json) : "activityCodeConfig" == e.name ? p.ActivityCodeConfig.json2Config(e.json) : "SkillConfig" == e.name ? U.SkillConfig.json2Config(e.json) : "JingJieConfig" == e.name ? k.JingJieConfig.json2Config(e.json) : "guideConfig_" == e.name ? b.GuideConfig.json2Config(e.json) : e.name == D.WordConfig.Config_Name ? D.WordConfig.json2Config(e.json) : "Xilianexpendconfig" == e.name ? Q.Xilianexpendconfig.json2Config(e.json) : e.name == z.ComplexConfig.Config_Name ? z.ComplexConfig.json2Config(e.json) : e.name == K.RuneConfig.Config_Name ? K.RuneConfig.json2Config(e.json) : e.name == X.QuenchingCostConfig.Config_Name ? X.QuenchingCostConfig.json2Config(e.json) : e.name == $.default.Config_Name ? $.default.json2Config(e.json) : e.name == ee.default.Config_Name ? ee.default.json2Config(e.json) : e.name == te.default.Config_Name ? te.default.json2Config(e.json) : e.name == ie.ShenCiConfig.Config_Name ? ie.ShenCiConfig.json2Config(e.json) : e.name == ne.ShenbingskillAllConfig.Config_Name ? ne.ShenbingskillAllConfig.json2Config(e.json) : e.name == oe.ChiXueMoJianConfig.Config_Name ? oe.ChiXueMoJianConfig.json2Config(e.json) : e.name == ae.MingYunZhiRenConfig.Config_Name && ae.MingYunZhiRenConfig.json2Config(e.json), cc.loader.release(e)
                }, t.prototype.loadComponent = function() {
                    return a(this, void 0, void 0, function() {
                        return s(this, function(e) {
                            switch (e.label) {
                            case 0:
                                return [4, g.default.preLoad()];
                            case 1:
                                return e.sent(), [4, f.default.preLoad()];
                            case 2:
                                return e.sent(), q.default.instance.startGame(), [2]
                            }
                        })
                    })
                }, t.prototype.onAnim = function() {
                    this.lastVla += 1, this.loading.string += " .", this.lastVla > 3 && (this.lastVla = 0, this.isHotupdating ? this.loading.string = "\u66f4\u65b0\u4e2d" : this.loading.string = "\u52a0\u8f7d\u4e2d")
                }, o([le({
                    type: [cc.SpriteFrame]
                })], t.prototype, "bgSpriteFrameList", void 0), t = o([re], t)
            }(u.default);
        i.default = ce, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/HotUpdate": "HotUpdate",
        "../../engine/Logger": "Logger",
        "../../engine/MusicPrefab": "MusicPrefab",
        "../../engine/SoundPrefab": "SoundPrefab",
        "../../engine/UIManager": "UIManager",
        "../../engine/VersionManager": "VersionManager",
        "../../engine/ViewBase": "ViewBase",
        "../GameController": "GameController",
        "../config/ActivityCodeConfig": "ActivityCodeConfig",
        "../config/BagConfig": "BagConfig",
        "../config/ChiXueMoJianConfig": "ChiXueMoJianConfig",
        "../config/ChongZhiConfig": "ChongZhiConfig",
        "../config/ComplexConfig": "ComplexConfig",
        "../config/DefaultConfig": "DefaultConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/EquipGatherConfig": "EquipGatherConfig",
        "../config/FangShopConfig": "FangShopConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/GoldsConfig": "GoldsConfig",
        "../config/GuideConfig": "GuideConfig",
        "../config/HeroConfig": "HeroConfig",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/IntensifyBuffConfig": "IntensifyBuffConfig",
        "../config/IntensifyConfig": "IntensifyConfig",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/MapConfig": "MapConfig",
        "../config/MingYunZhiRenConfig": "MingYunZhiRenConfig",
        "../config/MonsterConfig": "MonsterConfig",
        "../config/QuenchingCostConfig": "QuenchingCostConfig",
        "../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../config/RandomFuMoEntryConfig": "RandomFuMoEntryConfig",
        "../config/RebirthConfig": "RebirthConfig",
        "../config/RuneConfig": "RuneConfig",
        "../config/ShenCiConfig": "ShenCiConfig",
        "../config/ShenbingskillAllConfig": "ShenbingskillAllConfig",
        "../config/ShopAllConfig": "ShopAllConfig",
        "../config/ShopConfig": "ShopConfig",
        "../config/ShopRecoverConfig": "ShopRecoverConfig",
        "../config/SkillConfig": "SkillConfig",
        "../config/SkinConfig": "SkinConfig",
        "../config/SpriteFrameConfig": "SpriteFrameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../config/Xilianexpendconfig": "Xilianexpendconfig",
        "../config/YaoShopConfig": "YaoShopConfig",
        "../prefab/ShaderMaterialPrefab": "ShaderMaterialPrefab",
        "../utils/UIHelper": "UIHelper",
        "./Discount/DisCountConfig": "DisCountConfig",
        "./Roles/BagItem": "BagItem",
        "./Skill/SkillItem": "SkillItem"
    }],
    LocalStorage: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "39ea6mUx7dMiJ/SeWX7YNQb", "LocalStorage"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./HaoEncrypt"),
            o = function() {
                function e() {}
                return e.setItem = function(t, i) {
                    var o = n.default.encode(i);
                    cc.sys.localStorage.setItem(e.GamePreFlag + t, o)
                }, e.getItem = function(t) {
                    var i = cc.sys.localStorage.getItem(e.GamePreFlag + t),
                        o = i;
                    return i && (o = n.default.decode(i)), o
                }, e.removeItem = function(t) {
                    cc.sys.localStorage.removeItem(e.GamePreFlag + t)
                }, e.getInt = function(t) {
                    var i = e.getItem(t),
                        n = 0;
                    return i && (n = parseInt(i)), n
                }, e.setInt = function(t, i) {
                    e.setItem(t, i.toString())
                }, e.getFloat = function(t) {
                    var i = e.getItem(t),
                        n = 0;
                    return i && (n = parseFloat(i)), n
                }, e.setFloat = function(t, i) {
                    e.setItem(t, i.toString())
                }, e.getBoolean = function(t) {
                    return 1 == e.getInt(t)
                }, e.setBoolean = function(t, i) {
                    i ? e.setInt(t, 1) : e.setInt(t, 0)
                }, e.clear = function() {
                    cc.sys.localStorage.clear()
                }, e.GamePreFlag = "legend-game-HaoLocalStorage-", e
            }();
        i.default = o, cc._RF.pop()
    }, {
        "./HaoEncrypt": "HaoEncrypt"
    }],
    Logger: [function(e, t, i) {
        "use strict";
        var n;
        cc._RF.push(t, "0db68YcSsNAza72hAvNP/Ok", "Logger"), Object.defineProperty(i, "__esModule", {
            value: !0
        }), function(e) {
            e[e.DEBUG = 0] = "DEBUG", e[e.LOG = 1] = "LOG", e[e.INFO = 2] = "INFO", e[e.WARN = 3] = "WARN", e[e.ERROR = 4] = "ERROR"
        }(n || (n = {}));
        var o = ["debug", "log", "info", "warn", "error"],
            a = function() {
                function e() {}
                return e.formatNow = function() {
                    var e = new Date;
                    return e.getFullYear() + "-" + (e.getMonth() + 1) + "-" + e.getDate() + " " + e.getHours() + ":" + e.getMinutes() + ":" + e.getSeconds() + ":" + e.getMilliseconds()
                }, e.getLogPreKey = function(t) {
                    return "[" + e.formatNow() + "] " + e.tag + " [" + o[t] + "] "
                }, e.debug = function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i] = arguments[i];
                    if (!(e.LEVEL > n.DEBUG)) {
                        var o = this.getLogPreKey(n.DEBUG);
                        t.join(" ");
                        this.Terminal_Log ? console.log.apply(console, ["%c" + o, this.Log_Color_Config[n.DEBUG]].concat(t)) : console.log.apply(console, [o].concat(t))
                    }
                }, e.log = function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i] = arguments[i];
                    if (!(e.LEVEL > n.LOG)) {
                        var o = this.getLogPreKey(n.LOG);
                        t.join(" ");
                        this.Terminal_Log ? console.log.apply(console, ["%c" + o, this.Log_Color_Config[n.DEBUG]].concat(t)) : console.log.apply(console, [o].concat(t))
                    }
                }, e.info = function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i] = arguments[i];
                    if (!(e.LEVEL > n.INFO)) {
                        var o = this.getLogPreKey(n.INFO);
                        t.join(" ");
                        this.Terminal_Log ? console.info.apply(console, ["%c" + o, this.Log_Color_Config[n.DEBUG]].concat(t)) : console.info.apply(console, [o].concat(t))
                    }
                }, e.warn = function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i] = arguments[i];
                    if (!(e.LEVEL > n.WARN)) {
                        var o = this.getLogPreKey(n.WARN);
                        t.join(" ");
                        this.Terminal_Log ? console.warn.apply(console, ["%c" + o, this.Log_Color_Config[n.DEBUG]].concat(t)) : console.warn.apply(console, [o].concat(t))
                    }
                }, e.error = function() {
                    for (var t = [], i = 0; i < arguments.length; i++)
                        t[i] = arguments[i];
                    if (!(e.LEVEL > n.ERROR)) {
                        var o = this.getLogPreKey(n.ERROR);
                        t.join(" ");
                        this.Terminal_Log ? console.error.apply(console, ["%c" + o, this.Log_Color_Config[n.DEBUG]].concat(t)) : console.error.apply(console, [o].concat(t))
                    }
                }, e.tag = "[HaoJslog]", e.LEVEL = n.LOG, e.Log_Color_Config = ["color:#890;font-size:10px;", "color:#000;font-size:11px;", "color:#09f;font-size:12px;", "color:#f90;font-size:13px;", "color:#f00;font-size:15px;"], e.Terminal_Log = !1, e
            }();
        i.Logger = a, cc._RF.pop()
    }, {}],
    LoginView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f7821oyyMRL8KOMlPOkOp16", "LoginView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/EventManager"),
            s = e("../../engine/Logger"),
            r = e("../../engine/ProtoConfig"),
            l = e("../../engine/UIManager"),
            c = e("../../engine/ViewBase"),
            g = e("../config/ColorConfig"),
            f = e("../config/GameConst"),
            d = e("../config/ViewConfig"),
            h = e("../network/SocketClient"),
            u = e("../utils/MusicHelper"),
            p = e("../utils/UIHelper"),
            m = e("../model/RoleInfoModel"),
            C = e("../config/GameConfig"),
            v = e("../network/HttpHelper"),
            _ = e("../../engine/LocalStorage"),
            y = cc._decorator,
            M = y.ccclass,
            I = (y.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.view = null, t.m_type = [], t.m_selectIndex = 1, t.isClickLogin = !1, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onShow = function() {
                    this.m_selectIndex = _.default.getInt(i.LOGIN_KEY) + 1, v.default.getNotify(), m.default.instance = null, this.btnNotity = this.findChild(this.node, "view/notity"), this.onAddEvent(this.btnNotity, this.onShowNotity.bind(this)), this.view = this.node.getChildByName("view");
                    for (var e = 0; e < 3; e++)
                        this.m_type.push(this.view.getChildByName("" + e)), this.m_type[e].on(cc.Node.EventType.TOUCH_END, this.onClickItem.bind(this, e)), a.EventManager.instance.addBtnEvent(this.node, this.m_type[e].getChildByName("info").getChildByName("btnDel"), "LoginView", "onDeleteRole", e);
                    this.onUserInfoRefresh(), this.view.getChildByName("startGame").on(cc.Node.EventType.TOUCH_END, this.onStartGame.bind(this))
                }, t.prototype.onHide = function() {}, t.prototype.onClickItem = function(e) {
                    u.MusicHelper.play_click(), s.Logger.log("onClickItem=", e), _.default.setInt(i.LOGIN_KEY, e), this.m_selectIndex = e + 1;
                    var t = this.m_type[e].getChildByName("create");
                    this.m_type[e].getChildByName("info");
                    t.active ? l.default.instance.createView(d.default.gameView.register, null, e) : this.onUserInfoRefresh()
                }, t.prototype.onUserInfoRefresh = function() {
                    for (var e = 0; e < this.m_type.length; e++) {
                        var t = this.m_type[e].getChildByName("create"),
                            i = this.m_type[e].getChildByName("info");
                        e + 1 == this.m_selectIndex ? this.m_type[e].color = g.ColorConfig.YellowColor : this.m_type[e].color = g.ColorConfig.WhiteColor;
                        var n = m.default.getRoleByPos(e + 1);
                        n ? (i.active = !0, t.active = !1, i.getChildByName("userName").getComponent(cc.Label).string = n.roleName, i.getChildByName("content_1").getComponent(cc.Label).string = n.level + "", i.getChildByName("content_2").getComponent(cc.Label).string = f.GameConst.OccupationNameMap.get(n.occupation), i.getChildByName("content_2").color = g.ColorConfig.getRoleColor(n.occupation)) : (i.active = !1, t.active = !0)
                    }
                }, t.prototype.onShowNotity = function(e, t) {
                    l.default.instance.createView(d.default.gameView.notity)
                }, t.prototype.onDeleteRole = function(e, t) {
                    u.MusicHelper.play_click();
                    var i = m.default.getRoleByPos(t + 1);
                    i && (this.nowRoleInfo = i, l.default.instance.createView(d.default.gameView.CheckDeleteRoleView, null, function(e) {
                        e && h.default.req_del_role(i)
                    }))
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    e == r.ProtoConfig.c_req_del_role ? 1 == t.getRet() && m.default.deleteRole(this.nowRoleInfo) : e == r.ProtoConfig.c_req_role_info && this.gotoGame()
                }, t.prototype.onStartGame = function() {
                    u.MusicHelper.play_click();
                    var e = m.default.getRoleByPos(this.m_selectIndex);
                    s.Logger.log("onStartGame==================", e), e ? C.GameConfig.connectServer ? (l.default.instance.createView(d.default.gameView.LoadingTipView), h.default.req_start_game(e)) : (m.default.initMyRoleInfo(e), this.gotoGame()) : p.UIHelper.showTip("\u89d2\u8272\u4e0d\u5b58\u5728!")
                }, t.prototype.gotoGame = function() {
                    var e = this;
                    s.Logger.log("gotoGame==="), l.default.instance.createView(d.default.gameView.gameui, function() {
                        e.closeView()
                    })
                }, t.LOGIN_KEY = "LOGIN_KEY", t = i = o([M], t)
            }(c.default));
        i.default = I, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/HttpHelper": "HttpHelper",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    MagicModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "6c520S0JdJLL4LIZcfhIQkx", "MagicModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../config/MagicNameConfig"),
            o = e("./RoleInfoModel"),
            a = e("../../engine/Logger"),
            s = function() {
                function e() {
                    this.pos = 0, this.min = 1, this.max = 1, this.color = 0
                }
                return e.create = function(t, i) {
                    var n = new e;
                    return n.magicId = t, n.magicValue = i, n
                }, e.formatMagicValue = function(e, t) {
                    return 1 == n.MagicNameConfig.getMagicConfigById(e).type ? t / 100 + "%" : t + ""
                }, e.proto2ModelList = function(t) {
                    for (var i = [], n = 0; n < t.length; n++) {
                        var o = t[n],
                            s = new e;
                        s.magicId = o.getK(), s.magicValue = o.getV(), i.push(s)
                    }
                    return a.Logger.log("infoModel==========", i), i
                }, e.proto2RunList = function(t) {
                    for (var i = [], n = 0; n < t.length; n++) {
                        var o = t[n],
                            a = new e;
                        a.pos = o.getPos(), a.color = o.getColor(), a.min = o.getMinV(), a.max = o.getMaxV(), a.magicId = o.getK(), a.magicValue = o.getV(), i.push(a)
                    }
                    return i.sort(function(e, t) {
                        return e.pos - t.pos
                    }), i
                }, e.getMagicValueByList = function(e, t) {
                    void 0 === t && (t = o.default.instance.attrList);
                    for (var i = 0, n = 0; n < t.length; n++) {
                        var a = t[n];
                        if (a.magicId == e) {
                            i = a.magicValue;
                            break
                        }
                    }
                    return i
                }, e.prototype.clone = function() {
                    var t = new e;
                    return t.magicId = this.magicId, t.magicValue = this.magicValue, t
                }, e
            }();
        i.default = s, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../config/MagicNameConfig": "MagicNameConfig",
        "./RoleInfoModel": "RoleInfoModel"
    }],
    MagicNameConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "88018IHyO1F4Lgj+B0SJSIQ", "MagicNameConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../model/RoleInfoModel"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.getDesc = function(e) {
                    void 0 === e && (e = 0);
                    return 7 == e ? a.default.instance.AttackType : this.descMap.get(e)
                }, t.obj2Config = function(e) {
                    var i = new t;
                    for (var n in e)
                        "function" != typeof e[n] && (i[n] = e[n]);
                    return i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    })
                }, t.getMagicConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e != i.id || (t = i)
                    }), t
                }, t.getZhanLi = function(e, t) {
                    return this.getMagicConfigById(e).zhan * t / 100
                }, t.configMap = new Map, t.MagicId = {
                    atk: 1,
                    atk_p: 2,
                    mag: 3,
                    mag_p: 4,
                    spt: 5,
                    spt_p: 6,
                    Allstat: 7,
                    lucky: 8,
                    def: 9,
                    hp: 10,
                    hp_p: 11,
                    mp: 12,
                    mp_p: 13,
                    speed: 14,
                    BonusDamage: 15,
                    BonusDamage_p: 16,
                    DamageReduction: 17,
                    DamageReduction_p: 18,
                    HpDrain: 19,
                    MpDrain: 20,
                    magic_find1: 21,
                    equip_times: 22,
                    stun: 23,
                    maxHp: 24,
                    maxMp: 25,
                    HpDraineffect_p: 29,
                    BonusDamageeffect_p: 30,
                    petspeed: 31,
                    petdamage: 32,
                    petdamage_p: 33,
                    ignoredef_p: 34,
                    jichujianshu: 101,
                    gongshajianshu: 102,
                    cishajianshu: 103,
                    banyuewandao: 104,
                    yemanchongzhuang: 105,
                    hutizhenqi: 106,
                    liehuojianfa: 107,
                    huoqiushu: 201,
                    leidianshu: 202,
                    huoqiang: 203,
                    youhuozhiguang: 204,
                    mofadun: 205,
                    fashujingtong: 206,
                    bingpaoxiao: 207,
                    jingshenlizhanfa: 301,
                    zhiliaoshu: 302,
                    linghunhuofu: 303,
                    shidushu: 304,
                    zhaohuanshu: 305,
                    yinshenshu: 306,
                    shenshengzhanjiashu: 307,
                    wujizhenqi: 308,
                    skill_all: 1e3,
                    skill_zhanshi: 1001,
                    skill_fashi: 1002,
                    skill_daoshi: 1003,
                    skill_banyue: 2104,
                    skill_huoqiang: 2203,
                    skill_shidu: 2304
                }, t.descMap = (new Map).set(t.MagicId.atk, "\u653b\u51fb").set(t.MagicId.atk_p, "\u653b\u51fb").set(t.MagicId.mag, "\u9b54\u6cd5").set(t.MagicId.mag_p, "\u9b54\u6cd5").set(t.MagicId.spt, "\u9053\u672f").set(t.MagicId.spt_p, "\u9053\u672f").set(t.MagicId.Allstat, "\u653b\u51fb\u3001\u9b54\u6cd5\u3001\u9053\u672f").set(t.MagicId.lucky, "\u5e78\u8fd0").set(t.MagicId.def, "\u9632\u5fa1").set(t.MagicId.hp, "\u751f\u547d").set(t.MagicId.hp_p, "\u751f\u547d").set(t.MagicId.mp, "\u6cd5\u529b").set(t.MagicId.mp_p, "\u6cd5\u529b").set(t.MagicId.speed, "\u653b\u901f").set(t.MagicId.BonusDamage, "\u56fa\u5b9a\u4f24\u5bb3").set(t.MagicId.BonusDamage_p, "\u4f24\u5bb3\u589e\u52a0").set(t.MagicId.DamageReduction, "\u56fa\u5b9a\u51cf\u4f24").set(t.MagicId.DamageReduction_p, "\u4f24\u5bb3\u51cf\u514d").set(t.MagicId.HpDrain, "\u751f\u547d\u5438\u53d6").set(t.MagicId.MpDrain, "\u6cd5\u529b\u5438\u53d6").set(t.MagicId.magic_find1, "\u6781\u54c1\u6982\u7387").set(t.MagicId.equip_times, "\u88c5\u5907\u6389\u7387").set(t.MagicId.stun, "\u7729\u6655").set(t.MagicId.maxHp, "\u8840\u91cf").set(t.MagicId.maxMp, "\u6cd5\u529b").set(t.MagicId.jichujianshu, "\u57fa\u672c\u5251\u672f").set(t.MagicId.gongshajianshu, "\u653b\u6740\u5251\u672f").set(t.MagicId.cishajianshu, "\u523a\u6740\u5251\u672f").set(t.MagicId.banyuewandao, "\u534a\u6708\u5f2f\u5200").set(t.MagicId.yemanchongzhuang, "\u91ce\u86ee\u51b2\u649e").set(t.MagicId.hutizhenqi, "\u62a4\u4f53\u771f\u6c14").set(t.MagicId.liehuojianfa, "\u70c8\u706b\u5251\u6cd5").set(t.MagicId.huoqiushu, "\u706b\u7403\u672f").set(t.MagicId.leidianshu, "\u96f7\u7535\u672f").set(t.MagicId.huoqiang, "\u706b\u5899").set(t.MagicId.youhuozhiguang, "\u8bf1\u60d1\u4e4b\u5149").set(t.MagicId.mofadun, "\u9b54\u6cd5\u76fe").set(t.MagicId.fashujingtong, "\u6cd5\u672f\u7cbe\u901a").set(t.MagicId.bingpaoxiao, "\u51b0\u5486\u54ee").set(t.MagicId.jingshenlizhanfa, "\u7cbe\u795e\u529b\u6218\u6cd5").set(t.MagicId.zhiliaoshu, "\u6cbb\u7597\u672f").set(t.MagicId.linghunhuofu, "\u7075\u9b42\u706b\u7b26").set(t.MagicId.shidushu, "\u65bd\u6bd2\u672f").set(t.MagicId.zhaohuanshu, "\u53ec\u5524\u517d").set(t.MagicId.yinshenshu, "\u9690\u8eab\u672f").set(t.MagicId.shenshengzhanjiashu, "\u795e\u5723\u6218\u7532\u672f").set(t.MagicId.wujizhenqi, "\u65e0\u6781\u771f\u6c14").set(t.MagicId.skill_all, "\u5168\u6280\u80fd\u7b49\u7ea7").set(t.MagicId.skill_daoshi, "\u9053\u58eb\u6280\u80fd\u7b49\u7ea7").set(t.MagicId.skill_zhanshi, "\u6218\u58eb\u6280\u80fd\u7b49\u7ea7").set(t.MagicId.skill_fashi, "\u6cd5\u5e08\u6280\u80fd\u7b49\u7ea7").set(t.MagicId.skill_banyue, "\u534a\u6708\u4f24\u5bb3").set(t.MagicId.skill_huoqiang, "\u706b\u5899\u4f24\u5bb3").set(t.MagicId.skill_shidu, "\u65bd\u6bd2\u672f\u4f24\u5bb3").set(t.MagicId.HpDraineffect_p, "\u5438\u8840\u6548\u679c").set(t.MagicId.BonusDamageeffect_p, "\u56fa\u5b9a\u51cf\u4f24\u6548\u679c").set(t.MagicId.petspeed, "\u53ec\u5524\u7269\u653b\u901f").set(t.MagicId.petdamage, "\u53ec\u5524\u7269\u4f24\u5bb3").set(t.MagicId.petdamage_p, "\u53ec\u5524\u7269\u4f24\u5bb3").set(t.MagicId.ignoredef_p, "\u65e0\u89c6\u9632\u5fa1\u51e0\u7387"), t
            }(o.JsonConfigBase);
        i.MagicNameConfig = s, cc._RF.pop()
    }, {
        "../model/RoleInfoModel": "RoleInfoModel",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    Main: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "6daa3OHgsJNTLdjxnlZpqTX", "Main");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("./engine/AdapterHelper"),
            s = e("./engine/ComponentBase"),
            r = e("./engine/EventManager"),
            l = e("./engine/UIManager"),
            c = e("./game/config/ViewConfig"),
            g = e("./game/event/CommonEvent"),
            f = e("./game/GameController"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), a.default.fixApdater(), r.EventManager.instance.clearAll(), f.default.instance.init(), l.default.instance.init(this.node.getChildByName("UIRoot")), l.default.instance.createView(c.default.gameView.loading), cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.onKeyUp, this)
                }, t.prototype.update = function(e) {
                    r.EventManager.instance.dispatch(g.CommonEvent.Event_FrameUpdate, e)
                }, t.prototype.onKeyUp = function(e) {
                    e.keyCode == cc.macro.KEY.back && cc.game.end()
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this)
                }, t = o([h], t)
            }(s.default));
        i.default = u, cc._RF.pop()
    }, {
        "./engine/AdapterHelper": "AdapterHelper",
        "./engine/ComponentBase": "ComponentBase",
        "./engine/EventManager": "EventManager",
        "./engine/UIManager": "UIManager",
        "./game/GameController": "GameController",
        "./game/config/ViewConfig": "ViewConfig",
        "./game/event/CommonEvent": "CommonEvent"
    }],
    MakeEquipModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "8d149srtq5OQKlnxShGkK7P", "MakeEquipModel");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("../../engine/LocalStorage"),
            a = e("./RoleInfoModel"),
            s = e("../config/EquipConfig"),
            r = e("../../engine/RandomUtil"),
            l = e("../config/GameConst"),
            c = e("./ItemInfoModel"),
            g = e("./ServerTime"),
            f = e("../../engine/EventManager"),
            d = e("../event/CommonEvent"),
            h = e("../../engine/Logger"),
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hadMake = !1, t.index = 0, t
                }
                return n(t, e), t.init = function() {
                    this.makeEquipModelLocalKey = this.defaultLocalKey + a.default.instance.roleId;
                    var e = o.default.getItem(this.makeEquipModelLocalKey);
                    if (e)
                        for (var i = JSON.parse(e), n = 0; n < i.length; n++) {
                            var s = i[n],
                                r = new t;
                            for (var l in s)
                                "function" != typeof s[l] && (r[l] = s[l])
                        }
                }, t.getLastRandomTime = function() {
                    return this.nextRandomTime
                }, t.prototype.getBaseAddValue = function(e) {
                    for (var t = 0, i = 0; i < this.baseAddAttrList.length; i++) {
                        var n = this.baseAddAttrList[i];
                        if (n.magicId == e) {
                            t = n.magicValue;
                            break
                        }
                    }
                    return t
                }, t.randomEquip = function() {
                    var e = g.ServerTime.getServerTime(),
                        i = s.EquipConfig.getCanMakeEquipConfig(a.default.instance.level),
                        n = r.default.nextInt(0, i.length - 1),
                        o = i.splice(n, 1)[0],
                        c = new t;
                    this.makeEquipList = [], this.makeEquipList.push(c), c.itemType = o.id, c.itemKind = l.GameConst.ITEM_KIND.EQUIP, c.lastRandomTime = e, c.hadMake = !1, c.quality = l.GameConst.QUALITY.PURPLE;
                    var f = s.EquipConfig.getEquipConfigById(c.itemType);
                    c.baseAddAttrList = s.EquipConfig.randomBaseAddAttrList(c.quality, f), c.randAttrList = s.EquipConfig.randomAddAttrList(c.quality, f);
                    for (var d = 0; d < 2; d++) {
                        c = new t;
                        var h = r.default.randomIndexByPercent([8500, 1300, 200]);
                        c.quality = 0 == h ? l.GameConst.QUALITY.BLUE : 1 == h ? l.GameConst.QUALITY.PURPLE : l.GameConst.QUALITY.ORANGE, o = i.shift(), c.itemType = o.id, c.itemKind = l.GameConst.ITEM_KIND.EQUIP, c.lastRandomTime = e, c.hadMake = !1, f = s.EquipConfig.getEquipConfigById(c.itemType), c.baseAddAttrList = s.EquipConfig.randomBaseAddAttrList(c.quality, f), c.randAttrList = s.EquipConfig.randomAddAttrList(c.quality, f), this.makeEquipList.push(c)
                    }
                    this.makeEquipList = r.default.randomArr(this.makeEquipList, this.makeEquipList.length)
                }, t.saveToLocalStorage = function() {
                    o.default.setItem(this.makeEquipModelLocalKey, JSON.stringify(t.makeEquipList))
                }, t.proto2ModelList = function(e) {
                    this.nextRandomTime = 1e3 * e.getTime();
                    var t = e.getItemlistList();
                    this.makeEquipList = [];
                    for (var i = 0; i < t.length; i++) {
                        var n = this.proto2Model(t[i]);
                        this.makeEquipList[i] = n
                    }
                    return h.Logger.log("c_req_make_info====================", e, this.makeEquipList), f.EventManager.instance.dispatch(d.CommonEvent.Event_Make_Equip), this.makeEquipList
                }, t.proto2Model = function(e) {
                    var i = new t;
                    i.index = e.getIndex(), 1 == e.getIsmake() ? i.hadMake = !0 : i.hadMake = !1;
                    var n = e.getTItemInfo();
                    return i.proto2Model(n), i
                }, t.makeEquipList = [], t.CD = 18e5, t.defaultLocalKey = "MakeEquipModel", t.makeEquipModelLocalKey = "", t
            }(c.default);
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/RandomUtil": "RandomUtil",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConst": "GameConst",
        "../event/CommonEvent": "CommonEvent",
        "./ItemInfoModel": "ItemInfoModel",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    ManifestConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "354022dQw9EqISJbNlwNtj/", "ManifestConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../game/config/GameConfig"),
            o = e("./DateUtil"),
            a = function() {
                function e() {}
                return e.getManifestStr = function(t) {
                    var i = {};
                    return i.packageUrl = n.GameConfig.getHotUpdateUrl() + "/hotupdate/" + t + "/", i.remoteManifestUrl = n.GameConfig.getHotUpdateUrl() + "/hotupdate/" + t + "/project.manifest?t=" + o.default.now(), i.remoteVersionUrl = n.GameConfig.getHotUpdateUrl() + "/hotupdate/" + t + "/version.manifest?t=" + o.default.now(), i.version = e.version, i.assets = {}, i.searchPaths = [], JSON.stringify(i)
                }, e.packageUrl = "", e.remoteManifestUrl = "", e.remoteVersionUrl = "", e.version = "1.0.0", e.assets = {}, e.searchPaths = [], e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "../game/config/GameConfig": "GameConfig",
        "./DateUtil": "DateUtil"
    }],
    MapConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "71baeGkMCNDLoy+FOkYFhtT", "MapConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.name = "\u6bd4\u5947\u57ce", t.map = [0, 2, 0, 0, 1, 0, 0, 0, 0], t.monsterArray = [1, 78], t.refresh_time = [3, 5], t.refresh_num = [2, 3], t.max_monster = 5, t.boss = {
                    monsterid: 1007,
                    rate: 5e3,
                    num: 10,
                    rebtime: 7200
                }, t.elite = {
                    rate: 300,
                    num: 100
                }, t.header = {
                    rate: 80,
                    num: 300
                }, t.Commander = {
                    rate: 20,
                    num: 800
                }, t.map_shade = {
                    skin0: "button_ditu04_kuangdong02",
                    skin1: "button_ditu04_kuangdong01"
                }, t.drop_info = [{
                    color: "#0cff00",
                    name: "20-29\u7ea7\u6b66\u5668,\u8863\u670d,\u9879\u94fe,\u6212\u6307,\u624b\u956f,\u978b\u5b50,\u8170\u5e26,\u5934\u76d4"
                }, {
                    color: "#00c0ff",
                    name: "\u4e66\u9875,\u653b\u6740\u5251\u672f,\u534a\u6708\u5f2f\u5200,\u7075\u9b42\u706b\u7b26,\u53ec\u5524\u9ab7\u9ac5,\u96f7\u7535\u672f,\u706b\u5899"
                }, {
                    color: "#f702f4",
                    name: "\u6d17\u7ec3\u77f3"
                }], t.level = "21\u7ea7-30\u7ea7", t.monster = [{
                    color: "#ffffff",
                    name: "\u8708\u86a3  "
                }, {
                    color: "#ffffff",
                    name: "\u8df3\u8df3\u8702  "
                }], t.map_drop = [{
                    color: "#ffffff",
                    name: "\u88c1\u51b3  "
                }, {
                    color: "#ffffff",
                    name: "\u795e\u79d8\u5934\u76d4  "
                }, {
                    color: "#ffffff",
                    name: "\u7d2b\u7ef8\u8170\u5e26  "
                }], t.des = "", t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.mapId = e.id, i.position = e.position, i.world = e.world, i.name = e.name, i.Lv = e.Lv, i.t_def = e.t_def, i.t_db = e.t_db, i.area = e.area, i.reborn = e.reborn, i.map = e.map, i.monsterArray = e.monsterArray, i.type = e.type, i.refresh_time = e.refresh_time, i.refresh_num = e.refresh_num, i.max_monster = e.max_monster, i.boss = e.boss, i.elite = e.elite, i.header = e.header, i.Commander = e.Commander, i.map_shade = e.map_shade, i.drop_info = e.drop_info, i.level = e.level, i.monster = e.monster, i.map_drop = e.map_drop, i.des = e.des, i.kill_soul = e.kill_soul, i
            }, t.getMapConfigByMapId = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    e == parseInt(n) && (t = i)
                }), t
            }, t.json2Config = function(e) {
                var t = this;
                this.bossMapList = [], Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    n.mapId = parseInt(i), t.configMap.set(i, n), n.boss && t.bossMapList.push(n)
                }), this.bossMapList.sort(function(e, t) {
                    return e.Lv - t.Lv
                })
            }, t.getMapIdByPositonAndWorld = function(e, t) {
                var i;
                return this.configMap.forEach(function(n, o) {
                    n.position != e || n.world != t || (i = n)
                }), i
            }, t.MAP_TYPE = {
                Field: 0,
                City: 1
            }, t.WORLD = {
                FanRen: 1,
                LunHui: 2,
                XianTian: 3
            }, t.Max_World = 3, t.bossMapList = [], t.configMap = new Map, t.curJingJieIndex = 0, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.MapConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    MapInfoView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "18eb6zcKx1KY6e3vJC3vzbU", "MapInfoView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/MapConfig"),
            r = e("../../model/FightModel"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t];
                    this.params = e
                }, t.prototype.onShow = function() {
                    var e = this.getChild(this.node, "view/panel");
                    this.titleName = this.getChild(e, "1/titleName", cc.Label), this.mapName = this.getChild(e, "2/map/mapName", cc.Label), this.mapPower = this.getChild(e, "2/power/mapPower", cc.Label), this.mapLevel = this.getChild(e, "2/level/mapLevel", cc.Label), this.monsterInfo = this.getChild(e, "monster/monsterInfo", cc.RichText), this.dropInfo = this.getChild(e, "drop/dropInfo", cc.RichText), this.btnClose = this.getChild(e, "1/btnClose", cc.Node), this.btnClose.on(cc.Node.EventType.TOUCH_END, this.clickClose, this), this.initData()
                }, t.prototype.initData = function() {
                    var e = s.MapConfig.getMapConfigByMapId(this.params);
                    this.titleName.string = "" + e.name, this.mapName.string = "" + e.name, this.mapPower.string = "" + e.Lv, this.mapPower.node.color = r.default.maxFight < e.Lv ? cc.Color.RED : cc.Color.WHITE, this.mapLevel.string = "" + e.level, this.monsterInfo.string = this.getRictString(e.monster), this.dropInfo.string = this.getRictString(e.map_drop)
                }, t.prototype.getRictString = function(e) {
                    var t = "";
                    if (!e)
                        return "\u65e0";
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i];
                        t += "<color=" + n.color + ">" + n.name
                    }
                    return t += "</color>"
                }, t.prototype.clickClose = function() {
                    this.closeView()
                }, t = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../../engine/ViewBase": "ViewBase",
        "../../config/MapConfig": "MapConfig",
        "../../model/FightModel": "FightModel"
    }],
    MapManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "2151c/aKGtHurC2SRVv85gR", "MapManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/Astar"),
            o = e("../model/Grid"),
            a = e("../prefab/GameManager"),
            s = function() {
                function e() {
                    this.gridRow = 6, this.gridCol = 6
                }
                return e.prototype.createMapAstar = function() {
                    var e = new n.Astar;
                    return this.astar = e, this.reInit(), e
                }, e.prototype.reInit = function() {
                    var e = this.astar;
                    e.init(this.gridCol - 1, this.gridRow - 1);
                    for (var t = 0; t < this.gridRow; t++)
                        for (var i = 0; i < this.gridCol; i++)
                            a.default.instance.gameView.canWalk(t, i) ? e.setGridType(i, t, n.AstarGridType.Normal) : e.setGridType(i, t, n.AstarGridType.Hider);
                    return e
                }, e.prototype.findPath2 = function(e, t, i, n) {
                    if (e == i)
                        if (t < n) {
                            if (a.default.instance.gameView.canWalk(e, t + 1))
                                return o.default.init(e, t + 1)
                        } else if (t > n && a.default.instance.gameView.canWalk(e, t - 1))
                            return o.default.init(e, t - 1);
                    if (t == n)
                        if (e < i) {
                            if (a.default.instance.gameView.canWalk(e + 1, t))
                                return o.default.init(e + 1, t)
                        } else if (e > i && a.default.instance.gameView.canWalk(e - 1, t))
                            return o.default.init(e - 1, t);
                    return Math.abs(e - i) > Math.abs(t - n) ? i > e ? o.default.init(e + 1, t) : o.default.init(e - 1, t) : n > t ? o.default.init(e, t + 1) : o.default.init(e, t - 1)
                }, e.prototype.checkSimplePath = function(e, t, i, n) {
                    var a = Math.abs(e - i),
                        s = Math.abs(t - n);
                    if (a > 0 && s > 0)
                        return a > s ? i > e ? o.default.init(e + 1, t) : o.default.init(e - 1, t) : n > t ? o.default.init(e, t + 1) : o.default.init(e, t - 1)
                }, e.prototype.findPath = function(e, t, i, s, r) {
                    var l = this,
                        c = this.astar;
                    this.reInit(), c.setGridType(s, i, n.AstarGridType.End), c.findPath(cc.v2(t, e), cc.v2(s, i), function(n) {
                        if (n.length >= 2 && (n.pop(), n.shift()), n.length > 0) {
                            var c = n[n.length - 1];
                            r(o.default.init(c.y, c.x))
                        } else {
                            var g = l.findPath2(e, t, i, s);
                            a.default.instance.gameView.canWalk(g.row, g.col) ? r(g) : r()
                        }
                    })
                }, e.instance = new e, e
            }();
        i.default = s, cc._RF.pop()
    }, {
        "../../engine/Astar": "Astar",
        "../model/Grid": "Grid",
        "../prefab/GameManager": "GameManager"
    }],
    MapStatisticsModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ac3edDBBGZL8JLnjMYxPI0c", "MapStatisticsModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./ServerTime"),
            o = function() {
                function e() {}
                return e.prototype.reInit = function() {
                    this.enterMapTime = n.ServerTime.getServerTime(), this.exp = 0, this.killWhiteMonsterNum = 0, this.killGreenMonsteNum = 0, this.killBlueMonsterNum = 0, this.killBlueMonsterNum = 0, this.killPurpleMonsterNum = 0, this.killBossMonsterNum = 0, this.equipWhiteNum = 0, this.equipGreenNum = 0, this.equipBlueNum = 0, this.equipPurpleNum = 0, this.equipYellowNum = 0
                }, e.instance = new e, e
            }();
        i.default = o, cc._RF.pop()
    }, {
        "./ServerTime": "ServerTime"
    }],
    MapView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0cec5AZ7DpHZLLYG22ScBXA", "MapView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../config/MapConfig"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.offsetView = 0, t
                }
                return n(t, e), t.prototype.onEnable = function() {
                    if (this.tabParent)
                        for (var e = this.mapView.children, t = l.MapConfig.curMapConfig.area, i = 0; i < e.length; i++) {
                            var n = e[i];
                            n.name == t.toString() && this.tabParent.setPosition(n.getPosition())
                        }
                }, t.prototype.onShow = function() {
                    var e = this;
                    this.tabParent = this.getChild(this.node, "view/scrollView/view/content/tabParent"), this.mapView = this.getChild(this.node, "view/scrollView/view/content"), this.btnLeft = this.getChild(this.node, "view/btnLeft"), this.btnRight = this.getChild(this.node, "view/btnRight"), this.btnLeft.on(cc.Node.EventType.TOUCH_START, function(t) {
                        e.offsetView = 3
                    }, this), this.btnRight.on(cc.Node.EventType.TOUCH_START, function(t) {
                        e.offsetView = -3
                    }, this), this.btnLeft.on(cc.Node.EventType.TOUCH_END, function(t) {
                        e.offsetView = 0
                    }, this), this.btnRight.on(cc.Node.EventType.TOUCH_END, function(t) {
                        e.offsetView = 0
                    }, this), this.btnLeft.on(cc.Node.EventType.TOUCH_CANCEL, function(t) {
                        e.offsetView = 0
                    }, this), this.btnRight.on(cc.Node.EventType.TOUCH_CANCEL, function(t) {
                        e.offsetView = 0
                    }, this);
                    for (var t = this.mapView.children, i = l.MapConfig.curMapConfig.area, n = 0; n < t.length; n++) {
                        var o = t[n];
                        o.name == i.toString() && this.tabParent.setPosition(o.getPosition()), o.on("click", this.lookMapInfo.bind(this, o.name), this)
                    }
                }, t.prototype.lookMapInfo = function(e) {
                    s.default.instance.createView(r.default.gameView.mapInfo, null, parseInt(e))
                }, t.prototype.update = function() {
                    this.mapView.x += this.offsetView
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), s.default.instance.closeView(r.default.gameView.mapInfo)
                }, t = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/MapConfig": "MapConfig",
        "../../config/ViewConfig": "ViewConfig"
    }],
    MathUtils: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5b6663dB2ZOoZI87jvkXge/", "MathUtils"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.distance = function(e, t, i, n) {
                return Math.sqrt(Math.pow(e - i, 2) + Math.pow(t - n, 2))
            }, e.sub = function(e, t) {
                return cc.v2(e.x - t.x, e.y - t.y)
            }, e.radiansToDegrees = function(e) {
                return 180 / Math.PI * e
            }, e.degreesToRadians = function(e) {
                return Math.PI * e / 180
            }, e.p2pRad = function(e, t) {
                return Math.atan2(t.y - e.y, t.x - e.x)
            }, e.rotation2Fish = function(e) {
                return e = e >= 0 && e <= 180 ? 180 - e : -180 - e
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    MingYunZhiRenConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "879dbnmf8tFoLu5XhFSfPcw", "MingYunZhiRenConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../model/MagicModel"),
            s = e("./MagicNameConfig"),
            r = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.atk = 0, t.mag = 0, t.spt = 0, t.BonusDamage = 0, t.speed = 0, t.BonusDamage_p = 0, t.skill = [], t.need_level = 0, t.zhanli = [], t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.type = e.type, i.level = e.level, i.cost1 = e.cost1, i.cost2 = e.cost2, i.curr_progress = e.curr_progress, i.all_progress = e.all_progress, i.skill = e.skill, i.need_level = e.need_level, i.zhanli = e.zhanli, i.atk = e[1], i.mag = e[3], i.spt = e[5], i.BonusDamage = e[15], i.speed = e[14], i.BonusDamage_p = e[16], i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    })
                }, t.getConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getJingJieConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == i.id && (t = i)
                    }), t
                }, t.getMagicModelList = function(e) {
                    var t,
                        i = [];
                    return e.atk >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.atk, t.magicValue = e.atk, i.push(t)), e.mag >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.mag, t.magicValue = e.mag, i.push(t)), e.spt >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.spt, t.magicValue = e.spt, i.push(t)), e.BonusDamage >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.BonusDamage, t.magicValue = e.BonusDamage, i.push(t)), e.speed >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.speed, t.magicValue = e.speed, i.push(t)), e.BonusDamage_p >= 0 && ((t = new a.default).magicId = s.MagicNameConfig.MagicId.BonusDamage_p, t.magicValue = e.BonusDamage_p, i.push(t)), i
                }, t.Config_Name = "mingyunzhirenConfig", t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.MingYunZhiRenConfig = r, cc._RF.pop()
    }, {
        "../model/MagicModel": "MagicModel",
        "./JsonConfigBase": "JsonConfigBase",
        "./MagicNameConfig": "MagicNameConfig"
    }],
    MiniMapPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e378btiDApHg5MgHz/3a+qF", "MiniMapPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = e("../../engine/EventManager"),
            r = e("../../engine/Logger"),
            l = e("../../engine/ResourcesManager"),
            c = e("../../engine/UIManager"),
            g = e("../config/ColorConfig"),
            f = e("../config/MapConfig"),
            d = e("../config/ViewConfig"),
            h = e("../event/CommonEvent"),
            u = e("../model/GuideModel"),
            p = e("../model/RoleInfoModel"),
            m = e("../utils/MusicHelper"),
            C = e("../utils/UIHelper"),
            v = e("./GameManager"),
            _ = e("../model/FightModel"),
            y = e("../config/WordConfig"),
            M = e("../../engine/DateUtil"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.maxMapNum = 9, t.maxCd = 1 * cc.game.getFrameRate(), t.nexCd = 0, t.maxTime = 1e3, t.infoBgList = [], t.mapbtnBgList = [], t
                }
                return n(t, e), t.prototype.onEnable = function() {
                    s.EventManager.instance.on(h.CommonEvent.Event_SwitchMapSuc, this.onSwitchMapSuc, this)
                }, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this);
                    for (var t = 0; t < f.MapConfig.Max_World; t++)
                        this.infoBgList[t] = this.findChild(this.node, "infobtn/infoBg" + t), this.mapbtnBgList[t] = this.findChild(this.node, "mapbtn/mapbtnBg" + t);
                    this.progressBar = this.node.getChildByName("progressBar").getComponent(cc.ProgressBar), this.progressBar.node.active = !1, this.node.getChildByName("infobtn").on(cc.Node.EventType.TOUCH_END, this.onClickInfo.bind(this), this), this.node.getChildByName("mapbtn").on(cc.Node.EventType.TOUCH_END, this.onClickMapInfo, this);
                    var i = this.node.getChildByName("map");
                    this.mapItemNodeList = [], this.txtMapNameList = [];
                    for (t = 0; t < this.maxMapNum; t++) {
                        var n = i.getChildByName("" + t),
                            o = n.getChildByName("name").getComponent(cc.Label);
                        this.mapItemNodeList.push(n), this.txtMapNameList.push(o), n.on(cc.Node.EventType.TOUCH_END, this.selectMap.bind(this, t, n, o))
                    }
                    this.refreshMap(), s.EventManager.instance.on("GUIDE_1007", function(e) {
                        u.GuideModel.dispatchTounchEndEvent(i.getChildByName("1"), e)
                    }.bind(this), this), this.refreshWorld()
                }, t.prototype.refreshWorld = function() {
                    for (var e = 0; e < this.infoBgList.length; e++)
                        e + 1 == f.MapConfig.curMapConfig.world ? (this.infoBgList[e].active = !0, this.mapbtnBgList[e].active = !0) : (this.infoBgList[e].active = !1, this.mapbtnBgList[e].active = !1)
                }, t.prototype.onClickInfo = function() {
                    m.MusicHelper.play_click(), c.default.instance.createView(d.default.gameView.msgInfo, null, 0)
                }, t.prototype.onClickMapInfo = function() {
                    m.MusicHelper.play_click(), c.default.instance.createView(d.default.gameView.msgInfo, null, 1)
                }, t.prototype.selectMap = function(e) {
                    if (m.MusicHelper.play_click(), r.Logger.log("selectMap====", e), !(v.default.instance.gameView && v.default.instance.gameView.myRolePrefab && v.default.instance.gameView.myRolePrefab.isDead || this.progressBar.node.active || -1 != p.default.instance.switchingMapId)) {
                        var t = f.MapConfig.getMapConfigByMapId(p.default.instance.mapId).map[e];
                        if (r.Logger.log("selectMap==clickMapId==", t, p.default.instance.mapId), !(t <= 0)) {
                            var i = f.MapConfig.getMapIdByPositonAndWorld(t, f.MapConfig.curMapConfig.world);
                            if (i.mapId != p.default.instance.mapId) {
                                if (_.default.maxFight < i.Lv) {
                                    var n = y.WordConfig.getWord(60130);
                                    return n = n.replace("[#]", i.Lv + ""), void C.UIHelper.showTip(n)
                                }
                                this.maxTime = 300;
                                p.default.instance.switchingMapId = i.mapId, c.default.instance.showLoadingIcon(!1), this.progressBar.node.active = !0, this.progressBar.progress = 0, this.nexCd = M.default.now() + this.maxTime, this.nowSelectIndex = e
                            }
                        }
                    }
                }, t.prototype.onSwitchMapSuc = function() {
                    this.refreshMap(), this.refreshWorld()
                }, t.prototype.update = function() {
                    if (this.progressBar.node.active) {
                        var e = this.nexCd - M.default.now();
                        e <= 0 && (e = 0), this.progressBar.progress = 1 - e / this.maxTime, e <= 0 && (c.default.instance.hideLoadingIcon(), this.progressBar.node.active = !1, -1 != p.default.instance.switchingMapId && p.default.instance.switchingMapId != p.default.instance.mapId && p.default.instance.switchMap(!0, p.default.instance.switchingMapId))
                    }
                }, t.prototype.refreshMap = function() {
                    for (var e = f.MapConfig.curMapConfig.map, t = 0; t < e.length; t++) {
                        var i = e[t],
                            n = f.MapConfig.getMapIdByPositonAndWorld(i, f.MapConfig.curMapConfig.world);
                        this.mapItemNodeList[t].color = g.ColorConfig.WhiteColor, this.txtMapNameList[t].node.color = g.ColorConfig.WhiteColor, n ? (this.txtMapNameList[t].string = n.name, n.boss ? l.default.instance.loadSprite(this.mapItemNodeList[t].getComponent(cc.Sprite), "mapicon/" + n.map_shade.skin2) : l.default.instance.loadSprite(this.mapItemNodeList[t].getComponent(cc.Sprite), "mapicon/" + n.map_shade.skin0)) : (this.txtMapNameList[t].string = "", l.default.instance.loadSprite(this.mapItemNodeList[t].getComponent(cc.Sprite), "mapicon/ditu00_button")), n && n.mapId == p.default.instance.mapId && (this.mapItemNodeList[t].color = g.ColorConfig.YellowColor, this.txtMapNameList[t].node.color = g.ColorConfig.YellowColor)
                    }
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this)
                }, t = o([b], t)
            }(a.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ResourcesManager": "ResourcesManager",
        "../../engine/UIManager": "UIManager",
        "../config/ColorConfig": "ColorConfig",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FightModel": "FightModel",
        "../model/GuideModel": "GuideModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./GameManager": "GameManager"
    }],
    MonsterConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b4abaQd2a5D5KOO+oEkBGDc", "MonsterConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("./GameConst"),
            s = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.id = "1", t.elite_add = {
                        exp: 1e3,
                        hp: 1e3,
                        atk: 1e3,
                        def: 1e3
                    }, t.header_add = {
                        exp: 1e3,
                        hp: 1e3,
                        atk: 1e3,
                        def: 1e3
                    }, t.Commander_add = {
                        exp: 1e3,
                        hp: 1e3,
                        atk: 1e3,
                        def: 1e3
                    }, t.boss_add = {
                        exp: 1e3,
                        hp: 1e3,
                        atk: 1e3,
                        def: 1e3
                    }, t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.name = e.name, i.m_type = e.m_type, i.level = e.level, i.atk = e.atk, i.hp = e.hp, i.def = e.def, i.atDistance = e.atDistance, i.atSpeed = e.atSpeed, i.moveSpeed = e.moveSpeed, i.BonusDamage = e.BonusDamage, i.exp = e.exp, i.gold_prob = e.gold_prob, i.gold = e.gold, i.item_prob = e.item_prob, i.item = e.item, i.item_times = e.item_times / 1e4, i.equip_prob = e.equip_prob, i.equip = e.equip, i.equip_times = e.equip_times / 1e4, i.magic_find1 = e.magic_find1, i.elite_add = e.elite_add, i.header_add = e.header_add, i.Commander_add = e.Commander_add, i.boss_add = e.boss_add, i.lucky = e.lucky, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.id = i, t.configMap.set(i, n)
                    })
                }, t.getMonsterConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == parseInt(n) && (t = i)
                    }), t
                }, t.prototype.getAttack = function(e) {
                    void 0 === e && (e = a.GameConst.QUALITY.WHITE);
                    var t = this.atk;
                    return e == a.GameConst.QUALITY.GREEN ? t *= this.elite_add.atk / 1e3 : e == a.GameConst.QUALITY.BLUE ? t *= this.header_add.atk / 1e3 : e == a.GameConst.QUALITY.PURPLE ? t *= this.Commander_add.atk / 1e3 : e == a.GameConst.QUALITY.ORANGE && (t *= this.boss_add.atk / 1e3), t = Math.ceil(t)
                }, t.prototype.getHp = function(e) {
                    void 0 === e && (e = a.GameConst.QUALITY.WHITE);
                    var t = this.hp;
                    return e == a.GameConst.QUALITY.GREEN ? t *= this.elite_add.hp / 1e3 : e == a.GameConst.QUALITY.BLUE ? t *= this.header_add.hp / 1e3 : e == a.GameConst.QUALITY.PURPLE ? t *= this.Commander_add.hp / 1e3 : e == a.GameConst.QUALITY.ORANGE && (t *= this.boss_add.hp / 1e3), t = Math.ceil(t)
                }, t.prototype.getDef = function(e) {
                    void 0 === e && (e = a.GameConst.QUALITY.WHITE);
                    var t = this.def;
                    return e == a.GameConst.QUALITY.GREEN ? t *= this.elite_add.def / 1e3 : e == a.GameConst.QUALITY.BLUE ? t *= this.header_add.def / 1e3 : e == a.GameConst.QUALITY.PURPLE ? t *= this.Commander_add.def / 1e3 : e == a.GameConst.QUALITY.ORANGE && (t *= this.boss_add.def / 1e3), t = Math.ceil(t)
                }, t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.MonsterConfig = s, cc._RF.pop()
    }, {
        "./GameConst": "GameConst",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    MonsterManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f4a62BgSDZMfouSB2lVDF4L", "MonsterManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/EventManager"),
            o = e("../../engine/MathUtils"),
            a = e("../../engine/RandomUtil"),
            s = e("../config/GameConst"),
            r = e("../config/MapConfig"),
            l = e("../event/CommonEvent"),
            c = e("../../engine/DateUtil"),
            g = e("../../engine/ProtoUtils"),
            f = e("../../engine/ProtoConfig"),
            d = e("../prefab/GameManager"),
            h = e("../network/SocketClient"),
            u = function() {
                function e() {
                    this.isAlive = !1, this.firstRefreshMonsterTime = 3e3, this.nextRefreshMonsterTimeCount = 0, this.monsterRolePrefabList = [], this.killWhiteMonsterNum = 0, this.timeCount = 0
                }
                return e.prototype.init = function() {
                    n.EventManager.instance.off(l.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this), n.EventManager.instance.on(l.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this)
                }, e.prototype.onFrameUpdate = function() {
                    this.isAlive && (this.nextRefreshMonsterTimeCount > 0 && (c.default.now(), this.nextRefreshMonsterTimeCount), this.timeCount++, this.timeCount >= cc.game.getFrameRate() && (this.timeCount = 0, this.checkDeleteDeadMonster()))
                }, e.prototype.checkDeleteDeadMonster = function() {
                    for (var e = 0; e < this.monsterRolePrefabList.length; e++) {
                        var t = this.monsterRolePrefabList[e];
                        t && t.roleInfo && (t.isDead || t.getHp() <= 0) && h.default.kill_monster(t.roleInfo.monsterId + "", t.roleInfo.monsterConfig.id, t.roleInfo.quality, d.default.instance.gameView.myRolePrefab)
                    }
                }, e.prototype.enterMap = function(e) {
                    this.firstRefreshMonsterTime = 1000;
                    this.gameView = e, this.monsterRolePrefabList = [], this.hadRandomBoss = !1, this.nowBoss = null, r.MapConfig.curMapConfig.type == r.MapConfig.MAP_TYPE.City || (this.nextRefreshMonsterTimeCount = this.firstRefreshMonsterTime + c.default.now(), this.isAlive = !0, this.killWhiteMonsterNum = 0)
                }, e.prototype.leaveMap = function() {
                    clearTimeout(this.timeId), this.isAlive = !1, this.monsterRolePrefabList = []
                }, e.prototype.onServerRefresh = function(e) {
                    var t = g.ProtoUtils.DeserializeBinary(f.ProtoConfig.c_refresh_monster, e).getMonsterlistList();
                    this.checkInitMonster(t)
                }, e.prototype.checkInitMonster = function(e) {
                    var t = this;
                    if (this.gameView) {
                        for (var i = this.gameView.getEmptyGridList(), n = 0; n < e.length; n++)
                            if (i.length > 0) {
                                var o = e[n].getMonstertype(),
                                    s = e[n].getMonsterid();
                                if (this.canAddMonster(s)) {
                                    var r = e[n].getQuality(),
                                        l = e[n].getIsboss(),
                                        c = a.default.nextInt(0, i.length - 1),
                                        g = i[c];
                                    i.splice(c, 1), l ? this.addBoss(g, s, o) : this.randomOneMonster(s, o, r, g)
                                }
                            }
                    } else
                        setTimeout(function() {
                            t.checkInitMonster(e)
                        }, 1e3)
                }, e.prototype.randomMonster = function() {}, e.prototype.addBoss = function(e, t, i) {
                    this.hadRandomBoss = !0;
                    var n = this.gameView.addMonster(t, i, s.GameConst.QUALITY.ORANGE, e, !0);
                    this.nowBoss = n, this.monsterRolePrefabList.push(n), this.gameView.initBoss()
                }, e.prototype.randomOneMonster = function(e, t, i, n) {
                    var o = this.gameView.addMonster(e, t, i, n, !1);
                    this.monsterRolePrefabList.push(o)
                }, e.prototype.getNearlyMonster = function(e) {
                    for (var t, i = Number.MAX_VALUE, n = 0; n < this.monsterRolePrefabList.length; n++) {
                        var a = this.monsterRolePrefabList[n];
                        if (!a.isDead)
                            o.default.distance(e.gridRow, e.gridCol, a.gridRow, a.gridCol) <= i && (t = a)
                    }
                    return t
                }, e.prototype.getAttackMonsterList = function(e, t, i, n, a) {
                    void 0 === a && (a = null);
                    var s = [];
                    this.monsterRolePrefabList.sort(function(e, t) {
                        return e.roleInfo && t.roleInfo ? e.roleInfo.quality - t.roleInfo.quality : 0
                    }), this.monsterRolePrefabList.reverse();
                    for (var r = 0; r < this.monsterRolePrefabList.length; r++) {
                        var l = this.monsterRolePrefabList[r];
                        if (!l.isDead) {
                            var c = Math.abs(l.gridRow - i),
                                g = Math.abs(l.gridCol - n);
                            c <= e && g <= e && l != a && s.push(l)
                        }
                    }
                    return s.sort(function(e, t) {
                        return Math.floor(o.default.distance(e.gridRow, e.gridCol, i, n)) - Math.floor(o.default.distance(t.gridRow, t.gridCol, i, n))
                    }), s.length > t ? s.splice(0, t) : s
                }, e.prototype.gotoDead = function(e) {
                    for (var t = this.monsterRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.monsterRolePrefabList[t];
                        if (e.gridRow == i.gridRow && e.gridCol == i.gridCol) {
                            this.monsterRolePrefabList.splice(t, 1), e.roleInfo.quality == s.GameConst.QUALITY.WHITE && this.killWhiteMonsterNum++, e.roleInfo.isBoss && (this.hadRandomBoss = !1, this.nowBoss = null);
                            break
                        }
                    }
                    1 == this.monsterRolePrefabList.length && this.nowBoss ? (this.nextRefreshMonsterTimeCount, c.default.now(), cc.game.getFrameRate()) : this.monsterRolePrefabList.length <= 0 && (this.nextRefreshMonsterTimeCount, c.default.now(), cc.game.getFrameRate())
                }, e.prototype.canAddMonster = function(e) {
                    for (var t = this.monsterRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.monsterRolePrefabList[t];
                        if (i && i.roleInfo && i.roleInfo.monsterId == e)
                            return !1
                    }
                    return !0
                }, e.prototype.onServerKillMonster = function(e) {
                    for (var t = this.monsterRolePrefabList.length - 1; t >= 0; t--) {
                        var i = this.monsterRolePrefabList[t];
                        if (i && i.roleInfo && i.roleInfo.monsterId == e) {
                            this.monsterRolePrefabList.splice(t, 1), d.default.instance.gameView.killMonster(i);
                            break
                        }
                    }
                }, e.prototype.destroy = function() {
                    n.EventManager.instance.clear(this)
                }, e.instance = new e, e
            }();
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/MathUtils": "MathUtils",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/RandomUtil": "RandomUtil",
        "../config/GameConst": "GameConst",
        "../config/MapConfig": "MapConfig",
        "../event/CommonEvent": "CommonEvent",
        "../network/SocketClient": "SocketClient",
        "../prefab/GameManager": "GameManager"
    }],
    MsginfoView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "44b9aXOBI1Kq5pe4nSNFAz5", "MsginfoView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/MapConfig"),
            r = e("../model/RoleInfoModel"),
            l = e("../config/MonsterConfig"),
            c = e("../config/ColorConfig"),
            g = e("../../engine/Logger"),
            f = e("../model/MapStatisticsModel"),
            d = e("../../engine/EventManager"),
            h = e("../event/CommonEvent"),
            u = e("../model/ServerTime"),
            p = cc._decorator,
            m = p.ccclass,
            C = (p.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.infoType = e
                }, t.prototype.onShow = function() {
                    d.EventManager.instance.on(h.CommonEvent.Event_MapStatistic, this.refreshInfo, this), this.infoNode = this.findChild(this.node, "view/panel/info"), this.mapNode = this.findChild(this.node, "view/panel/map"), this.infoNode.active = !1, this.mapNode.active = !1;
                    var e = this.infoNode.getChildByName("val"),
                        t = this.infoNode.getChildByName("val2");
                    this.val = [], this.val2 = [];
                    for (var i = 0; i < 6; i++)
                        this.val.push(e.getChildByName("" + (i + 1)).getComponent(cc.Label)), this.val2.push(t.getChildByName("" + (i + 1)).getComponent(cc.Label));
                    0 == this.infoType ? this.refreshInfo() : this.refreshMap()
                }, t.prototype.onHide = function() {}, t.prototype.refreshInfo = function() {
                    if (0 == this.infoType) {
                        this.infoNode.active = !0, this.val[0].string = f.default.instance.exp + "", this.val[1].string = f.default.instance.killWhiteMonsterNum + "", this.val[2].string = f.default.instance.killGreenMonsteNum + "", this.val[3].string = f.default.instance.killBlueMonsterNum + "", this.val[4].string = f.default.instance.killPurpleMonsterNum + "", this.val[5].string = f.default.instance.killBossMonsterNum + "";
                        var e = (u.ServerTime.getServerTime() - f.default.instance.enterMapTime) / 1e3,
                            t = Math.floor(f.default.instance.exp / e);
                        t >= 5e3 && g.Logger.warn("\u521d\u6b65\u5224\u65ad\u4e0d\u5408\u7406\u5f00\u6302==="), this.val2[0].string = t + "/\u79d2", this.val2[1].string = f.default.instance.equipWhiteNum + "", this.val2[2].string = f.default.instance.equipGreenNum + "", this.val2[3].string = f.default.instance.equipBlueNum + "", this.val2[4].string = f.default.instance.equipPurpleNum + "", this.val2[5].string = f.default.instance.equipYellowNum + ""
                    }
                }, t.prototype.refreshMap = function() {
                    if (1 == this.infoType) {
                        this.mapNode.active = !0;
                        var e = this.findChild(this.mapNode, "prop_1/item"),
                            t = this.findChild(this.mapNode, "prop_2/item"),
                            i = this.findChild(this.mapNode, "defNum"),
                            n = this.findChild(this.mapNode, "staNum");
                        e.active = !1, t.active = !1;
                        var o = s.MapConfig.getMapConfigByMapId(r.default.instance.mapId);
                        if (i.getComponent(cc.Label).string = "" + o.t_def, n.getComponent(cc.Label).string = "" + o.t_db, parseInt(i.getComponent(cc.Label).string) <= r.default.instance.getDefend() ? i.color = c.ColorConfig.GreenColor : i.color = c.ColorConfig.RedColor, parseInt(n.getComponent(cc.Label).string) <= r.default.instance.getGuDingJianShang() ? n.color = c.ColorConfig.GreenColor : n.color = c.ColorConfig.RedColor, o.type == s.MapConfig.MAP_TYPE.City)
                            return e.getComponent(cc.Label).string = "\u65e0", t.getComponent(cc.Label).string = "\u65e0", e.active = !0, void (t.active = !0);
                        for (var a = 0; a < o.monsterArray.length; a++) {
                            var g = o.monsterArray[a],
                                f = l.MonsterConfig.getMonsterConfigById(g),
                                d = cc.instantiate(e);
                            d.parent = e.parent, d.active = !0, d.getComponent(cc.Label).string = f.name + "(" + f.level + " \u7ea7)"
                        }
                        for (var h = 0; h < o.drop_info.length; h++) {
                            var u = cc.instantiate(t);
                            u.parent = t.parent, u.active = !0, u.color = c.ColorConfig.hexToColor(o.drop_info[h].color), u.getComponent(cc.Label).string = o.drop_info[h].name
                        }
                    }
                }, t = o([m], t)
            }(a.default));
        i.default = C, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/MapConfig": "MapConfig",
        "../config/MonsterConfig": "MonsterConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/MapStatisticsModel": "MapStatisticsModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ServerTime": "ServerTime"
    }],
    MusicConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "92bd7+gyX5Lb7UY0dTXPAP1", "MusicConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.musicKey2Path = (new Map).set("bgm", "audio/bgm").set("attack", "audio/attack").set("click", "audio/button").set("dsjn_1", "audio/dsjn_1").set("dsjn_3", "audio/dsjn_3").set("dsjn_4", "audio/dsjn_4").set("dsjn_5", "audio/dsjn_5").set("dsjn_7", "audio/dsjn_7").set("dsjn_13", "audio/dsjn_13").set("fsjn_1", "audio/fsjn_1").set("fsjn_6", "audio/fsjn_6").set("fsjn_9", "audio/fsjn_9").set("fsjn_11", "audio/fsjn_11").set("fsjn_13", "audio/fsjn_13").set("lvup", "audio/lvup").set("zsjn_3", "audio/zsjn_3").set("zsjn_4", "audio/zsjn_4").set("zsjn_5", "audio/zsjn_5").set("zsjn_6", "audio/zsjn_6"), e.musicKey2Cache = new Map, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    MusicHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3b988T/cE5D77+uP9P2f2ct", "MusicHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/SoundPrefab"),
            o = e("../prefab/GameManager"),
            a = function() {
                function e() {}
                return e.play_bg = function() {}, e.play_click = function() {
                    n.default.play("click")
                }, e.play_attack = function() {
                    o.default.instance.isInFightView() && n.default.play("attack")
                }, e.play_lvup = function() {
                    n.default.play("lvup")
                }, e.play_ZhiLiao = function() {
                    o.default.instance.isInFightView() && n.default.play("dsjn_1")
                }, e.play_ShiDu = function() {
                    o.default.instance.isInFightView() && n.default.play("dsjn_3")
                }, e.play_LingHunHuoFu = function() {
                    o.default.instance.isInFightView() && n.default.play("dsjn_4")
                }, e.play_call = function() {
                    o.default.instance.isInFightView() && n.default.play("dsjn_5")
                }, e.play_shenshengzhanjia = function() {
                    o.default.instance.isInFightView() && n.default.play("dsjn_7")
                }, e.play_huoqiushu = function() {
                    o.default.instance.isInFightView() && n.default.play("fsjn_1")
                }, e.play_leidianshu = function() {
                    o.default.instance.isInFightView() && n.default.play("fsjn_6")
                }, e.play_huoqiang = function() {
                    o.default.instance.isInFightView() && n.default.play("fsjn_9")
                }, e.play_mofadun = function() {
                    o.default.instance.isInFightView() && n.default.play("fsjn_11")
                }, e.play_bingpaoxiao = function() {
                    o.default.instance.isInFightView() && n.default.play("fsjn_13")
                }, e.play_cishajianshu = function() {
                    o.default.instance.isInFightView() && n.default.play("zsjn_3")
                }, e.play_banyuewandao = function() {
                    o.default.instance.isInFightView() && n.default.play("zsjn_4")
                }, e.play_yemanchongzhuang = function() {
                    o.default.instance.isInFightView() && n.default.play("zsjn_5")
                }, e.play_liehuojianfa = function() {
                    o.default.instance.isInFightView() && n.default.play("zsjn_6")
                }, e
            }();
        i.MusicHelper = a, cc._RF.pop()
    }, {
        "../../engine/SoundPrefab": "SoundPrefab",
        "../prefab/GameManager": "GameManager"
    }],
    MusicPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e947e8HuVhEcbWl8KzX4pnS", "MusicPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../game/config/MusicConfig"),
            s = e("./Logger"),
            r = e("./LocalStorage"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                var i;
                return n(t, e), i = t, t.play = function(e) {
                    var t = this,
                        i = a.default.musicKey2Path.get(e);
                    i ? cc.loader.loadRes(i, cc.AudioClip, function(e, i) {
                        e ? s.Logger.warn(t, "load music error===", e.message) : i && (t.instance.node.getComponent(cc.AudioSource).clip = i, t.instance.node.getComponent(cc.AudioSource).volume = t.musicVolumn, t.instance.node.getComponent(cc.AudioSource).play(), t.instance.node.getComponent(cc.AudioSource).loop = !0)
                    }) : s.Logger.warn(this, "\u64ad\u653e\u4e0d\u5b58\u5728\u7684music=", e)
                }, t.changeVolumn = function(e) {
                    this.musicVolumn = e, this.instance.node.getComponent(cc.AudioSource).volume = e, r.default.setItem(i.MUSIC_VOLUMN_KEY, this.musicVolumn.toString())
                }, t.preInit = function() {
                    this.musicVolumn = parseFloat(r.default.getItem(i.MUSIC_VOLUMN_KEY)), isNaN(this.musicVolumn) && (this.musicVolumn = 1)
                }, t.preLoad = function() {
                    var e = this;
                    return new Promise(function(t, n) {
                        cc.loader.loadRes("share/uicomponent/MusicPrefab", function(n, o) {
                            n ? s.Logger.warn(e, "\u8f7d\u5165Prefab\u5931\u8d25, \u539f\u56e0:", n.message) : o instanceof cc.Prefab ? (i.instance = cc.instantiate(o).getComponent(i), e.preInit(), t()) : s.Logger.warn(e, "\u4f60\u8f7d\u5165\u7684\u4e0d\u662fPrefab, \u4f60\u505a\u4e86\u4ec0\u4e48\u4e8b?")
                        })
                    })
                }, t.destory = function() {
                    i.instance && (i.instance.getComponent(cc.AudioSource).stop(), i.instance.destroy()), i.instance = null
                }, t.MUSIC_VOLUMN_KEY = "musicVolumn", t.musicVolumn = 1, t = i = o([c], t)
            }(cc.Component));
        i.default = g, cc._RF.pop()
    }, {
        "../game/config/MusicConfig": "MusicConfig",
        "./LocalStorage": "LocalStorage",
        "./Logger": "Logger"
    }],
    NameConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a308cTFX6NDCoPRWLn+6bUu", "NameConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../../engine/RandomUtil"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.getRandomUserName = function() {
                    return a.default.randomItem(this.nameList)
                }, t.nameList = ["\u7e41\u534e\u4e36\u5982\u68a6", "\u6211\u662f\u6d41\u6c13\u6211\u6015\u8c01", "\u552f\u6211\u72ec\u5c0a", "\u59d2\u9ece\u222e", "\u96e8\u987f\u4e36\u60c5\u6ede", "\u7275\u7740\u8682\u8681\u53bb\u6563\u6b65", "\u8981\u8d70\u5c31\u6eda\u522b\u58a8\u8ff9", "\u6f2b\u590f\u5f25\u7559", "cherryblossoms\u6a31", "\u723a\u30bd\u7368\u9738\u59b3\u561a\u6eab\u67d4", "\u56da\u6211\u5fc3\u8650\u6211\u8eab", "\u70df\u9501\u91cd\u697c", "\u8166\u6b98\u9178\u83dc\u9762", "\u6b7b\u5149\u9886\u4e3b\u5361\u675c", "\u5b89\u67d3\u5fae\u51c9", "\u518d\u8d31\u5c31\u518d\u89c1", "\u65e0\u5948\u706c\u7684\u5bc2\u5be5", "\u5b50\u5f1f\u7684\u5316\u8eab", "\u5343\u4e09\u5317\u56db", "\u4ec5\u6709\u5957\u8def\u5f97\u4eba\u5fc3", "\u6211\u4e5f\u968f\u7f18\u4e36", "\u75f4\u4eba\u75f4\u5fc3\u7ec8\u662f\u4e00\u573a\u68a6", "\u4f20\u7edf\u7684\u957f\u76f8", "\u5b88\u5019\u7684\u88c2\u75d5", "\u96c4\u9738\u5929\u4e0b", "\u5931\u604b\u7684\u611f\u89c9", "\u776b\u6bdb\u88ab\u6cea\u6c34\u6253\u6e7f\u4e86", "\u5927\u4e49\u672c\u5fc3", "\u62a0\u811a\u5927\u6c49", "\u68a6\u5948\u4f55", "\u7687\u65cf\u541b\u4e34\u5929\u4e0b", "\u5de6\u5fc3\u623f\u7684\u98ce\u666f", "\u628a\u4f60\u85cf\u5fc3\u91cc", "\u96e8\u591c\u542c\u79e6\u8154", "\u30ea\u4e36\u4e36\u706c\u5c1b\u574f\u574f\uff02", "\u76f8\u6fe1\u4ee5\u6cab", "\u4f60\u662f\u6211\u7684\u5c0f\u592a\u9633", "\u6709\u4f60\u68a6\u90fd\u751c", "\u70df\u7ed5\u6307\u67d4", "\u4ec5\u4e3a\u7ea2\u989c\u9189", "\u8840\u846c\u5f61\u754c", "\u5fc3\u82e5\u6b7b\u4f55\u4ee5\u5b58", "\u65cb\u6740\u8282\u594f", "\u7d20\u989c\u9a6c\u5c3e\u5e06\u5e03\u978bi", "\u6697\u591c\u4e36\u672a\u592e", "Sadness\u65e0\u5fc3\u7684\u4eba", "\u968f\u57d8\u311f\u7275\u4f60\u63b1", "\u611f\u60c5\u7ecf\u4e0d\u8d77\u5e73\u6de1", "\u90a3\u8c01\u4e36\u7ed9\u59d0\u7ad9\u4f4f", "\u7ed9\u6211\u4f60\u7684\u68a6", "\u7ed9\u5425\u8d77\u7684\u6740", "\u6218\u72fc\u6f14\u7ece", "\u96ea\u98d8\u513f", "\u968f\u610f\u4ee3\u66ff", "\u62b9\u53bb\u6700\u7ec8\u4e00\u4e1d\u81ea\u5c0a", "\u4e91\u6d77\u5929", "\u522b\u8bf4\u4e4b\u540e", "\u96e8\u4e36\u541b\u4e34", "\u60c5\u5230\u6df1\u5904\u817f\u5f20\u5f00", "\u4e92\u64b8\u5a03", "\u6708\u843d\u8a69\u65e0\u75d5", "\u7ea2\u989c\u8bf1\u4eba\u9189", "\u6211\u7231\u4f60\u7684\u594b\u4e0d\u987e\u8eab", "\u82b1\u96e8\u9eef", "\u5996\u6708\u7a7a", "\u2121\u7368\u5fd2\u309b\u4e56\u4e56", "\u9038\u7199", "\u6b7b\u5492", "\u5929\u7384\u5e42\u5e42", "\u5bd2\u96e8\u5f11", "\u540e\u5bab\u5931\u5904", "\u5251\u5578\u6613\u6c34\u5bd2", "\u4e3a\u4f60\u6211\u4e2d\u4e86\u76f8\u601d\u75c5", "yi\u2640\u4e2a\u4eba\u7559\u604b\u25a1", "\u4e45\u7740\u4e45\u7740\u5c31\u65e7\u4e86", "\u6e38\u8d70\u98ce\u5c18", "\u6df1\u547c\u5438Deepbreaths", "\u6697\u591c\u5760\u971c", "\u542c\u4e0d\u5230\u7684\u627f\u8bfa", "\u9065\u8fdc\u4e86\u6e05\u6670\u7684\u7231", "\u8be5\u7f51\u540d\u5df2\u88ab\u5220\u9664", "\u968f\u98ce\u3003\u98de\u626c", "\u8d31\u51fa\u98ce\u683c\u8d31\u51fa\u6c34\u5e73", "\u516d\u5929\u4e4b\u754c", "\u6b7b\u4ea1\u03b6\u79bb\u9b42", "\u6708\u591c\u6697\u9762", "\u9704\xb7\u9b42\u6218\u56e2", "\u751f\u6b7b\u4e3f\u770b\u6de1", "\u8bc9\u8bf4\u6cb5\u65f3\u7f99", "\u968f\u7f18\u5c18\u4e16", "\u6708\u4e0b\u5b88\u591c\u4eba", "\u5b89\u82e5\u51b7\u516e", "\u25c6\u5931\u5fc3\u8650", "\u8fb0\u4e34\u5929", "\u5915\u989c\u3024", "\u53fc\u7740\u5976\u5634\u7684\u5b69\u5b50", "\u7231\u4e0e\u4f60\u540c\u5728", "\u4e00\u6735\u601d\u5ff5\u82b1\u3005", "\u7231\u60c5\u624d\u662f\u5962\u4f88\u54c1", "\u6545\u4eba\u7b11\u8d60", "\u6c61\u754c\u625b\u628a\u5b50", "\u968f\u68a6\u800c\u98de", "\u541b\u5b50\u5766\u86cb\u86cb", "\u8d31\u51fa\u9798\u6069\u6028\u4e86", "\u4e11\u4eba\u591a\u4f5c\u602a", "\u8ba9\u5bc2\u5bde\u522b\u8d70", "\u5b87\u5b99\u65e0\u654c\u5927\u5e05\u903c", "\u6bc1\u6211\u4e16\u754c\u706d\u4f60\u5929\u5802", "\u6728\u8033\u6536\u5272\u673a", "\u6b7b\u795e\u7684\u6c89\u9ed8", "\u98ce\u94c3\u5572\u627f\u8bfa", "\u53e4\u8463", "\u53e4\u624b\u68a8\u82b1", "\u62a2\u6211\u8fa3\u6761\u4f60\u522b\u8dd1", "\u7d20\u989c\u6613\u6cef", "\u4e00\u5200\u4e4b\u75a4", "\u6700\u7ec8\u4e00\u6b21\u5251\u96ea", "\u7a7a\u5618\u516c\u5b50", "\u5144\u5f1f\u4e0d\u54ed\u7ad9\u8d77\u6765\u64b8"], t
            }(o.JsonConfigBase);
        i.NameConfig = s, cc._RF.pop()
    }, {
        "../../engine/RandomUtil": "RandomUtil",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    NameHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "15a3diPC/JMvoUQrPsz9X6G", "NameHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = new Array("\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851", "\u51cc\u9704", "\u6697\u5f71", "\u5e7b\u5f71", "\u68a6\u5e7b", "\u4fee\u7f57", "\u8d85\u795e", "\u70bc\u72f1", "\u865a\u7a7a", "\u8fc5\u5f71", "\u51cc\u7a7a", "\u6050\u60e7", "\u6076\u9b54", "\u5b64\u5355", "\u51cc\u4e91", "\u795e\u57df", "\u5929\u9b54", "\u6218\u795e", "\u8840\u9b54", "\u884c\u5929", "\u9f50\u5929", "\u72c2\u66b4", "\u4e7e\u5764", "\u53f1\u54a4", "\u593a\u547d", "\u65e0\u6094", "\u964d\u9f99", "\u795e\u7ffc", "\u98de\u5929", "\u8fc5\u6377", "\u82cd\u832b", "\u5fe7\u90c1", "\u5fe7\u4f24", "\u9189\u68a6", "\u5b8c\u989c", "\u6155\u5bb9", "\u4e0a\u5b98", "\u9f99\u98de", "\u51e4\u821e", "\u6b27\u9633", "\u7aef\u6728", "\u5b87\u6587", "\u5357\u5bab", "\u8f69\u8f95", "\u72ec\u5b64", "\u5c09\u8fdf", "\u53f8\u5f92", "\u53f8\u7a7a", "\u4f4e\u8c03", "\u6674\u5929", "\u5bc2\u5bde", "\u8ff7\u832b", "\u6ca7\u6851"),
            o = new Array("\u5b9d\u6e05", "\u51b0\u4e4b", "\u5999\u68a6", "\u4ee5\u51ac", "\u78a7\u6625", "\u66fc\u9752", "\u51b7\u83f1", "\u96ea\u66fc", "\u5b89\u767d", "\u9999\u6843", "\u5b89\u6625", "\u5343\u4ea6", "\u51cc\u8776", "\u53c8\u590f", "\u5357\u70df", "\u9756\u6613", "\u6c9b\u51dd", "\u7fe0\u6885", "\u4e66\u6587", "\u96ea\u5349", "\u4e50\u513f", "\u50b2\u4e1d", "\u5b89\u9752", "\u521d\u8776", "\u5bc4\u7075", "\u60dc\u5bd2", "\u96e8\u7af9", "\u51ac\u83b2", "\u7eee\u5357", "\u7fe0\u67cf", "\u5e73\u51e1", "\u4ea6\u7389", "\u5b64\u5170", "\u79cb\u73ca", "\u65b0\u7b60", "\u534a\u82b9", "\u590f\u7476", "\u5ff5\u6587", "\u6653\u4e1d", "\u6db5\u857e", "\u96c1\u51e1", "\u8c37\u5170", "\u7075\u51e1", "\u51dd\u4e91", "\u66fc\u4e91", "\u4e39\u5f64", "\u5357\u971c", "\u591c\u68a6", "\u4ece\u7b60", "\u96c1\u8299", "\u8bed\u8776", "\u4f9d\u6ce2", "\u6653\u65cb", "\u5ff5\u4e4b", "\u76fc\u8299", "\u66fc\u5b89", "\u91c7\u73ca", "\u76fc\u590f", "\u521d\u67f3", "\u8fce\u5929", "\u5357\u73cd", "\u5999\u8299", "\u8bed\u67f3", "\u542b\u83b2", "\u6653\u7b60", "\u590f\u5c71", "\u5c14\u5bb9", "\u91c7\u6625", "\u5ff5\u68a6", "\u50b2\u5357", "\u95ee\u8587", "\u96e8\u7075", "\u51dd\u5b89", "\u51b0\u6d77", "\u521d\u73cd", "\u5b9b\u83e1", "\u51ac\u5349", "\u76fc\u6674", "\u51b7\u8377", "\u5bc4\u7fe0", "\u5e7b\u6885", "\u5982\u51e1", "\u8bed\u68a6", "\u6613\u68a6", "\u5343\u67d4", "\u5411\u9732", "\u68a6\u7389", "\u50b2\u971c", "\u4f9d\u971c", "\u7075\u677e", "\u8bd7\u6843", "\u4e66\u8776", "\u51b0\u8776", "\u4ee5\u6674", "\u53cb\u6613", "\u68a6\u6843", "\u9999\u83f1", "\u5b64\u4e91", "\u6c34\u84c9", "\u96c5\u5bb9", "\u98de\u70df", "\u96c1\u8377", "\u4ee3\u8299", "\u9189\u6613", "\u590f\u70df", "\u5c71\u6885", "\u82e5\u5357", "\u6068\u6843", "\u4f9d\u79cb", "\u9999\u5de7", "\u7d2b\u8431", "\u6db5\u6613", "\u5fc6\u4e4b", "\u5e7b\u5de7", "\u6c34\u98ce", "\u5b89\u5bd2", "\u767d\u4ea6", "\u60dc\u7389", "\u601c\u96ea", "\u542c\u5357", "\u5ff5\u857e", "\u68a6\u7af9", "\u5343\u51e1", "\u5bc4\u7434", "\u91c7\u6ce2", "\u5143\u51ac", "\u601d\u83f1", "\u5e73\u5349", "\u7b11\u67f3", "\u5357\u84c9", "\u8c37\u68a6", "\u5de7\u5170", "\u7eff\u8776", "\u98de\u8377", "\u5e73\u5b89", "\u5b64\u6674", "\u82b7\u8377", "\u66fc\u51ac", "\u5bfb\u5de7", "\u5bc4\u6ce2", "\u4ee5\u65cb", "\u7eff\u854a", "\u521d\u590f", "\u4f9d\u4e1d", "\u601c\u5357", "\u5343\u5c71", "\u96e8\u5b89", "\u5bc4\u67d4", "\u5ff5\u5de7", "\u5e7c\u67ab", "\u51e1\u6843", "\u65b0\u513f", "\u6625\u7fe0", "\u590f\u6ce2", "\u96e8\u7434", "\u9759\u69d0", "\u98de\u8587", "\u5c0f\u51dd", "\u6620\u5bd2", "\u50b2\u83e1", "\u8c37\u854a", "\u7b11\u69d0", "\u98de\u5170", "\u7b11\u5349", "\u8fce\u8377", "\u4e66\u7af9", "\u534a\u70df", "\u7eee\u6ce2", "\u5c0f\u4e4b", "\u89c5\u9732", "\u591c\u96ea", "\u6625\u67d4", "\u5bd2\u68a6", "\u5c14\u98ce", "\u767d\u6885", "\u96e8\u65cb", "\u82b7\u73ca", "\u5c71\u5f64", "\u5c14\u67f3", "\u6c9b\u67d4", "\u7075\u8431", "\u767d\u5bb9", "\u4e50\u84c9", "\u6620\u5b89", "\u4f9d\u4e91", "\u6620\u51ac", "\u51e1\u96c1", "\u68a6\u79cb", "\u9189\u67f3", "\u68a6\u51e1", "\u79cb\u5de7", "\u82e5\u4e91", "\u5143\u5bb9", "\u6000\u857e", "\u7075\u5bd2", "\u5929\u8587", "\u767d\u98ce", "\u8bbf\u6ce2", "\u4ea6\u51dd", "\u6613\u7eff", "\u591c\u5357", "\u66fc\u51e1", "\u4ea6\u5de7", "\u9752\u6613", "\u767d\u8431", "\u53cb\u5b89", "\u8bd7\u7fe0", "\u96ea\u73cd", "\u6d77\u4e4b", "\u5c0f\u854a", "\u53c8\u7434", "\u9999\u5f64", "\u60dc\u854a", "\u8fce\u5f64", "\u6c9b\u767d", "\u96c1\u5c71", "\u6613\u84c9", "\u96ea\u6674", "\u8d77\u540d", "\u8bd7\u73ca", "\u6625\u51ac", "\u53c8\u7eff", "\u51b0\u7eff", "\u534a\u6885", "\u7b11\u5bb9", "\u5ff5\u771f", "\u542b\u5de7", "\u5982\u51ac", "\u5411\u771f", "\u4ece\u84c9", "\u4ea6\u4e91", "\u5411\u96c1", "\u5c14\u8776", "\u51ac\u6613", "\u4e39\u4ea6", "\u9189\u9999", "\u5b64\u83f1", "\u5b89\u83b2", "\u95ee\u51dd", "\u51ac\u8431", "\u6653\u5c71", "\u96c1\u84c9", "\u68a6\u854a", "\u5c71\u83e1", "\u5357\u83b2", "\u98de\u53cc", "\u51dd\u4e1d", "\u601d\u8431", "\u6000\u68a6", "\u96e8\u6885", "\u51b7\u971c", "\u5411\u677e", "\u8fce\u4e1d", "\u8fce\u6885", "\u542c\u53cc", "\u5c71\u8776", "\u591c\u6885", "\u9189\u51ac", "\u5de7\u4e91", "\u96e8\u7b60", "\u5e73\u6587", "\u9752\u6587", "\u534a\u857e", "\u5e7c\u83f1", "\u5bfb\u6885", "\u542b\u4e4b", "\u9999\u4e4b", "\u542b\u854a", "\u9756\u8377", "\u78a7\u8431", "\u5bd2\u4e91", "\u5411\u5357", "\u4e66\u96c1", "\u6000\u8587", "\u5fc6\u6587", "\u7fe0\u5de7", "\u6000\u5c71", "\u82e5\u5c71", "\u5411\u79cb", "\u51e1\u767d", "\u7eee\u70df", "\u4ece\u857e", "\u5929\u66fc", "\u53c8\u4ea6", "\u4f9d\u7434", "\u66fc\u5f64", "\u6c9b\u69d0", "\u53c8\u69d0", "\u5143\u7eff", "\u96c5\u7389", "\u7b71\u679a", "\u7433", "\u6cfd\u96ef", "\u96c5\u7af9", "\u84d3", "\u4f73\u5b9d", "\u65e6\u6735", "\u5f69\u8fde", "\u4ea6\u83f2", "\u4f0a\u83f2", "\u6b23\u96e8", "\u6b23\u7389", "\u6e6b", "\u7f57\u5a09", "\u6c49\u59a4", "\u6069\u60e0", "\u96e8\u79cb", "\u6c76\u598d", "\u4f9d\u4f9d", "\u7389\u73b2", "\u96e8\u6674", "\u96ea\u6656", "\u6d01", "\u4f73\u6da6", "\u67ef\u60e0", "\u4f73\u6167", "\u56e1", "\u59d7\u9713", "\u7bac\u598d", "\u601d\u9f50", "\u68a6\u742a", "\u5fc6\u67f3", "\u4e4b\u6843", "\u6155\u9752", "\u95ee\u5170", "\u5c14\u5c9a", "\u5143\u9999", "\u6c9b\u83e1", "\u50b2\u73ca", "\u66fc\u6587", "\u4e50\u83f1", "\u75f4\u73ca", "\u6068\u7389", "\u60dc\u6587", "\u9999\u5bd2", "\u65b0\u67d4", "\u8bed\u84c9", "\u6d77\u5b89", "\u591c\u84c9", "\u6db5\u67cf", "\u6c34\u6843", "\u9189\u84dd", "\u6625\u513f", "\u8bed\u7434", "\u4ece\u5f64", "\u50b2\u6674", "\u8bed\u5170", "\u53c8\u83f1", "\u78a7\u5f64", "\u5143\u971c", "\u601c\u68a6", "\u7d2b\u5bd2", "\u5999\u5f64", "\u66fc\u6613", "\u7d2b\u7fe0", "\u96e8\u5bd2", "\u6613\u70df", "\u5982\u8431", "\u5bfb\u771f", "\u6653\u4ea6", "\u5411\u73ca", "\u6155\u7075", "\u4ee5\u854a", "\u5bfb\u96c1", "\u6620\u6613", "\u96ea\u67f3", "\u5b64\u5c9a", "\u7b11\u971c", "\u6d77\u4e91", "\u51dd\u5929", "\u6c9b\u73ca", "\u51b0\u65cb", "\u5b9b\u513f", "\u7eff\u771f", "\u76fc\u513f", "\u6653\u971c", "\u78a7\u51e1", "\u590f\u83e1", "\u66fc\u9999", "\u82e5\u70df", "\u534a\u68a6", "\u96c5\u7eff", "\u51b0\u84dd", "\u7075\u69d0", "\u4e66\u7fe0", "\u7fe0\u98ce", "\u4ee3\u4e91", "\u68a6\u66fc", "\u5e7c\u7fe0", "\u53cb\u5de7", "\u542c\u5bd2", "\u68a6\u67cf", "\u8bbf\u65cb", "\u51cc\u8431", "\u8bbf\u5349", "\u6000\u4ea6", "\u7b11\u84dd", "\u9756\u67cf", "\u591c\u857e", "\u51b0\u590f", "\u68a6\u677e", "\u4e66\u96ea", "\u4e50\u67ab", "\u5ff5\u8587", "\u9756\u96c1", "\u5bfb\u6625", "\u4ece\u5bd2", "\u5fc6\u9999", "\u89c5\u6ce2", "\u9759\u66fc", "\u51e1\u65cb", "\u4ee5\u4ea6", "\u5ff5\u9732", "\u82b7\u857e", "\u5343\u5170", "\u65b0\u6ce2", "\u4ee3\u771f", "\u65b0\u857e", "\u96c1\u7389", "\u51b7\u5349", "\u7d2b\u5c71", "\u5343\u7434", "\u50b2\u8299", "\u76fc\u5c71", "\u6000\u8776", "\u51b0\u5170", "\u5c71\u67cf", "\u7fe0\u8431", "\u6068\u677e", "\u95ee\u65cb", "\u4ece\u5357", "\u767d\u6613", "\u95ee\u7b60", "\u5982\u971c", "\u4e39\u73cd", "\u51b0\u5f64", "\u4ea6\u5bd2", "\u5bd2\u96c1", "\u601c\u4e91", "\u5bfb\u6587", "\u4e50\u4e39", "\u7fe0\u67d4", "\u8c37\u5c71", "\u4e4b\u7476", "\u51b0\u9732", "\u5c14\u73cd", "\u8c37\u96ea", "\u4e50\u8431", "\u6db5\u83e1", "\u6d77\u83b2", "\u50b2\u857e", "\u9752\u69d0", "\u51ac\u513f", "\u60dc\u96ea", "\u5b9b\u6d77", "\u4e4b\u67d4", "\u590f\u9752", "\u4ea6\u7476", "\u5999\u83e1", "\u6625\u7af9", "\u75f4\u68a6", "\u7d2b\u84dd", "\u6653\u5de7", "\u5e7b\u67cf", "\u5143\u98ce", "\u51b0\u67ab", "\u8bbf\u854a", "\u5357\u6625", "\u82b7\u854a", "\u51e1\u857e", "\u51e1\u67d4", "\u5b89\u857e", "\u5929\u8377", "\u542b\u7389", "\u4e66\u5170", "\u96c5\u7434", "\u4e66\u7476", "\u6625\u96c1", "\u4ece\u5b89", "\u590f\u69d0", "\u5ff5\u82b9", "\u6000\u840d", "\u4ee3\u66fc", "\u5e7b\u73ca", "\u8c37\u4e1d", "\u79cb\u7fe0", "\u767d\u6674", "\u6d77\u9732", "\u4ee3\u8377", "\u4e66\u857e", "\u542c\u767d", "\u8bbf\u7434", "\u7075\u96c1", "\u79cb\u6625", "\u96ea\u9752", "\u4e50\u7476", "\u542b\u70df", "\u6db5\u53cc", "\u5e73\u8776", "\u96c5\u854a", "\u50b2\u4e4b", "\u7075\u8587", "\u7eff\u6625", "\u542b\u857e", "\u4ece\u68a6", "\u521d\u4e39", "\u542c\u5170", "\u542c\u84c9", "\u8bed\u8299", "\u590f\u5f64", "\u51cc\u7476", "\u5fc6\u7fe0", "\u5e7b\u7075", "\u601c\u83e1", "\u7d2b\u5357", "\u4f9d\u73ca", "\u5999\u7af9", "\u8bbf\u70df", "\u601c\u857e", "\u51b0\u840d", "\u60dc\u971c", "\u51cc\u9999", "\u82b7\u857e", "\u96c1\u5349", "\u8fce\u68a6", "\u5143\u67cf", "\u4ee3\u8431", "\u7d2b\u771f", "\u5343\u9752", "\u51cc\u5bd2", "\u7d2b\u5b89", "\u5bd2\u5b89", "\u6000\u854a", "\u79cb\u8377", "\u6db5\u96c1", "\u51e1\u6885", "\u76fc\u66fc", "\u7fe0\u5f64", "\u8c37\u51ac", "\u65b0\u5de7", "\u51b7\u5b89", "\u5343\u840d", "\u51b0\u70df", "\u96c5\u9633", "\u5357\u677e", "\u8bd7\u4e91", "\u98de\u98ce", "\u5bc4\u7075", "\u4e66\u82b9", "\u5e7c\u84c9", "\u4ee5\u84dd", "\u7b11\u5bd2", "\u5fc6\u5bd2", "\u79cb\u70df", "\u82b7\u5de7", "\u6c34\u9999", "\u6620\u4e4b", "\u9189\u6ce2", "\u5e7b\u83b2", "\u591c\u5c71", "\u82b7\u5349", "\u5411\u5f64", "\u5c0f\u7389", "\u5e7c\u5357", "\u51e1\u68a6", "\u5c14\u66fc", "\u5ff5\u6ce2", "\u8fce\u677e", "\u9752\u5bd2", "\u6db5\u857e", "\u78a7\u83e1", "\u6620\u79cb", "\u76fc\u70df", "\u4ee5\u5bd2", "\u5bd2\u9999", "\u4ee3\u4ea6", "\u68a6\u9732", "\u6620\u6ce2", "\u53cb\u854a", "\u96c1\u67ab", "\u66fc\u8377", "\u7b11\u73ca", "\u6155\u513f", "\u590f\u5c9a", "\u5c0f\u8431", "\u7d2b\u9752", "\u5999\u83f1", "\u51ac\u5bd2", "\u66fc\u67d4", "\u8bed\u8776", "\u9752\u7b60", "\u591c\u5b89", "\u89c5\u6d77", "\u6653\u69d0", "\u96c5\u5c71", "\u8bbf\u4e91", "\u7fe0\u5bb9", "\u5bd2\u51e1", "\u6653\u7eff", "\u4ee5\u83f1", "\u51ac\u4e91", "\u542b\u7389", "\u542b\u5349", "\u591c\u767d", "\u7075\u7af9", "\u9189\u8587", "\u5143\u73ca", "\u5e7b\u6ce2", "\u76fc\u590f", "\u5143\u7476", "\u8fce\u66fc", "\u6c34\u4e91", "\u8bbf\u7434", "\u8c37\u6ce2", "\u4e50\u4e4b", "\u7b11\u767d", "\u5999\u6d77", "\u7d2b\u971c", "\u5e73\u590f", "\u51cc\u65cb", "\u5b64\u4e1d", "\u601c\u5bd2", "\u5411\u840d", "\u51e1\u677e", "\u9752\u4e1d", "\u7fe0\u5b89", "\u5982\u5929", "\u51cc\u96ea", "\u7eee\u83f1", "\u4ee3\u4e91", "\u5357\u83b2", "\u6625\u6587", "\u9999\u8587", "\u51ac\u7075", "\u51cc\u73cd", "\u91c7\u7eff", "\u5929\u6625", "\u6c9b\u6587", "\u7d2b\u69d0", "\u5e7b\u67cf", "\u91c7\u6587", "\u6625\u6885", "\u96ea\u65cb", "\u76fc\u6d77", "\u6620\u68a6", "\u5b89\u96c1", "\u6620\u5bb9", "\u51dd\u9633", "\u8bbf\u98ce", "\u5929\u4ea6", "\u5e73\u7eff", "\u76fc\u9999", "\u89c5\u98ce", "\u5c0f\u971c", "\u96ea\u840d", "\u534a\u96ea", "\u5c71\u67f3", "\u8c37\u96ea", "\u9756\u6613", "\u767d\u8587", "\u68a6\u83e1", "\u5982\u6ce2", "\u53c8\u6674", "\u53cb\u6613", "\u9999\u83f1", "\u51ac\u4ea6", "\u95ee\u96c1", "\u5999\u6625", "\u6d77\u51ac", "\u534a\u5b89", "\u5e73\u6625", "\u5e7c\u67cf", "\u79cb\u7075", "\u51dd\u8299", "\u5ff5\u70df", "\u4ece\u7075", "\u5c14\u8299", "\u8fce\u84c9", "\u5ff5\u5bd2", "\u7fe0\u7eff", "\u7fe0\u8299", "\u9756\u513f", "\u5999\u67cf", "\u5343\u51dd", "\u5c0f\u73cd", "\u5929\u5de7", "\u5999\u65cb", "\u96ea\u67ab", "\u590f\u83e1", "\u7eee\u7434", "\u96e8\u53cc", "\u542c\u67ab", "\u89c5\u8377", "\u51e1\u4e4b", "\u6653\u51e1", "\u96c5\u5f64", "\u6ce2", "\u7855\u767d", "\u9753\u519b", "\u6cfd\u745e", "\u7490", "\u9738\u5929", "\u4e00\u4e01", "\u7b71\u96e8", "\u4e00\u7537", "\u5348", "\u9996\u541b", "\u6cfd\u6587", "\u4fca\u8fbe", "\u5955\u7537", "\u4f0a\u5229", "\u6587\u534e", "\u4e66\u4e8e", "\u52e4", "\u77e5\u5180", "\u5c0f\u51e4", "\u5929\u73ba", "\u6b23\u7136", "\u5929\u987a", "\u6b23\u5189", "\u8000\u9633", "\u54cd", "\u65b9\u5f3a", "\u54f2\u5929", "\u5929\u54f2", "\u6dd1\u81e3", "\u61ff\u6d0b", "\u4e00\u7136", "\u65d6", "\u6b65\u653f", "\u7433\u98ce", "\u96f7\u9706", "\u5955\u8431", "\u7455", "\u5929\u5764", "\u70e8\u946b", "\u5b87\u822a", "\u8365", "\u7389\u4e91", "\u745e\u797a", "\u5929\u822a", "\u946b\u70ab", "\u4e00", "\u90d7", "\u5929\u8fdc", "\u6b63", "\u5929\u661f", "\u57f9\u653f", "\u8425", "\u677e", "\u660e\u851a", "\u677e\u5b50", "\u54f2", "\u5955\u8f69", "\u6735", "\u677e\u9e4f", "\u5929\u695a", "\u5fb7", "\u5c0f\u5929", "\u777f\u7ae5", "\u548f\u6cf0", "\u79c0\u6e05", "\u58ee\u58ee", "\u4e54\u4f9d", "\u4e54\u4e00", "\u94e0\u94ed", "\u6cd3\u9526", "\u677e\u8302", "\u65b0\u96e8", "\u667a\u797a", "\u6da3\u6d77", "\u73fa", "\u667a\u745e", "\u6587\u6770", "\u4e16\u6c11", "\u5c0f\u677e", "\u4eac\u57fa", "\u715c\u70ab", "\u7389\u6d01", "\u6e5f", "\u5143\u9752", "\u632f\u5cf0", "\u51ef", "\u6df1", "\u5ca9", "\u91d1\u5b9d", "\u5584\u57f9", "\u5408\u8425", "\u672a\u677e", "\u6c85\u9752", "\u660e\u946b", "\u535a\u6587", "\u77e5\u6587", "\u6cf0\u946b", "\u6c38\u6cf0", "\u667a\u777f", "\u6e1d", "\u777f\u667a", "\u6c85\u6e05", "\u658c", "\u6c76\u7ea1", "\u77e5\u7ae0", "\u519b\u5e73", "\u671d\u8d35", "\u6cf0\u660c", "\u777f\u6770", "\u5174\u6587", "\u4fcf", "\u91d1\u7487", "\u71a0", "\u70ef\u946b", "\u6c85\u6cfd", "\u6b23\u851a", "\u68d2\u68d2", "\u708e\u950b", "\u68d2", "\u548f\u77fd", "\u5609\u8bda", "\u6da6\u60e0", "\u662d\u541b", "\u6cfd\u60e0", "\u5927\u536b", "\u6600\u94ee", "\u91d1\u9f99", "\u708e\u8f89", "\u7b11\u7ea2", "\u8273\u53cc", "\u6668\u66e6", "\u749e", "\u708e\u70ef", "\u82f1", "\u6ea5", "\u4f1f\u7fa4", "\u4fe1\u548c", "\u6cf3\u81fb", "\u6d59", "\u8d1e\u9716", "\u65b0\u745e", "\u5b9c", "\u76ca", "\u745e\u742a", "\u660e\u534e", "\u6eaf", "\u81c6", "\u4f0a", "\u5bb6\u8302", "\u5b63", "\u58ee", "\u548f\u8861", "\u5fb7\u5e05", "\u9ed8", "\u9759\u534e", "\u70c1\u94e0", "\u704f\u660e", "\u6715\u9752", "\u6e2d\u751f", "\u797a", "\u6cca\u8a00", "\u9ed8\u7136", "\u6770", "\u7ffc", "\u794e\u794e", "\u5955\u541b", "\u6728\u69ce", "\u8d85", "\u6d25", "\u96ea\u6e05", "\u8363\u6625", "\u6625\u752b", "\u91d1\u73c2", "\u6d0b", "\u76ca\u5b58", "\u70ef\u94e0", "\u9e3f\u6d77", "\u6ee8", "\u6654", "\u6d77\u677e", "\u5b50\u797a", "\u715c\u952e", "\u5b50\u653f", "\u9526\u6cc9", "\u5f18\u952e", "\u4ece\u653f", "\u5b9b\u8c6b", "\u6cc9\u946b", "\u539a\u6b23", "\u6c6a\u6d0b", "\u8c35", "\u6fb9", "\u6636\u5b87", "\u653f\u529f", "\u4fde\u826f", "\u8363\u82f1", "\u660e", "\u653f\u7965", "\u6b23\u5b87", "\u745e", "\u6893\u8bda", "\u8bd7\u6cfd", "\u6de1", "\u6625\u9f99", "\u5efa\u519b", "\u7acb\u534e", "\u70af\u94ce", "\u5353\u9633", "\u4e3d\u6885", "\u9633", "\u6f9c", "\u6613", "\u76ca\u82ac", "\u51e4\u81e3", "\u6bc5", "\u6cfd\u96e8", "\u8054\u6625", "\u79cb\u6f9c", "\u6cfd\u7389", "\u5f66\u6cfd", "\u5efa\u6ce2", "\u6f9c\u6ed4", "\u5f66\u5b8f", "\u4e91\u51b0", "\u56fd\u6ed4", "\u6715", "\u797a\u653f", "\u9547", "\u653f\u76db", "\u7389\u78ca", "\u7457\u9752", "\u7855", "\u5251", "\u4f73\u4f26", "\u7406", "\u5c0f\u534e", "\u5b8f\u4f1f", "\u76db", "\u9274", "\u610f", "\u6854\u4eea", "\u7457\u537f", "\u5f79", "\u5065", "\u6ea2", "\u6c9b", "\u7b80", "\u6b23", "\u6631\u80e5", "\u4ee5", "\u653f\u6b23", "\u5df2", "\u5cb3", "\u4fe1\u8a00", "\u4ebf", "\u5fd7\u5eb7", "\u6068\u771f", "\u5c71\u69d0", "\u8fb0\u9038", "\u6d69\u5b87", "\u747e\u745c", "\u7693\u8f69", "\u64ce\u82cd", "\u64ce\u5b87", "\u81f4\u8fdc", "\u70e8\u78ca", "\u665f\u777f", "\u6587\u535a", "\u5929\u4f51", "\u82f1\u6770", "\u81f4\u8fdc", "\u4fca\u9a70", "\u96e8\u6cfd", "\u70e8\u78ca", "\u4f1f\u5947", "\u665f\u777f", "\u6587\u535a", "\u5929\u4f51", "\u6587\u660a", "\u4fee\u6d01", "\u9ece\u6615", "\u8fdc\u822a", "\u65ed\u5c27", "\u5723\u6770", "\u4fca\u6960", "\u9e3f\u6d9b", "\u4f1f\u797a", "\u8363\u8f69", "\u8d8a\u6cfd", "\u6d69\u5b87", "\u747e\u745c", "\u7693\u8f69", "\u64ce\u82cd", "\u64ce\u5b87", "\u5fd7\u6cfd", "\u5b50\u8f69", "\u777f\u6e0a", "\u5f18\u6587", "\u54f2\u701a", "\u96e8\u6cfd", "\u6977\u745e", "\u5efa\u8f89", "\u664b\u9e4f", "\u5929\u78ca", "\u7ecd\u8f89", "\u6d69\u5357", "\u6cfd\u6d0b", "\u946b\u78ca", "\u9e4f\u714a", "\u535a\u6587", "\u660a\u5f3a", "\u8d8a\u6cfd", "\u65ed\u5c27", "\u4f1f\u5bb8", "\u5fd7\u6cfd", "\u535a\u8d85", "\u541b\u6d69", "\u5b50\u9a9e", "\u9e4f\u6d9b", "\u708e\u5f6c", "\u9e64\u8f69", "\u4f1f\u6cfd", "\u8d8a\u5f6c", "\u98ce\u534e", "\u9756\u742a", "\u660e\u8f89", "\u4f1f\u8bda", "\u660e\u8f69", "\u7ecd\u8f89", "\u5065\u67cf", "\u82f1\u6770", "\u4fee\u6770", "\u5fd7\u6cfd", "\u5f18\u6587", "\u5cfb\u7199", "\u5609\u61ff", "\u715c\u57ce", "\u61ff\u8f69", "\u70e8\u4f1f", "\u82d1\u535a", "\u9e4f\u6d9b", "\u708e\u5f6c", "\u9e64\u8f69", "\u4f1f\u6cfd", "\u541b\u660a", "\u71a0\u5f64", "\u9e3f\u714a", "\u535a\u6d9b", "\u82d1\u6770", "\u9ece\u6615", "\u70e8\u9716", "\u664b\u9e4f", "\u70e8\u534e", "\u715c\u797a", "\u667a\u5bb8", "\u6b63\u8c6a", "\u660a\u7136", "\u660e\u6770", "\u7acb\u8bda", "\u7acb\u8f69", "\u7acb\u8f89", "\u5cfb\u7199", "\u5609\u61ff", "\u715c\u57ce", "\u61ff\u8f69", "\u70e8\u534e", "\u715c\u797a", "\u667a\u5bb8", "\u6b63\u8c6a", "\u660a\u7136", "\u5fd7\u6cfd", "\u660e\u6770", "\u5f18\u6587", "\u70e8\u4f1f", "\u82d1\u535a", "\u9e4f\u6d9b", "\u708e\u5f6c", "\u9e64\u8f69", "\u4f1f\u6cfd", "\u541b\u660a", "\u71a0\u5f64", "\u9e3f\u714a", "\u535a\u6d9b", "\u82d1\u6770", "\u9ece\u6615", "\u70e8\u9716", "\u54f2\u701a", "\u96e8\u6cfd", "\u6977\u745e", "\u5efa\u8f89", "\u81f4\u8fdc", "\u4fca\u9a70", "\u96e8\u6cfd", "\u70e8\u78ca", "\u56fd\u8c6a", "\u4f1f\u5947", "\u6587\u535a", "\u5929\u4f51", "\u5929\u987a", "\u6b23\u5189", "\u8000\u9633", "\u54cd", "\u65b9\u5f3a", "\u54f2\u5929", "\u5929\u54f2", "\u6dd1\u81e3", "\u61ff\u6d0b", "\u4e00\u7136", "\u65d6", "\u6b65\u653f", "\u7433\u98ce", "\u96f7\u9706", "\u5955\u8431", "\u7455", "\u5929\u5764", "\u70e8\u946b", "\u5b87\u822a", "\u8365", "\u7389\u4e91", "\u745e\u797a", "\u5929\u822a", "\u946b\u70ab", "\u4e00", "\u90d7", "\u5929\u8fdc", "\u6b63", "\u5929\u661f", "\u57f9\u653f", "\u8425", "\u677e", "\u660e\u851a", "\u677e\u5b50", "\u54f2", "\u5955\u8f69", "\u6735", "\u677e\u9e4f", "\u5929\u695a", "\u5fb7", "\u5c0f\u5929", "\u777f\u7ae5", "\u548f\u6cf0", "\u79c0\u6e05", "\u58ee\u58ee", "\u4e54\u4f9d", "\u4e54\u4e00", "\u94e0\u94ed", "\u6cd3\u9526", "\u677e\u8302", "\u65b0\u96e8", "\u667a\u797a", "\u6da3\u6d77", "\u73fa", "\u667a\u745e", "\u6587\u6770", "\u4e16\u6c11", "\u5c0f\u677e", "\u4eac\u57fa", "\u715c\u70ab", "\u7389\u6d01", "\u6e5f", "\u5143\u9752", "\u632f\u5cf0", "\u51ef", "\u6df1", "\u5ca9", "\u91d1\u5b9d", "\u5584\u57f9", "\u5408\u8425", "\u672a\u677e", "\u6c85\u9752", "\u660e\u946b", "\u535a\u6587", "\u77e5\u6587", "\u6cf0\u946b", "\u6c38\u6cf0", "\u667a\u777f", "\u6e1d", "\u777f\u667a", "\u6c85\u6e05", "\u658c", "\u6c76\u7ea1", "\u77e5\u7ae0", "\u519b\u5e73", "\u671d\u8d35", "\u6cf0\u660c", "\u777f\u6770", "\u5174\u6587", "\u4fcf", "\u91d1\u7487", "\u71a0", "\u70ef\u946b", "\u6c85\u6cfd", "\u6b23\u851a", "\u68d2\u68d2", "\u708e\u950b", "\u68d2", "\u548f\u77fd", "\u5609\u8bda", "\u6da6\u60e0", "\u662d\u541b", "\u6cfd\u60e0", "\u5927\u536b", "\u6600\u94ee", "\u91d1\u9f99", "\u708e\u8f89", "\u7b11\u7ea2", "\u8273\u53cc", "\u6668\u66e6", "\u749e", "\u708e\u70ef", "\u82f1", "\u6ea5", "\u4f1f\u7fa4", "\u4fe1\u548c", "\u6cf3\u81fb", "\u6d59", "\u8d1e\u9716", "\u65b0\u745e", "\u5b9c", "\u76ca", "\u745e\u742a", "\u660e\u534e", "\u6eaf", "\u81c6", "\u4f0a", "\u5bb6\u8302", "\u5b63", "\u58ee", "\u548f\u8861", "\u5fb7\u5e05", "\u9ed8", "\u9759\u534e", "\u70c1\u94e0", "\u704f\u660e", "\u6715\u9752", "\u6e2d\u751f", "\u797a", "\u6cca\u8a00", "\u9ed8\u7136", "\u6770", "\u7ffc", "\u794e\u794e", "\u5955\u541b", "\u6728\u69ce", "\u8d85", "\u6d25", "\u96ea\u6e05", "\u8363\u6625", "\u6625\u752b", "\u91d1\u73c2", "\u6d0b", "\u76ca\u5b58", "\u70ef\u94e0", "\u9e3f\u6d77", "\u6ee8", "\u6654", "\u6d77\u677e", "\u5b50\u797a", "\u715c\u952e", "\u5b50\u653f", "\u9526\u6cc9", "\u5f18\u952e", "\u4ece\u653f", "\u5b9b\u8c6b", "\u6cc9\u946b", "\u539a\u6b23", "\u6c6a\u6d0b", "\u8c35", "\u6fb9", "\u6636\u5b87", "\u653f\u529f", "\u4fde\u826f", "\u8363\u82f1", "\u660e", "\u653f\u7965", "\u6b23\u5b87", "\u745e", "\u6893\u8bda", "\u8bd7\u6cfd", "\u6de1", "\u6625\u9f99", "\u5efa\u519b", "\u7acb\u534e", "\u70af\u94ce", "\u5353\u9633", "\u4e3d\u6885", "\u9633", "\u6f9c", "\u6613", "\u76ca\u82ac", "\u51e4\u81e3", "\u6bc5", "\u6cfd\u96e8", "\u8054\u6625", "\u79cb\u6f9c", "\u6cfd\u7389", "\u5f66\u6cfd", "\u5efa\u6ce2", "\u6f9c\u6ed4", "\u5f66\u5b8f", "\u4e91\u51b0", "\u56fd\u6ed4", "\u6715", "\u797a\u653f", "\u9547", "\u653f\u76db", "\u7389\u78ca", "\u7457\u9752", "\u7855", "\u5251", "\u4f73\u4f26", "\u7406", "\u5c0f\u534e", "\u5b8f\u4f1f", "\u76db", "\u9274", "\u610f", "\u6854\u4eea", "\u7457\u537f", "\u5f79", "\u5065", "\u6ea2", "\u6c9b", "\u7b80", "\u6b23", "\u6631\u80e5", "\u4ee5", "\u653f\u6b23", "\u5df2", "\u5cb3", "\u4fe1\u8a00", "\u4ebf", "\u5fd7\u5eb7", "\u6068\u771f", "\u5c71\u69d0", "\u8fb0\u9038 ", "\u6d69\u5b87 ", "\u747e\u745c ", "\u7693\u8f69 ", "\u64ce\u82cd ", "\u64ce\u5b87", "\u81f4\u8fdc ", "\u70e8\u78ca ", "\u665f\u777f", "\u6587\u535a", "\u5929\u4f51", "\u82f1\u6770", "\u81f4\u8fdc ", "\u4fca\u9a70", "\u96e8\u6cfd ", "\u70e8\u78ca ", "\u4f1f\u5947", "\u665f\u777f", "\u6587\u535a", "\u5929\u4f51", "\u6587\u660a", "\u4fee\u6d01", "\u9ece\u6615 ", "\u8fdc\u822a", "\u65ed\u5c27 ", "\u5723\u6770 ", "\u4fca\u6960 ", "\u9e3f\u6d9b ", "\u4f1f\u797a ", "\u8363\u8f69 ", "\u8d8a\u6cfd ", "\u6d69\u5b87 ", "\u747e\u745c ", "\u7693\u8f69 ", "\u64ce\u82cd ", "\u64ce\u5b87", "\u5fd7\u6cfd ", "\u5b50\u8f69 ", "\u777f\u6e0a ", "\u5f18\u6587 ", "\u54f2\u701a ", "\u96e8\u6cfd ", "\u6977\u745e ", "\u5efa\u8f89 ", "\u664b\u9e4f", "\u5929\u78ca ", "\u7ecd\u8f89", "\u6d69\u5357 ", "\u6cfd\u6d0b ", "\u946b\u78ca ", "\u9e4f\u714a ", "\u535a\u6587 ", "\u660a\u5f3a ", "\u8d8a\u6cfd ", "\u65ed\u5c27 ", "\u4f1f\u5bb8 ", "\u5fd7\u6cfd ", "\u535a\u8d85 "),
            a = function() {
                function e() {}
                return e.getName = function() {
                    var e = parseInt("" + n.length * Math.random()),
                        t = n[e],
                        i = o.length,
                        a = parseInt("" + i * Math.random());
                    return t + o[a]
                }, e.isAvailableName = function(e) {
                    return /^[A-Za-z0-9\u4e00-\u9fa5]+$/gi.test(e)
                }, e
            }();
        i.NameHelper = a, cc._RF.pop()
    }, {}],
    NoBossPrivilegeView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "dc8251zbAFPOaB6qIUttcHl", "NoBossPrivilegeView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/UIManager"),
            r = e("../config/ViewConfig"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    s.default.instance.setTopUI(r.default.gameView.NoBossPrivilege), this.onAddEvent(this.findChild(this.node, "view/panel/btnGo"), this.onClickGo.bind(this))
                }, t.prototype.onHide = function() {}, t.prototype.onClickGo = function() {
                    this.closeView(), s.default.instance.createView(r.default.gameView.topUp)
                }, t.prototype.onClickClose = function() {
                    this.closeView()
                }, t = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig"
    }],
    NotifyModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b4e3ckQSzpA75C4Q0mlSDWY", "NotifyModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            return function() {}
        }();
        i.NotifyModel = n, cc._RF.pop()
    }, {}],
    NotityView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f83ffl3xR9BNodXPkQr5n5O", "NotityView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../model/NotifyModel"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    this.lblContent = this.getChild(this.node, "view/panel/content", cc.Label), this.btnBack = this.findChild(this.node, "view/panel/back"), this.btnClose = this.findChild(this.node, "view/panel/title/btnClose"), this.onAddEvent(this.btnClose, this.onBack.bind(this)), this.onAddEvent(this.btnBack, this.onBack.bind(this)), this.lblContent.string = s.NotifyModel.content
                }, t.prototype.onBack = function() {
                    this.closeView()
                }, t.prototype.onHide = function() {}, t = o([l], t)
            }(a.default));
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/ViewBase": "ViewBase",
        "../model/NotifyModel": "NotifyModel"
    }],
    OfflineGiftView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ddef2YK6AJF65/AZZd2MJnI", "OfflineGiftView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/Logger"),
            r = e("../model/PrivilegeModel"),
            l = e("../../engine/DateUtil"),
            c = e("../sdk/SdkHelper"),
            g = e("../../engine/EventManager"),
            f = e("../event/CommonEvent"),
            d = e("../network/SocketClient"),
            h = e("../../engine/UIManager"),
            u = e("../config/ViewConfig"),
            p = e("../model/RoleInfoModel"),
            m = e("../config/GoldsConfig"),
            C = e("../utils/UIHelper"),
            v = e("../../engine/ProtoConfig"),
            _ = e("../../engine/ProtoUtils"),
            y = e("../config/GameConfig"),
            M = e("../miniGameTools/tttool"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.maxUseGold = 100, t.totalTimeConfig = [4, 12], t.hadGet = !1, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    g.EventManager.instance.on(f.CommonEvent.Event_SocketRespMsg, this.onSocketRespMsg, this), h.default.instance.setTopUI(u.default.gameView.OfflineGiftView), g.EventManager.instance.on(f.CommonEvent.Event_ad_end, this.onAdEnd, this), s.Logger.log("OfflineGiftView onShow"), this.txtOfflineTime = this.node.getChildByName("txtOfflineTime").getComponent(cc.Label), this.txtTotalOffline = this.node.getChildByName("txtTotalOffline").getComponent(cc.Label), this.txtExp = this.node.getChildByName("txtExp").getComponent(cc.Label), this.txtCoin = this.node.getChildByName("txtCoin").getComponent(cc.Label), this.txtCream = this.node.getChildByName("txtCream").getComponent(cc.Label), this.txtNeedGold = this.node.getChildByName("btnMoney").getChildByName("txtNeedGold").getComponent(cc.Label), this.onAddEvent(this.node.getChildByName("btnFree"), this.onClickFree.bind(this)), this.onAddEvent(this.node.getChildByName("btnMoney"), this.onClickMoney.bind(this)), this.onAddEvent(this.node.getChildByName("btnAd"), this.onClickAd.bind(this)), this.refresh(), y.GameConfig.platform === cc.sys.WECHAT_GAME && (this.node.getChildByName("btnMoney").active = !1, this.node.getChildByName("btnAd").x = 152.922)
                }, t.prototype.refresh = function() {
                    this.txtNeedGold.string = p.default.instance.off_line_need_gold + "", this.txtOfflineTime.string = l.default.formatLeftTime3(1e3 * p.default.instance.last_off_line_time);
                    var e = p.default.instance.off_line_exp;
                    this.txtExp.string = C.UIHelper.tranNumber(e) + "", this.exp = e;
                    m.GoldsConfig.getConfigById(p.default.instance.level);
                    var t = p.default.instance.off_line_coin;
                    this.coin = t;
                    var i = p.default.instance.off_line_cream;
                    (this.cream = i, this.txtCoin.string = C.UIHelper.tranNumber(t) + "", this.txtCream.string = C.UIHelper.tranNumber(i) + "", r.default.hadRecoveryPrivilege() ? this.txtTotalOffline.string = "12\u5c0f\u65f6" : this.txtTotalOffline.string = "4\u5c0f\u65f6", r.default.hadFreePrivilege()) && (this.node.getChildByName("btnAd").getChildByName("btn_guangao").active = !1)
                }, t.prototype.onClickAd = function() {
                    y.GameConfig.platform === cc.sys.WECHAT_GAME ? M.tttool.OpenAD() : r.default.hadFreePrivilege() ? this.onAdEnd() : c.default.sdkAd()
                }, t.prototype.onAdEnd = function() {
                    d.default.req_get_offline_reward(2)
                }, t.prototype.onClickFree = function() {
                    d.default.req_get_offline_reward(1)
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == v.ProtoConfig.c_req_get_offline_reward) {
                        var i = _.ProtoUtils.DeserializeBinary(v.ProtoConfig.c_req_get_offline_reward, t),
                            n = i.getRet();
                        s.Logger.log("c_req_get_offline_reward===", e, i), 1 == n && (this.hadGet = !0, this.closeView())
                    }
                }, t.prototype.onClickMoney = function() {
                    c.default.sdkCustomAction(9, 5), d.default.req_get_offline_reward(5)
                }, t.prototype.showGetTip = function(e) {
                    C.UIHelper.showTip("\u83b7\u5f97\u7ecf\u9a8c" + this.exp * e), C.UIHelper.showTip("\u83b7\u5f97\u7cbe\u534e" + this.cream * e), C.UIHelper.showTip("\u83b7\u5f97\u91d1\u5e01" + this.coin * e)
                }, t.prototype.onHide = function() {
                    s.Logger.log("OfflineGiftView onHide"), this.hadGet || d.default.req_get_offline_reward(1)
                }, t = o([b], t)
            }(a.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/GoldsConfig": "GoldsConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    OfflineView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "fa617ctpJxPF7LBv1+FeEn8", "OfflineView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = cc._decorator,
            r = s.ccclass,
            l = (s.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.count = 5, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    var e = this;
                    this.txtTips = this.getChild(this.node, "view/panel/btnReconnect/txtTips", cc.Label), this.refresh(), this.schedule(function() {
                        e.count--, e.count <= 0 && (e.count = 0, e.closeView()), e.refresh()
                    }, 1)
                }, t.prototype.refresh = function() {
                    this.txtTips.string = "\u65ad\u7ebf\u91cd\u8fde(" + this.count + ")"
                }, t.prototype.onHide = function() {}, t = o([r], t)
            }(a.default));
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/ViewBase": "ViewBase"
    }],
    PrivilegeFightGodView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5a7f6GmHCpBK6NwvTGNPE+e", "PrivilegeFightGodView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../model/PrivilegeModel"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = e("../network/SocketClient"),
            g = e("../../engine/EventManager"),
            f = e("../config/GameConst"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    g.EventManager.instance.on(f.EVENT_NAME.REFRESH_PRIVILEGE, this.refresh, this), this.noactivationNode = this.node.getChildByName("noactivationNode"), this.activationNode = this.node.getChildByName("activationNode"), this.btnActivation = this.node.getChildByName("btnActivation"), this.btnGetGold = this.node.getChildByName("btnGetGold"), this.btnHadGet = this.node.getChildByName("btnHadGet"), this.onAddEvent(this.btnActivation, this.onClickActivation.bind(this)), this.onAddEvent(this.btnGetGold, this.onClickGetGold.bind(this)), this.refresh()
                }, t.prototype.onClickActivation = function() {
                    this.closeView(), r.default.instance.createView(l.default.gameView.topUp)
                }, t.prototype.onClickGetGold = function() {
                    c.default.req_get_vip_diamond(s.default.Privilege_Type.FightGod)
                }, t.prototype.refresh = function() {
                    var e = s.default.getFightGodPrivilege();
                    e ? (this.noactivationNode.active = !1, this.activationNode.active = !0, this.btnActivation.active = !1, 1 == e.is_get_diamond ? (this.btnHadGet.active = !0, this.btnGetGold.active = !1) : (this.btnHadGet.active = !1, this.btnGetGold.active = !0)) : (this.noactivationNode.active = !0, this.activationNode.active = !1, this.btnActivation.active = !0, this.btnHadGet.active = !1, this.btnGetGold.active = !1)
                }, t.prototype.onHide = function() {}, t = o([h], t)
            }(a.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../network/SocketClient": "SocketClient"
    }],
    PrivilegeModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "21a03FiOJFIC54reu50tOb1", "PrivilegeModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("../../engine/EventManager"),
            a = e("../config/GameConst"),
            s = e("./ServerTime"),
            r = e("../../engine/Logger"),
            l = function() {
                function e() {
                    this.is_get_diamond = 1
                }
                return e.create = function(t, i) {
                    for (var r = s.ServerTime.getServerTime(), l = 0; l < n.default.instance.privilegeList.length; l++) {
                        var c = n.default.instance.privilegeList[l];
                        if (c.privilegeType == t)
                            return c.endTime = Math.max(r, c.endTime) + 24 * i * 60 * 60 * 1e3, o.EventManager.instance.dispatch(a.EVENT_NAME.REFRESH_PRIVILEGE), n.default.saveToLocalStorage(), c
                    }
                    var g = new e;
                    return g.privilegeType = t, g.endTime = r + 24 * i * 60 * 60 * 1e3, n.default.instance.privilegeList.push(g), o.EventManager.instance.dispatch(a.EVENT_NAME.REFRESH_PRIVILEGE), n.default.saveToLocalStorage(), g
                }, e.getPrivilegeIndex = function(e) {
                    for (var t = 0; t < n.default.instance.privilegeList.length; t++) {
                        if (n.default.instance.privilegeList[t].privilegeType == e)
                            return t
                    }
                }, e.proto2ModelList = function(e) {
                    n.default.instance.privilegeList = [];
                    for (var t = 0; t < e.length; t++) {
                        var i = this.proto2Model(e[t]);
                        n.default.instance.privilegeList[t] = i
                    }
                    r.Logger.log("privilegeList=====", e, n.default.instance.privilegeList), o.EventManager.instance.dispatch(a.EVENT_NAME.REFRESH_PRIVILEGE)
                }, e.proto2Model = function(t) {
                    var i = new e;
                    return i.privilegeType = t.getType(), i.endTime = 1e3 * t.getEndTime(), i.is_get_diamond = t.getIsGetDiamond(), i.leftDay = t.getLeftday(), i
                }, e.deserializeBinaryToModelList = function(e) {
                    for (var t = [], i = 0; i < e.length; i++)
                        e[i] && (t[i] = this.deserializeBinaryToModel(e[i]));
                    return t
                }, e.deserializeBinaryToModel = function(t) {
                    var i = new e;
                    return i.privilegeType = t.privilegeType, i.endTime = t.endTime, i
                }, e.hadRecoveryPrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.recovery && t.leftDay > 0)
                            return !0
                    }
                    return !1
                }, e.hadFreePrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FreeAdv && -1 == t.leftDay)
                            return !0
                    }
                    return !1
                }, e.hadFightGodPrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FightGod && t.leftDay > 0)
                            return !0
                    }
                    return !1
                }, e.getRecoveryPrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.recovery && t.leftDay > 0)
                            return t
                    }
                    return null
                }, e.getFightGodPrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FightGod && t.leftDay > 0)
                            return t
                    }
                    return null
                }, e.getFreeAdvPrivilege = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FreeAdv && t.leftDay > 0)
                            return t
                    }
                    return null
                }, e.getRecoveryLeftDay = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.recovery)
                            return t.leftDay
                    }
                    return 0
                }, e.getFightLeftDay = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FightGod)
                            return t.leftDay
                    }
                    return 0
                }, e.getFreeLeftDay = function() {
                    for (var e = 0; e < n.default.instance.privilegeList.length; e++) {
                        var t = n.default.instance.privilegeList[e];
                        if (t.privilegeType == this.Privilege_Type.FreeAdv)
                            return t.leftDay
                    }
                    return 0
                }, e.Privilege_Type = {
                    recovery: 1,
                    FightGod: 2,
                    FreeAdv: 3
                }, e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../config/GameConst": "GameConst",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    PrivilegeRecoveryView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d9f3bqisjpI6azS5gczKXQb", "PrivilegeRecoveryView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../model/PrivilegeModel"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = e("../network/SocketClient"),
            g = e("../../engine/EventManager"),
            f = e("../config/GameConst"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    g.EventManager.instance.on(f.EVENT_NAME.REFRESH_PRIVILEGE, this.refresh, this), this.noactivationNode = this.node.getChildByName("noactivationNode"), this.activationNode = this.node.getChildByName("activationNode"), this.btnActivation = this.node.getChildByName("btnActivation"), this.btnGetGold = this.node.getChildByName("btnGetGold"), this.btnHadGet = this.node.getChildByName("btnHadGet"), this.onAddEvent(this.btnActivation, this.onClickActivation.bind(this)), this.onAddEvent(this.btnGetGold, this.onClickGetGold.bind(this)), this.refresh()
                }, t.prototype.onClickActivation = function() {
                    this.closeView(), r.default.instance.createView(l.default.gameView.topUp)
                }, t.prototype.onClickGetGold = function() {
                    c.default.req_get_vip_diamond(s.default.Privilege_Type.recovery)
                }, t.prototype.refresh = function() {
                    var e = s.default.getRecoveryPrivilege();
                    e ? (this.noactivationNode.active = !1, this.activationNode.active = !0, this.btnActivation.active = !1, 1 == e.is_get_diamond ? (this.btnHadGet.active = !0, this.btnGetGold.active = !1) : (this.btnHadGet.active = !1, this.btnGetGold.active = !0)) : (this.noactivationNode.active = !0, this.activationNode.active = !1, this.btnActivation.active = !0, this.btnHadGet.active = !1, this.btnGetGold.active = !1)
                }, t.prototype.onHide = function() {}, t = o([h], t)
            }(a.default));
        i.default = u, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../network/SocketClient": "SocketClient"
    }],
    ProtoConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f4197Pzyj5Bv55BL/Fr48+r", "ProtoConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.getProtoRespName = function(t) {
                return e.responseMap.get(t)
            }, e.getProtoRequestType = function(t) {
                var i = 1;
                return e.requestProtoMap.forEach(function(e, n) {
                    e != t || (i = n)
                }), i
            }, e.getProtoReqName = function(t) {
                return e.requestProtoMap.get(t)
            }, e.getProtoResponeseType = function(t) {
                var i = 1;
                return e.responseMap.forEach(function(e, n) {
                    e != t || (i = n)
                }), i
            }, e.PB_MESSAGE = "PB_MESSAGE", e.s_user_login = "s_user_login", e.c_user_login = "c_user_login", e.s_user_base_info = "s_user_base_info", e.c_user_base_info = "c_user_base_info", e.s_req_role_list = "s_req_role_list", e.c_req_role_list = "c_req_role_list", e.s_req_create_role = "s_req_create_role", e.c_req_create_role = "c_req_create_role", e.s_req_del_role = "s_req_del_role", e.c_req_del_role = "c_req_del_role", e.s_req_start_game = "s_req_start_game", e.c_req_start_game = "c_req_start_game", e.s_req_role_info = "s_req_role_info", e.c_req_role_info = "c_req_role_info", e.s_req_enter_scene = "s_req_enter_scene", e.c_req_enter_scene = "c_req_enter_scene", e.s_req_heart = "s_req_heart", e.c_req_heart = "c_req_heart", e.c_tell_by_language_id = "c_tell_by_language_id", e.c_tell_direct = "c_tell_direct", e.s_req_item_list = "s_req_item_list", e.c_req_item_list = "c_req_item_list", e.s_kill_monster = "s_kill_monster", e.t_skill_arg = "t_skill_arg", e.c_update_item_info = "c_update_item_info", e.s_req_charge = "s_req_charge", e.c_req_charge = "c_req_charge", e.c_temporary_report_cheat = "c_temporary_report_cheat", e.c_kill_monster = "c_kill_monster", e.c_add_res_list = "c_add_res_list", e.t_monster_info = "t_monster_info", e.s_req_equip = "s_req_equip", e.c_req_equip = "c_req_equip", e.c_property_list_update = "c_property_list_update", e.c_resource_list_update = "c_resource_list_update", e.c_error_code = "c_error_code", e.s_req_fresh_equip = "s_req_fresh_equip", e.c_req_fresh_equip = "c_req_fresh_equip", e.s_req_save_property = "s_req_save_property", e.c_req_save_property = "c_req_save_property", e.s_req_gm_code = "s_req_gm_code", e.s_req_strength = "s_req_strength", e.c_req_strength = "c_req_strength", e.s_req_boss_fresh_time = "s_req_boss_fresh_time", e.c_req_boss_fresh_time = "c_req_boss_fresh_time", e.s_req_buy = "s_req_buy", e.c_req_buy = "c_req_buy", e.s_req_shop_fresh_info = "s_req_shop_fresh_info", e.c_req_shop_fresh_info = "c_req_shop_fresh_info", e.s_req_shop_fresh = "s_req_shop_fresh", e.s_req_advertisement_info = "s_req_advertisement_info", e.c_req_advertisement_info = "c_req_advertisement_info", e.s_req_advertisement = "s_req_advertisement", e.s_req_reback_items = "s_req_reback_items", e.c_req_reback_items = "c_req_reback_items", e.s_req_reback_info = "s_req_reback_info", e.s_resh_reback_info = "s_resh_reback_info", e.s_req_skill = "s_req_skill", e.s_req_skill_lev_up = "s_req_skill_lev_up", e.s_req_skill_add_exp = "s_req_skill_add_exp", e.s_req_skill_use = "s_req_skill_use", e.c_req_skill = "c_req_skill", e.t_skill = "t_skill", e.s_req_use_item = "s_req_use_item", e.c_req_use_item = "c_req_use_item", e.s_req_break_item = "s_req_break_item", e.s_req_lev_up = "s_req_lev_up", e.c_req_lev_up = "c_req_lev_up", e.s_req_realm_info = "s_req_realm_info", e.c_req_realm_info = "c_req_realm_info", e.s_req_up_realm = "s_req_up_realm", e.s_req_get_vip_info = "s_req_get_vip_info", e.c_req_get_vip_info = "c_req_get_vip_info", e.s_req_get_vip_diamond = "s_req_get_vip_diamond", e.s_req_get_offline_reward = "s_req_get_offline_reward", e.c_req_get_offline_reward = "c_req_get_offline_reward", e.s_req_task = "s_req_task", e.s_req_finish_task = "s_req_finish_task", e.c_req_task = "c_req_task", e.s_req_make_info = "s_req_make_info", e.c_req_make_info = "c_req_make_info", e.s_refresh_make = "s_refresh_make", e.s_req_make_equip = "s_req_make_equip", e.c_req_bags_add_num = "c_req_bags_add_num", e.c_off_line_reward_info = "c_off_line_reward_info", e.s_req_first_rechard_info = "s_req_first_rechard_info", e.s_req_get_first_rechard_info = "s_req_get_first_rechard_info", e.c_req_first_rechard_info = "c_req_first_rechard_info", e.c_get_item_tip = "c_get_item_tip", e.t_kill_reback_info = "t_kill_reback_info", e.c_charge_suc = "c_charge_suc", e.s_seq_charge_info = "s_seq_charge_info", e.c_seq_charge_info = "c_seq_charge_info", e.s_equip_lock = "s_equip_lock", e.c_kick = "c_kick", e.s_seq_update_gift_info = "s_seq_update_gift_info", e.c_seq_act_info = "c_seq_act_info", e.s_req_code = "s_req_code", e.s_seq_start_adv_status = "s_seq_start_adv_status", e.s_seq_compose = "s_seq_compose", e.c_seq_compose = "c_seq_compose", e.s_seq_quench = "s_seq_quench", e.c_seq_quench = "c_seq_quench", e.s_seq_saverune = "s_seq_saverune", e.c_seq_saverune = "c_seq_saverune", e.s_seq_embed = "s_seq_embed", e.c_seq_embed = "c_seq_embed", e.t_property_info = "t_property_info", e.s_seq_fangbuy = "s_seq_fangbuy", e.c_seq_fangbuy = "c_seq_fangbuy", e.s_seq_fangbuy_info = "s_seq_fangbuy_info", e.c_seq_fangbuy_info = "c_seq_fangbuy_info", e.t_fang_shop_item_info = "t_fang_shop_item_info", e.s_seq_limitshop = "s_seq_limitshop", e.s_seq_limitshopbuy_info = "s_seq_limitshopbuy_info", e.c_seq_limitshop = "c_seq_limitshop", e.c_seq_limitshopbuy_info = "c_seq_limitshopbuy_info", e.t_limitshop_item_info = "t_limitshop_item_info", e.s_seq_xianji = "s_seq_xianji", e.c_seq_xianji = "c_seq_xianji", e.s_seq_xianji_save = "s_seq_xianji_save", e.c_seq_xianji_save = "c_seq_xianji_save", e.s_seq_xianji_regret = "s_seq_xianji_regret", e.c_seq_xianji_regret = "c_seq_xianji_regret", e.s_seq_rune_gift = "s_seq_rune_gift", e.c_seq_rune_gift = "c_seq_rune_gift", e.s_seq_compensate_info = "s_seq_compensate_info", e.c_seq_compensate_info = "c_seq_compensate_info", e.s_seq_all_skill_sin = "s_seq_all_skill_sin", e.c_seq_all_skill_sin = "c_seq_all_skill_sin", e.s_seq_swap_skill_sin = "s_seq_swap_skill_sin", e.c_seq_swap_skill_sin = "c_seq_swap_skill_sin", e.s_seq_try_item = "s_seq_try_item", e.c_seq_try_item = "c_seq_try_item", e.c_refresh_monster = "c_refresh_monster", e.s_seq_shenbing = "s_seq_shenbing", e.c_seq_shenbing = "c_seq_shenbing", e.s_seq_shenbing_skill = "s_seq_shenbing_skill", e.c_seq_shenbing_skill = "c_seq_shenbing_skill", e.s_seq_spirits = "s_seq_spirits", e.c_seq_spirits = "c_seq_spirits", e.s_seckill_monster = "s_seckill_monster", e.c_seckill_monster = "c_seckill_monster", e.s_recycle_options = "s_recycle_options", e.c_recycle_options = "c_recycle_options", e.requestProtoMap = (new Map).set(1, e.s_user_login).set(2, e.s_req_role_list).set(3, e.s_req_create_role).set(4, e.s_req_del_role).set(5, e.s_req_start_game).set(6, e.s_req_role_info).set(25, e.s_req_enter_scene).set(9, e.s_req_item_list).set(10, e.s_kill_monster).set(13, e.s_req_charge).set(15, e.s_req_equip).set(19, e.s_req_fresh_equip).set(20, e.s_req_save_property).set(21, e.s_req_gm_code).set(22, e.s_req_strength).set(23, e.s_req_boss_fresh_time).set(24, e.s_req_buy).set(26, e.s_req_shop_fresh_info).set(27, e.s_req_shop_fresh).set(28, e.s_req_advertisement_info).set(29, e.s_req_advertisement).set(30, e.s_req_reback_items).set(31, e.s_req_heart).set(32, e.s_req_reback_info).set(33, e.s_resh_reback_info).set(34, e.s_req_skill).set(35, e.s_req_skill_lev_up).set(36, e.s_req_skill_add_exp).set(37, e.s_req_skill_use).set(38, e.s_req_use_item).set(39, e.s_req_break_item).set(40, e.s_req_lev_up).set(41, e.s_req_realm_info).set(42, e.s_req_up_realm).set(43, e.s_req_get_vip_info).set(44, e.s_req_get_vip_diamond).set(45, e.s_req_get_offline_reward).set(46, e.s_req_task).set(47, e.s_req_finish_task).set(48, e.s_req_make_info).set(49, e.s_refresh_make).set(50, e.s_req_make_equip).set(53, e.s_req_first_rechard_info).set(54, e.s_req_get_first_rechard_info).set(57, e.s_seq_charge_info).set(58, e.s_equip_lock).set(60, e.s_seq_update_gift_info).set(61, e.s_req_code).set(62, e.s_seq_start_adv_status).set(63, e.s_seq_compose).set(64, e.s_seq_quench).set(65, e.s_seq_embed).set(66, e.s_seq_saverune).set(68, e.s_seq_fangbuy).set(69, e.s_seq_fangbuy_info).set(70, e.s_seq_limitshop).set(71, e.s_seq_limitshopbuy_info).set(72, e.s_seq_xianji).set(73, e.s_seq_xianji_save).set(74, e.s_seq_xianji_regret).set(75, e.s_seq_rune_gift).set(78, e.s_seq_compensate_info).set(79, e.s_seq_all_skill_sin).set(80, e.s_seq_swap_skill_sin).set(81, e.s_seq_try_item).set(86, e.s_seq_shenbing).set(87, e.s_seq_shenbing_skill).set(88, e.s_seq_spirits).set(89, e.s_seckill_monster).set(90, e.s_recycle_options), e.responseMap = (new Map).set(1, e.c_user_login).set(2, e.c_req_role_list).set(3, e.c_req_create_role).set(4, e.c_req_del_role).set(5, e.c_req_start_game).set(6, e.c_req_role_info).set(25, e.c_req_enter_scene).set(9, e.c_req_item_list).set(10, e.c_kill_monster).set(11, e.c_update_item_info).set(12, e.c_add_res_list).set(13, e.c_req_charge).set(15, e.c_req_equip).set(16, e.c_property_list_update).set(17, e.c_resource_list_update).set(18, e.c_error_code).set(19, e.c_req_fresh_equip).set(20, e.c_req_save_property).set(22, e.c_req_strength).set(23, e.c_req_boss_fresh_time).set(24, e.c_req_buy).set(26, e.c_req_shop_fresh_info).set(28, e.c_req_advertisement_info).set(30, e.c_req_reback_items).set(31, e.c_req_heart).set(34, e.c_req_skill).set(35, e.c_req_skill).set(36, e.c_req_skill).set(37, e.c_req_skill).set(38, e.c_req_use_item).set(40, e.c_req_lev_up).set(41, e.c_req_realm_info).set(42, e.c_req_realm_info).set(43, e.c_req_get_vip_info).set(44, e.c_req_get_vip_info).set(45, e.c_req_get_offline_reward).set(46, e.c_req_task).set(47, e.c_req_task).set(48, e.c_req_make_info).set(49, e.c_req_make_info).set(50, e.c_req_make_info).set(51, e.c_req_bags_add_num).set(52, e.c_off_line_reward_info).set(53, e.c_req_first_rechard_info).set(54, e.c_req_first_rechard_info).set(55, e.c_get_item_tip).set(56, e.c_charge_suc).set(57, e.c_seq_charge_info).set(59, e.c_kick).set(60, e.c_seq_act_info).set(63, e.c_seq_compose).set(64, e.c_seq_quench).set(65, e.c_seq_embed).set(66, e.c_seq_saverune).set(68, e.c_seq_fangbuy).set(69, e.c_seq_fangbuy_info).set(70, e.c_seq_limitshop).set(71, e.c_seq_limitshopbuy_info).set(72, e.c_seq_xianji).set(73, e.c_seq_xianji_save).set(74, e.c_seq_xianji_regret).set(75, e.c_seq_rune_gift).set(78, e.c_seq_compensate_info).set(79, e.c_seq_all_skill_sin).set(80, e.c_seq_swap_skill_sin).set(81, e.c_seq_try_item).set(85, e.c_refresh_monster).set(86, e.c_seq_shenbing).set(87, e.c_seq_shenbing_skill).set(88, e.c_seq_spirits).set(89, e.c_seckill_monster).set(90, e.c_recycle_options), e
        }();
        i.ProtoConfig = n, cc._RF.pop()
    }, {}],
    ProtoUtils: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "eefa73W0mtP9KIm6DOyP66J", "ProtoUtils"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../game/config/GameConfig"),
            o = function() {
                function e() {}
                return e.init = function() {
                    n.GameConfig.platform, cc.sys.WECHAT_GAME, console.log("ProtoUtils init==proto=", proto)
                }, e.Create = function(e) {
                    return proto[e] ? new proto[e] : null
                }, e.CreateQianTao2 = function(e, t) {
                    return new proto[e][t]
                }, e.DeserializeBinary = function(e, t) {
                    return proto[e] ? proto[e].deserializeBinary(t) : null
                }, e.GetProtoName = function(e) {
                    return e.constructor.displayName.substring(6)
                }, e
            }();
        i.ProtoUtils = o, cc._RF.pop()
    }, {
        "../game/config/GameConfig": "GameConfig"
    }],
    QuenchingCostConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "df432kWhHNEaqVRlU5ziyam", "QuenchingCostConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.level = e.level, i.quality2 = e.quality2, i.quality3 = e.quality3, i.quality4 = e.quality4, i.quality5 = e.quality5, i.quality6 = e.quality6, i
            }, t.getConfigByLevel = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    e == i.level && (t = i)
                }), t
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.level = parseInt(i)
                })
            }, t.Config_Name = "cuilianconfig", t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.QuenchingCostConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    RandomFuMoConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "148a5gCP9xAtILrVX0Mi/PU", "RandomFuMoConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.position = 1, t.level10 = [1, 2], t.level20 = [1, 4], t.level30 = [1, 5], t.level40 = [2, 6], t.level50 = [2, 6], t.level60 = [], t.level70 = [2, 6], t.level80 = [2, 10], t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                for (var n in e)
                    "function" != typeof e[n] && (i[n] = e[n]);
                return i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getMagicListByPosition = function(e) {
                var t = [];
                return this.configMap.forEach(function(i, n) {
                    i.position == e && t.push(i)
                }), t
            }, t.getRandomFuMoConfig = function(e, t) {
                var i;
                return this.configMap.forEach(function(n, o) {
                    n.position != e.position || t != n.statid || (i = n)
                }), i
            }, t.getOneRandomFuMoConfig = function(e, t) {
                for (var i = 0; i < e.length; i++) {
                    var n = e[i];
                    if (n.statid == t)
                        return n
                }
            }, t.getMagicValueByConfig = function(e, t) {
                var i = [];
                return t <= 10 ? i = e.level10 : t <= 20 ? i = e.level20 : t <= 30 ? i = e.level30 : t <= 40 ? i = e.level40 : t <= 50 ? i = e.level50 : t <= 60 ? i = e.level60 : t <= 70 ? i = e.level70 : t <= 80 && (i = e.level80), i
            }, t.getMaxValue = function(e, i) {
                var n;
                return this.configMap.forEach(function(t, i) {
                    e == t.statid && (n = t)
                }), t.getMagicValueByConfig(n, i)[1]
            }, t.getLevelEntry = function(e, t) {
                var i;
                return this.configMap.forEach(function(t, n) {
                    e == t.statid && (i = t)
                }), i.statnum
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.RandomFuMoConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    RandomFuMoEntryConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c1e37RVkH9Gnoy5N7QrVJxH", "RandomFuMoEntryConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.position = 1, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                for (var n in e)
                    "function" != typeof e[n] && (i[n] = e[n]);
                return i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getRandomFuMoEntry = function(e, t) {
                var i,
                    n = this;
                return this.configMap.forEach(function(o, a) {
                    o.position == e && t >= o.level[0] && t <= o.level[1] && (i = n.obj2Config(o))
                }), i
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.RandomFuMoEntryConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    RandomUtil: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "be90aHdflxLy4G/RcdVPic8", "RandomUtil"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.nextInt = function(e, t) {
                return Math.floor(Math.random() * (t - e + 1) + e)
            }, e.nextNumber = function(e, t) {
                return Math.random() * (t - e) + e
            }, e.nextSign = function() {
                return Math.random() < .5 ? 1 : -1
            }, e.nextBoolean = function() {
                return Math.random() < .5
            }, e.randomArr = function(t, i) {
                for (var n = t.concat(), o = [], a = 0; a < i && !(n.length <= 0); a++) {
                    var s = e.nextInt(0, n.length - 1);
                    o.push(n.splice(s, 1)[0])
                }
                return o
            }, e.randomItem = function(e) {
                return this.randomArr(e, 1)[0]
            }, e.randomP = function(t, i, n, o) {
                var a = e.nextNumber(t, i),
                    s = e.nextNumber(n, o);
                return cc.v2(a, s)
            }, e.randomIndexByPercent = function(e) {
                void 0 === e && (e = [100, 100, 100]);
                for (var t = [], i = 0, n = 0; n < e.length; n++)
                    i += e[n], t[n] = i;
                var o = this.nextInt(0, i),
                    a = t.length - 1;
                for (n = 0; n < t.length; n++)
                    if (o <= t[n]) {
                        a = n;
                        break
                    }
                return a
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    RebirthConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "af5bfCT/jJCAJ7oM7kKnL8Y", "RebirthConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.atk = e.atk, i.def = e.def, i.equip_times = e.equip_times, i.expcost = e.expcost, i.level_limit = e.level_limit, i.mag = e.mag, i.magic_find1 = e.magic_find1, i.next = e.next, i.roleLevel = e.roleLevel, i.spt = e.spt, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.RebirthConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    RedDotModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "dab50kxbPtI+o1vE+a6vR6c", "RedDotModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.isXianShiRedDot = !1, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    RefineHelpView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c62209XZrNHBoP83H3FXZbd", "RefineHelpView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/MagicNameConfig"),
            r = e("../../config/RandomFuMoConfig"),
            l = e("../../../engine/UIManager"),
            c = e("../../config/ViewConfig"),
            g = e("../../model/MagicModel"),
            f = cc._decorator,
            d = f.ccclass,
            h = (f.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e, t) {
                    void 0 === e && (e = 1), this.init(e, t)
                }, t.prototype.init = function(e, t) {
                    var i;
                    void 0 === e && (e = 1), l.default.instance.setTopUI(c.default.gameView.RefineHelp), this.onAddEvent(this.findChild(this.node, "btnClose"), this.onClickClose.bind(this)), this.node.x = 0, this.node.active = !0, this.scrollContent = this.getChild(this.node, "ScrollView/view/content");
                    for (var n = "", o = 0, a = 0, f = 0; f < this.itemList.length; f++)
                        this.itemList[f].destroy();
                    this.itemList = [];
                    var d = r.RandomFuMoConfig.getMagicListByPosition(t);
                    for (f = 0; f < d.length; f++) {
                        var h = d[f],
                            u = h.statid;
                        i = r.RandomFuMoConfig.getMagicValueByConfig(h, e), o = h.statnum, n = s.MagicNameConfig.getDesc(u);
                        var p = g.default.formatMagicValue(u, i[1]);
                        this.initItem(n, p, o, a++)
                    }
                }, t.prototype.initItem = function(e, t, i, n) {
                    var o = this.getChild(this.node, "ScrollView/view/content/item");
                    o.active = !1;
                    var a = cc.instantiate(o);
                    a.active = !0;
                    var s = this.getChild(a, "bg"),
                        r = this.getChild(a, "lblAttName", cc.Label),
                        l = this.getChild(a, "lblMax", cc.Label),
                        c = this.getChild(a, "lblEntry", cc.Label);
                    r.string = e, l.string = t + "", c.string = i + "", n % 2 == 0 && (s.active = !1), this.scrollContent.addChild(a), this.itemList.push(a)
                }, t.prototype.onClickClose = function() {
                    this.node.active = !1
                }, t = o([d], t)
            }(a.default));
        i.default = h, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/MagicModel": "MagicModel"
    }],
    RefineRuleView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "08737ZNQqlM5q6EMhrzn6Lp", "RefineRuleView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/UIManager"),
            r = e("../config/ViewConfig"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    s.default.instance.setTopUI(r.default.gameView.RefineRule)
                }, t = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig"
    }],
    RefineView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e3bf6aPsMZEjKetMIifV9j6", "RefineView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/EventManager"),
            s = e("../../../engine/UIManager"),
            r = e("../../../engine/ViewBase"),
            l = e("../../config/EquipConfig"),
            c = e("../../config/GameConst"),
            g = e("../../config/MagicNameConfig"),
            f = e("../../config/RandomFuMoConfig"),
            d = e("../../config/ViewConfig"),
            h = e("../../model/ItemInfoModel"),
            u = e("../../model/MagicModel"),
            p = e("../../model/RoleInfoModel"),
            m = e("../../utils/MusicHelper"),
            C = e("../../utils/UIHelper"),
            v = e("../../../engine/Logger"),
            _ = e("../../config/ColorConfig"),
            y = e("../../network/SocketClient"),
            M = e("../../../engine/ProtoConfig"),
            I = e("../../../engine/ProtoUtils"),
            b = e("../../config/GameConfig"),
            L = e("../../prefab/ItemPrefab"),
            w = e("../BuyShopView"),
            S = e("../../sdk/SdkHelper"),
            E = e("../../config/Xilianexpendconfig"),
            k = e("../../model/AdModel"),
            T = e("./xianjiPrefab"),
            N = cc._decorator,
            R = N.ccclass,
            B = (N.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.isNotTips = !1, t.isSave = !0, t.refineRan = [], t.stoneAmount = 0, t.coin = 0, t.useGold = !1, t.canLockNum = 0, t.lockList = [], t.lockNodeList = [], t.suoNodeList = [], t.showId = 0, t.wantList = [], t.txtNowFight = null, t.txtWantFight = null, t.clickingRefine = !1, t.pageType = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e) {
                    this.model = e, this.itemId = this.model.itemId, this.canLockNum = this.model.randAttrList.length - 2, this.config = l.EquipConfig.getEquipConfigById(this.model.itemType), v.Logger.log("RefineView===", this.model)
                }, t.prototype.onShow = function() {
                    s.default.instance.setTopUI(this.viewPath), this.refinePanel = this.getChild(this.node, "panel/refinePanel"), this.xianjiPanel = this.getChild(this.node, "panel/xianjiPanel"), this.initData(), this.onEvent(), this.refreshLbl(), b.GameConfig.platform == cc.sys.WECHAT_GAME && (this.findChild(this.refinePanel, "pnlPanel/pnlLbl/pnlGold").active = !1, this.findChild(this.node, "panel/refinePanel/pnlBtn/btnUseGold").active = !1), this.btnTab0 = this.findChild(this.node, "btnTab0"), this.btnTab1 = this.findChild(this.node, "btnTab1"), this.pageType = i.TYPE_REFINE, this.changePage()
                }, t.prototype.onUserInfoRefresh = function() {
                    this.refreshLbl()
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == M.ProtoConfig.c_req_fresh_equip) {
                        this.clickingRefine = !1;
                        var i = I.ProtoUtils.DeserializeBinary(M.ProtoConfig.c_req_fresh_equip, t).getRandattrlistList();
                        this.wantList = [];
                        for (var n = 0; n < i.length; n++) {
                            var o = new u.default;
                            o.magicId = i[n].getK(), o.magicValue = i[n].getV();
                            var a = i[n].getPos();
                            this.wantList[a - 1] = o
                        }
                        this.refreshWantAttri(), this.refreshLbl()
                    } else if (e == M.ProtoConfig.c_req_save_property) {
                        1 == I.ProtoUtils.DeserializeBinary(M.ProtoConfig.c_req_save_property, t).getRet() && (this.model.randAttrList = this.wantList, this.initLeftRandomAttr(), this.wantList = [], this.scrollViewRight.content.removeAllChildren(), this.refreshLbl(), this.findChild(this.refinePanel, "pnlPanel/pnlName").getComponent(L.default).init(this.model))
                    } else if (e == M.ProtoConfig.c_req_buy) {
                        1 == I.ProtoUtils.DeserializeBinary(M.ProtoConfig.c_req_buy, t).getRet() && this.useGold && this.onRefine()
                    }
                }, t.prototype.onEvent = function() {
                    var e = this;
                    this.onAddEventOnly(this.node, "panel/btnDisplay", this.onDisplay.bind(this)), this.onAddEventOnly(this.node, "panel/btnClose", this.onClose.bind(this)), this.findChild(this.node, "bg").on(cc.Node.EventType.TOUCH_END, this.onClose.bind(this)), this.onAddEventOnly(this.node, "panel/refinePanel/pnlBtn/btnRefine", this.onClickRefine.bind(this)), this.onAddEventOnly(this.node, "panel/refinePanel/pnlBtn/btnSave", this.onSave.bind(this)), this.onAddEventOnly(this.node, "panel/refinePanel/pnlBtn/btnUseGold", this.onUseGold.bind(this)), this.onAddEventOnly(this.node, "btnTab0", this.changePageType.bind(this, "btnTab0")), this.onAddEventOnly(this.node, "btnTab1", this.changePageType.bind(this, "btnTab1")), a.EventManager.instance.on(c.EVENT_NAME.REFRESH_REFINE, this.refreshLbl, this), this.onAddEvent(this.findChild(this.node, "panel/refinePanel/pnlPanel/btnEye"), function() {
                        s.default.instance.createView(d.default.gameView.RefineHelp, null, e.model.getConfig().level, e.model.getConfig().position)
                    }), this.initTipFrame()
                }, t.prototype.changePageType = function(e) {
                    if (v.Logger.log("this.pageType===", e), "btnTab0" == e) {
                        if (this.xianjiPanel.getComponent(T.default).xianjistate != T.default.xianji_IDLE && this.xianjiPanel.getComponent(T.default).wantList.length > 0)
                            return void this.showTips(3);
                        this.pageType = i.TYPE_REFINE
                    } else if ("btnTab1" == e) {
                        if (!this.isSave && !this.isNotTips && this.wantList.length > 0)
                            return void this.showTips(2);
                        this.pageType = i.TYPE_XIANJI
                    }
                    this.changePage()
                }, t.prototype.changePage = function() {
                    this.pageType == i.TYPE_REFINE ? (v.Logger.log("===============111111111111111111111================"), this.refinePanel.active = !0, this.xianjiPanel.active = !1, this.findChild(this.btnTab0, "isSelet").active = !0, this.findChild(this.btnTab0, "noSelet").active = !1, this.findChild(this.btnTab1, "isSelet").active = !1, this.findChild(this.btnTab1, "noSelet").active = !0, this.xianjiPanel.getComponent(T.default).initNoSeletModel()) : this.pageType == i.TYPE_XIANJI && (v.Logger.log("===============2222222222222222222222================"), this.refinePanel.active = !1, this.xianjiPanel.active = !0, this.findChild(this.btnTab0, "isSelet").active = !1, this.findChild(this.btnTab0, "noSelet").active = !0, this.findChild(this.btnTab1, "isSelet").active = !0, this.findChild(this.btnTab1, "noSelet").active = !1, this.wantList = [], this.scrollViewRight.content.removeAllChildren(), this.isSave = !0, this.refreshLbl())
                }, t.prototype.initData = function() {
                    this.findChild(this.refinePanel, "pnlPanel/pnlName").getComponent(L.default).init(this.model), this.scrollViewLeft = this.getChild(this.refinePanel, "pnlPanel/scrollViewLeft", cc.ScrollView), this.scrollViewRight = this.getChild(this.refinePanel, "pnlPanel/scrollViewRight", cc.ScrollView), this.scrollViewLeft.content.removeAllChildren(), this.scrollViewRight.content.removeAllChildren(), this.itemNode = this.findChild(this.refinePanel, "pnlPanel/item"), this.itemNode.active = !1, this.txtNowFight = this.getChild(this.refinePanel, "pnlPanel/pnlLbl/txtNowFight", cc.Label), this.txtWantFight = this.getChild(this.refinePanel, "pnlPanel/pnlLbl/txtWantFight", cc.Label), this.initLeftRandomAttr(), this.xianjiPanel.getComponent("xianjiPrefab").init(this.model), this.useGold = !1, this.getChild(this.node, "panel/refinePanel/pnlBtn/btnUseGold/btn_gou").active = this.useGold
                }, t.prototype.initLeftRandomAttr = function() {
                    this.model = h.default.getItemByid(this.itemId), this.lockList = [], this.lockNodeList = [], this.suoNodeList = [], this.scrollViewLeft.content.removeAllChildren();
                    for (var e = 0; e < this.model.randAttrList.length; e++) {
                        var t = cc.instantiate(this.itemNode);
                        t.active = !0, this.scrollViewLeft.content.addChild(t);
                        var i = t.getChildByName("lockItem").getChildByName("lockNode");
                        this.canLockNum > 0 ? i.active = !0 : i.active = !1, this.lockNodeList[e] = i;
                        var n = this.lockNodeList[e].getChildByName("suoNode");
                        n.active = !1, this.suoNodeList[e] = n, t.setPosition(0, 0), i.on(cc.Node.EventType.TOUCH_END, this.onClickLock.bind(this, e));
                        var o = this.model.randAttrList[e],
                            a = l.EquipConfig.getEquipConfigById(this.model.itemType),
                            s = f.RandomFuMoConfig.getRandomFuMoConfig(a, o.magicId),
                            r = (f.RandomFuMoConfig.getMagicValueByConfig(s, a.level), t.getChildByName("txtDesc").getComponent(cc.Label));
                        r.string = g.MagicNameConfig.getDesc(o.magicId) + ":" + u.default.formatMagicValue(o.magicId, o.magicValue), r.node.color = l.EquipConfig.getRandomAttColor(a, o)
                    }
                }, t.prototype.onClickLock = function(e) {
                    var t = this.lockList.indexOf(e);
                    if (-1 == t) {
                        if (this.lockList.push(e), this.suoNodeList[e].active = !0, this.lockList.length >= this.canLockNum)
                            for (var i = 0; i < this.lockNodeList.length; i++) {
                                -1 == this.lockList.indexOf(i) ? this.lockNodeList[i].active = !1 : (this.lockNodeList[i].active = !0, this.suoNodeList[i].active = !0)
                            }
                    } else if (this.suoNodeList[e].active = !1, this.lockList.splice(t, 1), this.lockList.length < this.canLockNum)
                        for (i = 0; i < this.lockNodeList.length; i++)
                            this.lockNodeList[i].active = !0;
                    this.refreshLbl()
                }, t.prototype.refreshWantAttri = function() {
                    this.scrollViewRight.content.removeAllChildren();
                    for (var e = 0; e < this.wantList.length; e++) {
                        var t = cc.instantiate(this.itemNode);
                        t.active = !0, this.scrollViewRight.content.addChild(t);
                        var i = t.getChildByName("lockItem").getChildByName("lockNode");
                        i.active = !0;
                        var n = i.getChildByName("suoNode");
                        -1 != this.lockList.indexOf(e) ? n.active = !0 : (n.active = !1, i.active = !1), t.setPosition(0, 0);
                        var o = this.wantList[e],
                            a = l.EquipConfig.getEquipConfigById(this.model.itemType),
                            s = f.RandomFuMoConfig.getRandomFuMoConfig(a, o.magicId),
                            r = (f.RandomFuMoConfig.getMagicValueByConfig(s, a.level), t.getChildByName("txtDesc").getComponent(cc.Label));
                        r.string = g.MagicNameConfig.getDesc(o.magicId) + ":" + u.default.formatMagicValue(o.magicId, o.magicValue), r.node.color = l.EquipConfig.getRandomAttColor(a, o)
                    }
                }, t.prototype.onAddEventOnly = function(e, t, i, n) {
                    void 0 === n && (n = !1);
                    var o = this.getChild(e, "" + t);
                    n && o.off("click"), o.on("click", function() {
                        i(), m.MusicHelper.play_click()
                    }.bind(this), this)
                }, t.prototype.refreshLbl = function() {
                    this.stoneAmount = this.getStoneAmount(), this.coin = this.getCoin();
                    var e = p.default.instance.getRefineStoneAmount(),
                        t = this.getChild(this.refinePanel, "pnlPanel/pnlLbl/pnlCoin/lblCoin", cc.Label);
                    t.string = this.coin + "", p.default.instance.getCoin() >= this.coin ? t.node.color = _.ColorConfig.GreenColor : t.node.color = _.ColorConfig.RedColor;
                    var i = this.getChild(this.refinePanel, "pnlPanel/pnlLbl/pnlStone/lblStone", cc.RichText);
                    e >= this.stoneAmount ? i.string = "<color=#00ff00>" + e + "</color><color=#ffffff>/" + this.stoneAmount + "</color>" : i.string = "<color=#FF0000>" + e + "</color><color=#ffffff>/" + this.stoneAmount + "</color>", this.txtNowFight.string = l.EquipConfig.getFanRenZhiLi(this.model.itemType, this.model.baseAddAttrList, this.model.randAttrList) + "", this.wantList.length > 0 ? this.txtWantFight.string = l.EquipConfig.getFanRenZhiLi(this.model.itemType, this.model.baseAddAttrList, this.wantList) + "" : this.txtWantFight.string = "0"
                }, t.prototype.getStoneAmount = function() {
                    var e = this.model.getConfig().level;
                    return E.Xilianexpendconfig.getNeedConfig(e, this.model.quality)[1] * Math.pow(2, this.lockList.length)
                }, t.prototype.getCoin = function() {
                    return E.Xilianexpendconfig.getNeedConfig(this.model.getConfig().level, this.model.quality)[0]
                }, t.prototype.onDisplay = function() {
                    this.pageType == i.TYPE_REFINE ? s.default.instance.createView(d.default.gameView.RefineRule) : this.pageType == i.TYPE_XIANJI && this.xianjiPanel.getComponent("xianjiPrefab").showXianjiRule()
                }, t.prototype.onClickRefine = function() {
                    !this.isSave && !this.isNotTips && this.wantList.length > 0 ? this.showTips(1) : this.clickingRefine || this.onRefine()
                }, t.prototype.onRefine = function() {
                    if (p.default.instance.getCoin() < this.coin)
                        b.GameConfig.platform === cc.sys.WECHAT_GAME ? k.default.getAdLostTimes(k.Ad_Type.Coin) > 0 ? s.default.instance.createView(d.default.gameView.buyMoney) : C.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : C.UIHelper.showCoinNoEnough();
                    else {
                        var e = 0,
                            t = p.default.instance.getRefineStoneAmount(),
                            i = this.stoneAmount;
                        if (t < this.stoneAmount) {
                            if (b.GameConfig.platform === cc.sys.WECHAT_GAME)
                                return void C.UIHelper.showTip("\u6d17\u7ec3\u77f3\u4e0d\u8db3");
                            var n = h.default.getConfigById(c.ItemId.REFINE);
                            if (e = (this.stoneAmount - t) * n.gem, this.useGold)
                                return i = t, p.default.instance.getGold() < e ? void C.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3") : void y.default.req_buy(3, 1, this.stoneAmount - t, 2, 1, c.ItemId.REFINE);
                            v.Logger.log("demandGold=================", e, n.gem);
                            var o = Math.floor(p.default.instance.getGold() / n.gem);
                            s.default.instance.createView(d.default.gameView.BuyShopView, null, w.default.BuyType.KuaiJieGouMai, this.stoneAmount - t, c.ItemId.REFINE, n.gem, n.gem, 1, o, function(t, i) {
                                S.default.sdkCustomAction(11, e)
                            }.bind(this))
                        } else {
                            if (!b.GameConfig.connectServer) {
                                var a = h.default.getItem(c.ItemId.REFINE);
                                e > 0 && p.default.instance.decGold(e), a && a.useArticle(i), p.default.instance.decCoin(this.coin)
                            }
                            S.default.sdkCustomAction(31, i), S.default.sdkCustomAction(18, this.coin), this.isSave = !1, this.refine(), this.refreshLbl()
                        }
                    }
                }, t.prototype.refine = function() {
                    if (b.GameConfig.connectServer) {
                        for (var e = 0; e < this.lockList.length; e++)
                            this.lockList[e]++;
                        this.clickingRefine = !0, y.default.req_fresh_equip(this.model.itemId, this.lockList);
                        for (e = 0; e < this.lockList.length; e++)
                            this.lockList[e]--
                    } else {
                        this.wantList = [];
                        var t = [],
                            i = [g.MagicNameConfig.MagicId.atk, g.MagicNameConfig.MagicId.mag, g.MagicNameConfig.MagicId.spt, g.MagicNameConfig.MagicId.def, g.MagicNameConfig.MagicId.speed, g.MagicNameConfig.MagicId.DamageReduction, g.MagicNameConfig.MagicId.BonusDamage, g.MagicNameConfig.MagicId.HpDrain, g.MagicNameConfig.MagicId.MpDrain, g.MagicNameConfig.MagicId.magic_find1, g.MagicNameConfig.MagicId.equip_times, g.MagicNameConfig.MagicId.lucky, g.MagicNameConfig.MagicId.hp, g.MagicNameConfig.MagicId.mp, g.MagicNameConfig.MagicId.atk_p, g.MagicNameConfig.MagicId.mag_p, g.MagicNameConfig.MagicId.spt_p, g.MagicNameConfig.MagicId.hp_p, g.MagicNameConfig.MagicId.mp_p];
                        for (e = 0; e < i.length; e++)
                            t[e] = 0;
                        var n = this.model.randAttrList;
                        for (e = 0; e < n.length; e++) {
                            if (-1 != this.lockList.indexOf(e)) {
                                var o = n[e];
                                this.wantList[e] = o, t[i.indexOf(o.magicId)] += 1
                            }
                        }
                        var a = l.EquipConfig.randomAddAttrList(this.model.randAttrList.length - this.lockList.length, this.model.getConfig(), t);
                        for (e = 0; e < this.wantList.length; e++)
                            this.wantList[e] || (this.wantList[e] = a.shift());
                        this.wantList = this.wantList.concat(a), this.refreshWantAttri()
                    }
                }, t.prototype.onSave = function() {
                    0 != this.wantList.length && (b.GameConfig.connectServer ? y.default.req_save_property(this.model.itemId) : (this.model.randAttrList = this.wantList, p.default.instance.updateBagEquip(this.model), p.default.saveToLocalStorage(), this.initLeftRandomAttr(), this.wantList = [], this.scrollViewRight.content.removeAllChildren()))
                }, t.prototype.onUseGold = function(e) {
                    var t = this.getChild(this.node, "panel/refinePanel/pnlBtn/btnUseGold"),
                        i = this.getChild(this.node, "panel/refinePanel/pnlBtn/btnUseGold/btn_gou");
                    this.useGold ? this.useGold = !1 : this.useGold = !0, b.GameConfig.platform == cc.sys.WECHAT_GAME && (t.active = !1), i.active = this.useGold
                }, t.prototype.onClose = function() {
                    if (this.pageType == i.TYPE_REFINE) {
                        if (!this.isSave && !this.isNotTips && this.wantList.length > 0)
                            return void this.showTips(0);
                        s.default.instance.closeView(d.default.gameView.refine)
                    } else if (this.pageType == i.TYPE_XIANJI) {
                        if (this.xianjiPanel.getComponent(T.default).xianjistate != T.default.xianji_IDLE && this.xianjiPanel.getComponent(T.default).wantList.length > 0)
                            return void this.showTips(4);
                        s.default.instance.closeView(d.default.gameView.refine)
                    }
                }, t.prototype.initTipFrame = function() {
                    var e = this,
                        t = this.getChild(this.node, "pnlTips"),
                        n = this.getChild(t, "pnlBtn");
                    this.findChild(n, "btnAgree").on(cc.Node.EventType.TOUCH_END, function() {
                        if (0 == e.showId)
                            s.default.instance.closeView(d.default.gameView.refine);
                        else if (1 == e.showId) {
                            e.onRefine();
                            var n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            e.isNotTips = n.isChecked, t.active = !1
                        } else if (2 == e.showId) {
                            n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            e.isNotTips = n.isChecked, t.active = !1, e.pageType = i.TYPE_XIANJI, e.changePage()
                        } else if (3 == e.showId) {
                            n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            t.active = !1, e.pageType = i.TYPE_REFINE, e.changePage()
                        } else
                            4 == e.showId && s.default.instance.closeView(d.default.gameView.refine)
                    }), this.findChild(n, "btnCancel").on(cc.Node.EventType.TOUCH_END, function() {
                        t.active = !1
                    })
                }, t.prototype.showTips = function(e) {
                    if (void 0 === e && (e = 1), v.Logger.log("showTips=======", e), this.pageType == i.TYPE_REFINE) {
                        if (1 == e && this.isNotTips)
                            return;
                        this.showId = e, (t = this.getChild(this.node, "pnlTips")).active = !0, t.x = 0;
                        this.getChild(t, "pnlLbl/content", cc.Label).string = "" + ["\u60a8\u8fd8\u6709\u6d17\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u6d17\u7ec3", "\u60a8\u8fd8\u6709\u6d17\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\u3002\u662f\u5426\u8981\u653e\u5f03\u5f53\u524d\u5c5e\u6027\u7ee7\u7eed\u6d17\u7ec3\uff1f", "\u60a8\u8fd8\u6709\u6d17\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u6d17\u7ec3"][e];
                        this.getChild(t, "pnlBtn");
                        this.getChild(t, "pnlBtn/tipsCheck", cc.Toggle).node.active = 0 != e && 3 != e
                    } else if (this.pageType == i.TYPE_XIANJI) {
                        var t;
                        v.Logger.log("\u5728\u732e\u796d\u6807\u7b7e\u9875====\u5173\u95ed\u9875\u9762====\u63d0\u793a====="), this.showId = e, (t = this.getChild(this.node, "pnlTips")).active = !0, t.x = 0, this.getChild(t, "pnlLbl/content", cc.Label).string = "\u60a8\u8fd8\u6709\u732e\u796d\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u732e\u796d";
                        this.getChild(t, "pnlBtn");
                        this.getChild(t, "pnlBtn/tipsCheck", cc.Toggle).node.active = !1
                    }
                }, t.TYPE_REFINE = 0, t.TYPE_XIANJI = 1, t = i = o([R], t)
            }(r.default));
        i.default = B, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ProtoConfig": "ProtoConfig",
        "../../../engine/ProtoUtils": "ProtoUtils",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/RandomFuMoConfig": "RandomFuMoConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../config/Xilianexpendconfig": "Xilianexpendconfig",
        "../../model/AdModel": "AdModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/MagicModel": "MagicModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper",
        "../BuyShopView": "BuyShopView",
        "./xianjiPrefab": "xianjiPrefab"
    }],
    RegisterView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "228ea3D2D9HQLxnOohR/M/O", "RegisterView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/Logger"),
            s = e("../../engine/ProtoConfig"),
            r = e("../../engine/ProtoUtils"),
            l = e("../../engine/ViewBase"),
            c = e("../config/ColorConfig"),
            g = e("../config/GameConfig"),
            f = e("../config/GameConst"),
            d = e("../model/RoleInfoModel"),
            h = e("../network/SocketClient"),
            u = e("../utils/NameHelper"),
            p = e("../utils/UIHelper"),
            m = e("../../engine/UIManager"),
            C = e("../config/ViewConfig"),
            v = e("../utils/MusicHelper"),
            _ = cc._decorator,
            y = _.ccclass,
            M = (_.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.selectItem = [], t.movePositionList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.pos = e + 1
                }, t.prototype.onShow = function() {
                    var e = this;
                    this.view = this.node.getChildByName("view"), this.view.getChildByName("startGame").on(cc.Node.EventType.TOUCH_END, this.oncreateRole.bind(this)), this.nameId = this.findChild(this.view, "userName/name").getComponent(cc.EditBox), this.findChild(this.view, "userName/random_btn").on(cc.Node.EventType.TOUCH_END, function() {
                        v.MusicHelper.play_click(), e.nameId.string = u.NameHelper.getName()
                    }, this), this.view.getChildByName("notity").on("click", function() {
                        v.MusicHelper.play_click(), m.default.instance.createView(C.default.gameView.notity)
                    }, this), this.view.getChildByName("break").on(cc.Node.EventType.TOUCH_END, function() {
                        v.MusicHelper.play_click(), e.closeView()
                    }, this), this.txtContent = this.findChild(this.view, "select/content").getComponent(cc.Label);
                    for (var t = 0; t < 3; t++)
                        this.selectItem.push(this.findChild(this.view, "select/" + t)), this.selectItem[t].on(cc.Node.EventType.TOUCH_END, this.onSelectItem.bind(this, t)), this.movePositionList[t] = this.selectItem[t].getPosition();
                    this.onSelectItem(0)
                }, t.prototype.onHide = function() {}, t.prototype.onSelectItem = function(e) {
                    v.MusicHelper.play_click(), 0 == e ? (this.roleType = f.GameConst.OCCUPATION.DAO_SHI, this.txtContent.string = "\u4e3b\u5bb0\u751f\u6b7b\uff0c\u795e\u517d\u76f8\u4f34\uff1b\n\u653b\u5b88\u517c\u5907\uff0cBoss\u514b\u661f\u3002") : 1 == e ? (this.roleType = f.GameConst.OCCUPATION.FA_SHI, this.txtContent.string = "\u638c\u63a7\u51b0\u706b\uff0c\u9b54\u6cd5\u738b\u8005\uff1b\n\u7fa4\u653b\u6240\u8fc7\uff0c\u5bf8\u8349\u4e0d\u751f\u3002") : (this.roleType = f.GameConst.OCCUPATION.ZHAN_SHI, this.txtContent.string = "\u8840\u539a\u9632\u9ad8\uff0c\u7269\u7406\u8f93\u51fa\uff1b\n\u77ac\u95f4\u7206\u53d1\uff0c\u4e00\u5200\u79d2\u602a\u3002");
                    for (var t = 0; t < this.selectItem.length; t++)
                        t == e ? (this.selectItem[t].color = c.ColorConfig.YellowColor, cc.tween(this.selectItem[t]).to(.2, {
                            position: this.movePositionList[0]
                        }).start()) : (this.selectItem[t].color = c.ColorConfig.WhiteColor, 0 == e && 1 == t ? (cc.tween(this.selectItem[1]).to(.2, {
                            position: this.movePositionList[1]
                        }).start(), cc.tween(this.selectItem[2]).to(.2, {
                            position: this.movePositionList[2]
                        }).start()) : 1 == e && 0 == t ? (cc.tween(this.selectItem[0]).to(.2, {
                            position: this.movePositionList[2]
                        }).start(), cc.tween(this.selectItem[2]).to(.2, {
                            position: this.movePositionList[1]
                        }).start()) : 2 == e && 0 == t && (cc.tween(this.selectItem[0]).to(.2, {
                            position: this.movePositionList[1]
                        }).start(), cc.tween(this.selectItem[1]).to(.2, {
                            position: this.movePositionList[2]
                        }).start()))
                }, t.prototype.oncreateRole = function() {
                    if (v.MusicHelper.play_click(), "" == this.nameId.string)
                        return a.Logger.log("\u8bf7\u8f93\u5165\u540d\u5b57"), void p.UIHelper.showTip("\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0!");
                    u.NameHelper.isAvailableName(this.nameId.string) ? g.GameConfig.connectServer ? h.default.req_create_role(this.roleType, this.nameId.string, this.pos) : this.closeView() : p.UIHelper.showTip("\u540d\u5b57\u542b\u6709\u975e\u6cd5\u5b57\u7b26!")
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == s.ProtoConfig.c_req_create_role) {
                        var i = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_create_role, t);
                        a.Logger.log("c_req_create_role==", i), d.default.proto2BaseModel(i.getBaseRoleInfo()), this.closeView()
                    }
                }, t = o([y], t)
            }(l.default));
        i.default = M, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/NameHelper": "NameHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    ResModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "9b39f5NDLdKFZm3bR5b4n2l", "ResModel"), cc._RF.pop()
    }, {}],
    ResourcesManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "14cf3rEBxVEnqdg1ay9XxuI", "ResourcesManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = function() {
                return function(e, t, i, n, o) {
                    this.path = e, this.callback = t, this.state = 0, this.taret = i, this.clipName = n, this.type = o
                }
            }(),
            a = function() {
                function e() {
                    this.loadingPrefabTaskList = [], this.loadingPrefabState = 0
                }
                return e.prototype.addTaskPrefab = function(e, t, i) {
                    this.loadingPrefabTaskList.push(new o(e, t, i, "", cc.Node)), this.loadPrefabTask()
                }, e.prototype.loadPrefabTask = function() {
                    var e = this;
                    if (1 != this.loadingPrefabState && this.loadingPrefabTaskList.length > 0) {
                        this.loadingPrefabState = 1;
                        var t = this.loadingPrefabTaskList[0];
                        cc.loader.loadRes(t.path, function(i, n) {
                            null == i ? t.callback.call(t.taret, n) : console.warn("loadPrefabTask error=", i), e.loadingPrefabTaskList.shift(), e.loadingPrefabState = 0, e.loadPrefabTask()
                        })
                    }
                }, e.prototype.loadSprite = function(e, t) {
                    cc.loader.loadRes(t, cc.SpriteFrame, function(i, o) {
                        i ? n.Logger.warn("loadSprite error===", t) : e.spriteFrame = o
                    })
                }, e.instance = new e, e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "./Logger": "Logger"
    }],
    ReviveView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ad94cgjUtNDaJJKArh0gqlh", "ReviveView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/MusicHelper"),
            r = e("../model/RoleInfoModel"),
            l = e("../../engine/EventManager"),
            c = e("../event/CommonEvent"),
            g = e("../config/MapConfig"),
            f = e("../sdk/SdkHelper"),
            d = e("../network/SocketClient"),
            h = e("../config/GameConfig"),
            u = e("../miniGameTools/tttool"),
            p = e("../utils/UIHelper"),
            m = e("../../engine/Logger"),
            C = cc._decorator,
            v = C.ccclass,
            _ = (C.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.yuanBao = 0, t.needbao = 20, t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.findChild(this.node, "view/panel/close").on(cc.Node.EventType.TOUCH_END, this.onClickClose.bind(this)), this.findChild(this.node, "view/panel/brack").on(cc.Node.EventType.TOUCH_END, this.onClickClose.bind(this)), this.findChild(this.node, "view/panel/btnRevive").on(cc.Node.EventType.TOUCH_END, this.onClickLocalRevive.bind(this)), this.findChild(this.node, "view/panel/btn_Revive_v").on(cc.Node.EventType.TOUCH_END, this.onClickLocalRevive.bind(this))
                }, t.prototype.onShow = function() {
                    h.GameConfig.platform === cc.sys.WECHAT_GAME && (this.findChild(this.node, "view/panel/btnRevive").active = !1, this.findChild(this.node, "view/panel/btnRevive/gold").active = !1, this.findChild(this.node, "view/panel/btn_Revive_v").active = !0)
                }, t.prototype.onEnable = function() {
                    l.EventManager.instance.on(c.CommonEvent.Event_Buy_Suc, this.onBuySuc, this), h.GameConfig.platform === cc.sys.WECHAT_GAME && l.EventManager.instance.on(c.CommonEvent.Event_ad_end, this.onBuySuc, this)
                }, t.prototype.onHide = function() {}, t.prototype.onClickLocalRevive = function() {
                    s.MusicHelper.play_click(), h.GameConfig.platform === cc.sys.WECHAT_GAME ? u.tttool.OpenAD() : r.default.instance.getGold() >= this.needbao ? (f.default.sdkCustomAction(12, this.needbao), d.default.req_buy(6, 1, 1, 1, 1, "")) : p.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3")
                }, t.prototype.onBuySuc = function() {
                    6 == d.default.nowbuyType && (this.node.active = !1, r.default.instance.revive(), l.EventManager.instance.dispatch(c.CommonEvent.Event_RoleRevive))
                }, t.prototype.onClickClose = function() {
                    s.MusicHelper.play_click(), this.node.active = !1;
                    var e = g.MapConfig.getMapIdByPositonAndWorld(g.MapConfig.curMapConfig.reborn, g.MapConfig.curMapConfig.world);
                    m.Logger.log("\u590d\u6d3b===", e), r.default.instance.switchMap(!0, e.mapId)
                }, t = o([v], t)
            }(a.default));
        i.default = _, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/MapConfig": "MapConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    RoleInfoModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "9f00c/FFglE/JU4scUnkN3/", "RoleInfoModel");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("../../engine/EventManager"),
            a = e("../../engine/LocalStorage"),
            s = e("../../engine/Logger"),
            r = e("../config/EquipConfig"),
            l = e("../config/GameConfig"),
            c = e("../config/GameConst"),
            g = e("../config/HeroConfig"),
            f = e("../config/ITemsConfig"),
            d = e("../config/JingJieConfig"),
            h = e("../config/MagicNameConfig"),
            u = e("../config/MapConfig"),
            p = e("../config/SkillConfig"),
            m = e("../event/CommonEvent"),
            C = e("../network/SocketClient"),
            v = e("../utils/MusicHelper"),
            _ = e("../utils/UIHelper"),
            y = e("./AdModel"),
            M = e("./BossModel"),
            I = e("./EquipGridModel"),
            b = e("./ItemInfoModel"),
            L = e("./JingJieModel"),
            w = e("./MagicModel"),
            S = e("./MakeEquipModel"),
            E = e("./PrivilegeModel"),
            k = e("./ServerTime"),
            T = e("./SettingModel"),
            N = e("./SkillModel"),
            R = e("../config/BagConfig"),
            B = e("./FightModel"),
            P = e("../config/WordConfig"),
            A = e("../../engine/UIManager"),
            O = e("../config/ViewConfig"),
            x = e("../../engine/SafeDataModelBase"),
            V = e("../sdk/SdkHelper"),
            U = e("./SkillEffectModel"),
            H = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.hpKey = "hp", t.mpKey = "mp", t.hp = 0, t.mp = 0, t.coin = 0, t.exp = 0, t.yuanBao = 0, t.cream = 0, t.privilegeList = [], t.skillModelList = [], t.itemInfoList = [], t.equipGridList = [], t.jingJieList = [], t.attrList = [], t.blessList = [], t.shenBinList = [], t.maxServerBagNum = 198, t.bagAMount = 0, t.bagRemainingnumber = 0, t.bagModelList = [], t.switchingMapId = -1, t.isInitBag = !1, t.last_off_line_time = 0, t.off_line_exp = 0, t.off_line_coin = 0, t.off_line_cream = 0, t.off_line_need_gold = 0, t.has_reward = 0, t
                }
                return n(t, e), t.prototype.getBagHadItemNum = function() {
                    for (var e = 0, t = 0; t < this.bagModelList.length; t++)
                        this.bagModelList[t] && e++;
                    return e
                }, Object.defineProperty(t.prototype, "AttackType", {
                    get: function() {
                        return ["", "\u653b\u51fb", "\u9b54\u6cd5", "\u9053\u672f"][this.occupation || 1]
                    },
                    enumerable: !0,
                    configurable: !0
                }), t.prototype.getEquipBaseAttack = function() {
                    for (var e = 0, t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        if (i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0)
                            e += r.EquipConfig.getEquipConfigById(i.itemType).atk
                    }
                    return e
                }, t.prototype.getEquipBaseHp = function() {
                    for (var e = 0, t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        if (i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0)
                            e += r.EquipConfig.getEquipConfigById(i.itemType).hp
                    }
                    return e
                }, t.prototype.getEquipBaseMag = function() {
                    for (var e = 0, t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        if (i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0)
                            e += r.EquipConfig.getEquipConfigById(i.itemType).mag
                    }
                    return e
                }, t.prototype.getEquipBaseSpt = function() {
                    for (var e = 0, t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        if (i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0)
                            e += r.EquipConfig.getEquipConfigById(i.itemType).spt
                    }
                    return e
                }, t.prototype.getEquipBaseDef = function() {
                    for (var e = 0, t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        if (i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0)
                            e += r.EquipConfig.getEquipConfigById(i.itemType).def
                    }
                    return e
                }, t.prototype.getEquipAdd = function(e) {
                    for (var t = 0, i = 0; i < this.itemInfoList.length; i++) {
                        var n = this.itemInfoList[i];
                        if (n.itemKind == c.GameConst.ITEM_KIND.EQUIP && n.gridId >= 0) {
                            for (var o = 0; o < n.baseAddAttrList.length; o++) {
                                if (s = n.baseAddAttrList[o])
                                    for (var a = 0; a < e.length; a++)
                                        s.magicId == e[i] && (t += s.magicValue)
                            }
                            for (o = 0; o < n.randAttrList.length; o++) {
                                var s;
                                if (s = n.randAttrList[o])
                                    for (a = 0; a < e.length; a++)
                                        s.magicId == e[i] && (t += s.magicValue)
                            }
                        }
                    }
                    return t
                }, t.prototype.recoveryEquipList = function(e) {
                    for (var i = new Array, n = this.itemInfoList.length - 1; n >= 0; n--)
                        for (var o = this.itemInfoList[n], a = 0; a < e.length; a++) {
                            var s = e[a];
                            o.itemKind == c.GameConst.ITEM_KIND.EQUIP && o.itemId == s.itemId && i.push(b.DecItemParamStruct.create(o.itemId, 1, -1))
                        }
                    b.default.decItems(i, t.instance)
                }, t.prototype.getShowEquip = function(e, t, i) {
                    void 0 === t && (t = !0), void 0 === i && (i = Number.MAX_VALUE);
                    var n = {
                        count: 0,
                        price: 0,
                        cream: 0,
                        equipList: []
                    };
                    if (i <= 0)
                        return n;
                    for (var o = 0; o < this.itemInfoList.length; o++) {
                        var a = this.itemInfoList[o];
                        if (a.itemKind == c.GameConst.ITEM_KIND.EQUIP && a.quality == e && 0 == a.isLock && a.gridId < 0) {
                            var s = r.EquipConfig.getEquipConfigById(a.itemType);
                            if (0 == t && (s.pro == c.GameConst.OCCUPATION.None || s.pro == this.occupation))
                                continue;
                            if (n.count += 1, s.price && (n.price += parseInt(s.price[e].split(":")[1])), s.recov_cream && (n.cream += parseInt(s.recov_cream[e].split(":")[1])), n.equipList.push(a), n.count >= i)
                                break
                        }
                    }
                    return n
                }, t.prototype.getEquipAddPercent = function(e) {
                    return this.getEquipAdd(e)
                }, t.prototype.getCommonProperty = function(e) {
                    return 0
                }, t.prototype.getAttack = function() {
                    return 99999;
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.atk) + this.getCommonProperty(1);
                        return e = Math.ceil(e)
                    }
                    e = g.HeroConfig.getMyHeroConfig().atk + this.getEquipBaseAttack();
                    var t = this.getEquipAdd([h.MagicNameConfig.MagicId.atk, h.MagicNameConfig.MagicId.Allstat]);
                    return this.occupation == c.GameConst.OCCUPATION.ZHAN_SHI && (t += I.EquipGridModel.getEquipGridAddAllstat()), e += t, e *= this.getEquipAddPercent([h.MagicNameConfig.MagicId.atk_p]) + 1, e = Math.ceil(e)
                }, t.prototype.getMofa = function() {
                    return 99999;
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.mag) + this.getCommonProperty(2);
                        return e = Math.ceil(e)
                    }
                    e = g.HeroConfig.getMyHeroConfig().mag + this.getEquipBaseMag();
                    var t = this.getEquipAdd([h.MagicNameConfig.MagicId.mag, h.MagicNameConfig.MagicId.Allstat]);
                    return this.occupation == c.GameConst.OCCUPATION.FA_SHI && (t += I.EquipGridModel.getEquipGridAddAllstat()), e += t, e *= this.getEquipAddPercent([h.MagicNameConfig.MagicId.mag_p]) + 1, e = Math.ceil(e)
                }, t.prototype.getDaoShu = function() {
                    return 99999;
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.spt) + this.getCommonProperty(3);
                        return e = Math.ceil(e)
                    }
                    e = g.HeroConfig.getMyHeroConfig().spt + this.getEquipBaseSpt();
                    var t = this.getEquipAdd([h.MagicNameConfig.MagicId.spt, h.MagicNameConfig.MagicId.Allstat]);
                    return this.occupation == c.GameConst.OCCUPATION.DAO_SHI && (t += I.EquipGridModel.getEquipGridAddAllstat()), e += t, e *= this.getEquipAddPercent([h.MagicNameConfig.MagicId.spt_p]) + 1, e = Math.ceil(e)
                }, t.prototype.getHp = function() {
                    var e = this.getNumber(this.hpKey);
                    return this.hp = e, e
                }, t.prototype.getMp = function() {
                    var e = this.getNumber(this.mpKey);
                    return this.mp = e, this.mp
                }, t.prototype.getMaxHp = function() {
                    if (l.GameConfig.connectServer)
                        return e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.maxHp);
                    var e = g.HeroConfig.getMyHeroConfig().hp + this.getEquipBaseHp();
                    e += this.getEquipAdd([h.MagicNameConfig.MagicId.hp]);
                    var t = this.getEquipAddPercent([h.MagicNameConfig.MagicId.hp_p]);
                    return e *= (t += I.EquipGridModel.getHpPercent()) + 1, e = Math.ceil(e)
                }, t.prototype.addHp = function(e) {
                    if (e > 0) {
                        this.hp = this.getHp();
                        var i = Math.min(this.getMaxHp() - this.hp, e);
                        this.hp += i, this.setNumber(this.hpKey, this.hp), t.saveToLocalStorage()
                    }
                }, t.prototype.decHp = function(e) {
                    e > 0 && (this.hp = this.getHp(), this.hp = Math.max(this.hp - e, 0), this.setNumber(this.hpKey, this.hp), t.saveToLocalStorage())
                }, t.prototype.addMp = function(e) {
                    if (e > 0) {
                        var i = Math.min(this.getMaxMp() - this.mp, e);
                        this.mp += i, this.setNumber(this.mpKey, this.mp), t.saveToLocalStorage()
                    }
                }, t.prototype.getMaxMp = function() {
                    if (l.GameConfig.connectServer)
                        return e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.maxMp);
                    var e = g.HeroConfig.getMyHeroConfig().mp;
                    e += this.getEquipAdd([h.MagicNameConfig.MagicId.mp]);
                    var t = this.getEquipAddPercent([h.MagicNameConfig.MagicId.mp_p]);
                    return e *= (t += I.EquipGridModel.getMpPercent()) + 1, e = Math.ceil(e)
                }, t.prototype.decMp = function(e) {
                    e > 0 && (this.mp = this.getMp(), this.mp = Math.max(this.mp - e, 0), this.setNumber(this.mpKey, this.mp), t.saveToLocalStorage())
                }, t.prototype.getDefend = function() {
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.def);
                        return e = Math.ceil(e)
                    }
                }, t.prototype.getAttackSpeed = function() {
                    return 99999;
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.speed);
                        return "ub22985300241zg" == V.default.uId && (e += 1e3), e
                    }
                    var t = g.HeroConfig.getMyHeroConfig().atSpeed;
                    return t += this.getEquipAdd([h.MagicNameConfig.MagicId.speed]), t = Math.ceil(t)
                }, t.prototype.getLucky = function() {
                    return 99999;
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.lucky);
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.lucky]), e = Math.ceil(e)
                }, t.prototype.getGuDingShangHai = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.BonusDamage);
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.BonusDamage]), e = Math.ceil(e)
                }, t.prototype.getGuDingJianShang = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.DamageReduction) * (1 + this.getBonusDamageeffect_p());
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.DamageReduction]), e = Math.ceil(e)
                }, t.prototype.getShangHaiZengJia = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.BonusDamage_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.BonusDamage_p]), e *= I.EquipGridModel.getShangHaiZengJiaPercent() + 1, e = Math.ceil(e)
                }, t.prototype.getShangHaiJianMian = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.DamageReduction_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.DamageReduction_p]), e *= I.EquipGridModel.getShangHaiJianMianPercent() + 1, e = Math.ceil(e)
                }, t.prototype.getShengMingXiQu = function() {
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.HpDrain) * (1 + this.getHpDraineffect_p());
                        return e = Math.ceil(e)
                    }
                    e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.HpDrain]), e = Math.ceil(e)
                }, t.prototype.getFaLiXiQu = function() {
                    return 99999;
                    if (l.GameConfig.connectServer) {
                        var e = w.default.getMagicValueByList(h.MagicNameConfig.MagicId.MpDrain);
                        return e = Math.ceil(e)
                    }
                    e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.MpDrain]), e = Math.ceil(e)
                }, t.prototype.getJinPiGaiLv = function() {
                    return 99999;
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.magic_find1) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.magic_find1])
                }, t.prototype.getZhuangBeiDiaoLv = function() {
                    return 99999;
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.equip_times) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.equip_times])
                }, t.prototype.getHpDraineffect_p = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.HpDraineffect_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.HpDraineffect_p])
                }, t.prototype.getBonusDamageeffect_p = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.BonusDamageeffect_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.BonusDamageeffect_p])
                }, t.prototype.getpetspeed = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.petspeed);
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.petspeed])
                }, t.prototype.getpetdamage = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.petdamage);
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.petdamage])
                }, t.prototype.getpetdamage_p = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.petdamage_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.petdamage_p])
                }, t.prototype.getignoredef_p = function() {
                    if (l.GameConfig.connectServer)
                        return w.default.getMagicValueByList(h.MagicNameConfig.MagicId.ignoredef_p) / 1e4;
                    var e = 0;
                    return e += this.getEquipAdd([h.MagicNameConfig.MagicId.ignoredef_p])
                }, t.prototype.getEquipGridList = function() {
                    return this.equipGridList
                }, t.prototype.getEquipList = function() {
                    for (var e = [], t = 0; t < this.itemInfoList.length; t++) {
                        var i = this.itemInfoList[t];
                        i.itemKind == c.GameConst.ITEM_KIND.EQUIP && i.gridId >= 0 && e.push(i)
                    }
                    return e
                }, t.prototype.getEquipModelByGrid = function(e) {
                    for (var t = this.getEquipList(), i = 0; i < t.length; i++) {
                        var n = t[i];
                        if (n.gridId == e)
                            return n
                    }
                }, t.prototype.getGold = function() {
                    return this.yuanBao
                }, t.prototype.addGold = function(e) {
                    return "number" == typeof e && (this.yuanBao += e, t.saveToLocalStorage()), !1
                }, t.prototype.decGold = function(e) {
                    if ("number" == typeof e) {
                        var i = void 0;
                        return this.yuanBao < e ? _.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3!") : (this.yuanBao -= e, i = !0, t.saveToLocalStorage()), i
                    }
                    return !1
                }, t.prototype.getSkillDrug = function() {
                    return this.getItemAmount("I3004")
                }, t.prototype.getCoin = function() {
                    return this.coin
                }, t.prototype.addCoin = function(e, i) {
                    return void 0 === i && (i = !0), "number" == typeof e && (this.coin += e, i && _.UIHelper.showTip("\u83b7\u5f97\u91d1\u5e01" + e), t.saveToLocalStorage(), this.coin)
                }, t.prototype.decCoin = function(e) {
                    if ("number" == typeof e) {
                        var i = void 0;
                        return this.coin < e ? l.GameConfig.platform === cc.sys.WECHAT_GAME ? y.default.getAdLostTimes(y.Ad_Type.Coin) > 0 ? A.default.instance.createView(O.default.gameView.buyMoney) : _.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : _.UIHelper.showCoinNoEnough() : (this.coin -= e, i = !0, t.saveToLocalStorage()), i
                    }
                    return !1
                }, t.prototype.addCream = function(e, i) {
                    return void 0 === i && (i = !0), this.cream += e, i && _.UIHelper.showTip("\u83b7\u5f97\u7cbe\u534e" + e), t.saveToLocalStorage(), this.cream
                }, t.prototype.decCream = function(e) {
                    var i;
                    return this.cream < e ? _.UIHelper.showTip("\u7cbe\u534e\u4e0d\u8db3!") : (this.cream -= e, i = !0, t.saveToLocalStorage()), i
                }, t.prototype.getCream = function() {
                    return this.cream
                }, t.prototype.getOccupationName = function() {
                    return c.GameConst.OccupationNameMap.get(this.occupation)
                }, t.prototype.levelUp = function(e) {
                    void 0 === e && (e = !0);
                    var i = g.HeroConfig.myHeroConfig,
                        n = g.HeroConfig.getNextHeroConfig();
                    t.instance.getExp() >= i.exp ? this.level < g.HeroConfig.getMyMaxLevel() ? (l.GameConfig.connectServer ? (C.default.req_lev_up(), g.HeroConfig.myHeroConfig = n) : (this.level += 1, this.decExp(i.exp)), v.MusicHelper.play_lvup(), t.saveToLocalStorage()) : e && _.UIHelper.showTip("\u7b49\u7ea7\u5df2\u8fbe\u5230\u4e0a\u9650!") : e && (t.instance.level < 30 ? _.UIHelper.showTip("30\u7ea7\u4e4b\u540e\u53ef\u624b\u52a8\u8fdb\u884c\u5347\u7ea7!") : _.UIHelper.showTip("\u7ecf\u9a8c\u4e0d\u8db3!"))
                }, t.prototype.getExp = function() {
                    return this.exp
                }, t.prototype.addExp = function(e) {
                    return this.exp += e, this.level < 30 && this.levelUp(!1), t.saveToLocalStorage(), e
                }, t.prototype.decExp = function(e) {
                    var i;
                    return this.exp < e ? _.UIHelper.showTip("\u7ecf\u9a8c\u4e0d\u8db3!") : (this.exp -= e, i = !0, t.saveToLocalStorage()), i
                }, t.prototype.addEquipByPosition = function(e, t) {
                    var i = r.EquipConfig.getGridTypeByPart(e, !0);
                    if (e == c.Position.RING || e == c.Position.BRACELET || e == c.Position.RING_lunhui || e == c.Position.BRACELET_lunhui) {
                        var n = this.getEquipModelByGrid(i);
                        if (n) {
                            var o = r.EquipConfig.getGridTypeByPart(e, !1);
                            (n = this.getEquipModelByGrid(o)) || (i = o)
                        }
                    }
                    return this.addEquip(i, t)
                }, t.prototype.addEquip = function(e, i) {
                    for (var n = 0; n < this.itemInfoList.length; n++) {
                        var a = this.itemInfoList[n];
                        if (a.itemKind == c.GameConst.ITEM_KIND.EQUIP && a.itemId == i) {
                            var s = a.getConfig();
                            return s.world == u.MapConfig.WORLD.FanRen && s.level > t.instance.level ? (_.UIHelper.showTip("\u7b49\u7ea7\u4e0d\u591f\uff01"), c.ADD_EQ.NOT_LEVEL) : s.world == u.MapConfig.WORLD.LunHui && L.JingJieModel.getMyLunHuiJingLevel() < s.reborn ? (_.UIHelper.showTip("\u5883\u754c\u4e0d\u8db3!"), c.ADD_EQ.NOT_LEVEL) : s.pro != c.GameConst.OCCUPATION.None && s.pro != t.instance.occupation ? (_.UIHelper.showTip("\u804c\u4e1a\u4e0d\u7b26"), c.ADD_EQ.NOT_PRO) : (t.saveToLocalStorage(), l.GameConfig.connectServer && C.default.req_equip(a.itemId, e, 1), o.EventManager.instance.dispatch(m.CommonEvent.Event_JingJie_Change, s.world), c.ADD_EQ.SUCCESS)
                        }
                    }
                }, t.prototype.removeEquip = function(e) {
                    for (var i = 0; i < this.itemInfoList.length; i++) {
                        var n = this.itemInfoList[i];
                        if (n.itemKind == c.GameConst.ITEM_KIND.EQUIP && n.gridId == e) {
                            C.default.req_equip(n.itemId, n.gridId, 2);
                            break
                        }
                    }
                    t.saveToLocalStorage()
                }, t.prototype.addResList = function(e) {
                    for (var i = 0; i < e.length; i++) {
                        var n = e[i].getK(),
                            o = e[i].getV();
                        n == c.GameConst.RES_TYPE.COIN ? this.coin = o : n == c.GameConst.RES_TYPE.CREAM ? this.cream = o : n == c.GameConst.RES_TYPE.EXP ? this.exp = o : n == c.GameConst.RES_TYPE.YUAN_BAO && (this.yuanBao = o)
                    }
                    t.saveToLocalStorage()
                }, t.prototype.switchMap = function(e, i) {
                    if (void 0 === e && (e = !0), void 0 === i && (i = 1), e) {
                        if (i == this.mapId || -1 == i)
                            return;
                        var n = u.MapConfig.getMapConfigByMapId(i);
                        if (B.default.maxFight < n.Lv) {
                            var a = P.WordConfig.getWord(60130);
                            return a = a.replace("[#]", n.Lv + ""), void _.UIHelper.showTip(a)
                        }
                        o.EventManager.instance.dispatch(m.CommonEvent.Event_SwitchMapStart), this.switchingMapId = i, l.GameConfig.connectServer ? C.default.req_switch_map(i) : this.switchMap(!1)
                    } else {
                        this.mapId = this.switchingMapId, this.switchingMapId = -1;
                        var s = u.MapConfig.curMapConfig;
                        u.MapConfig.curMapConfig = u.MapConfig.getMapConfigByMapId(t.instance.mapId), t.saveToLocalStorage(), o.EventManager.instance.dispatch(m.CommonEvent.Event_ChangeWorld), o.EventManager.instance.dispatch(m.CommonEvent.Event_SwitchMapSuc), s.world != u.MapConfig.curMapConfig.world && (u.MapConfig.curJingJieIndex = u.MapConfig.curMapConfig.world == u.MapConfig.WORLD.FanRen ? 0 : 1, _.UIHelper.showTip("\u6210\u529f\u8fdb\u5165" + L.JingJieModel.jingJieNameConfig[u.MapConfig.curMapConfig.world - 1]), o.EventManager.instance.dispatch(m.CommonEvent.Event_JingJie_Change, u.MapConfig.curMapConfig.world), A.default.instance.isOpen(O.default.gameView.ChangeWorldGiftView) && A.default.instance.closeView(O.default.gameView.ChangeWorldGiftView))
                    }
                }, t.prototype.changeWorld = function(e) {
                    if (u.MapConfig.curMapConfig.world != e)
                        if (!L.JingJieModel.hadOpenJingJie(e) && e > 1)
                            _.UIHelper.showTip("\u8bf7\u524d\u5f80\u3010\u5883\u754c\u3011\u7cfb\u7edf\u5f00\u542f" + L.JingJieModel.jingJieNameConfig[e - 1] + "!");
                        else {
                            var i = u.MapConfig.curMapConfig,
                                n = u.MapConfig.getMapIdByPositonAndWorld(i.position, e);
                            t.instance.switchMap(!0, n.mapId)
                        }
                }, t.prototype.getSkillList = function() {
                    return this.skillModelList
                }, t.prototype.getSkillModel = function(e, t) {
                    void 0 === t && (t = !1);
                    for (var i = null, n = 0; n < this.skillModelList.length; n++) {
                        var o = this.skillModelList[n];
                        o.id == e && (i = o)
                    }
                    return !i && t && ((i = new N.SkillModel).id = e, i.exp = 0, i.level = 1, i.isActive = !1, i.lastUseTIme = 0), i
                }, t.prototype.useSkillDan = function(e) {
                    void 0 === e && (e = 1), this.useItem(e, "I3004")
                }, t.prototype.getPageAmount = function() {
                    return this.getItemAmount("I4001")
                }, t.prototype.getRurioAmount = function() {
                    return this.getItemAmount("I3003")
                }, t.prototype.getRefineStoneAmount = function() {
                    return this.getItemAmount("I3001")
                }, t.prototype.getChuiLianStoneAmount = function() {
                    return this.getItemAmount("I3903")
                }, t.prototype.useItem = function(e, i) {
                    void 0 === e && (e = 1);
                    var n = b.default.getItem("" + i);
                    n && (b.default.decItem(n.itemId, e), t.saveToLocalStorage())
                }, t.prototype.getItemAmount = function(e) {
                    var t = b.default.getItem("" + e);
                    return t && t.itemCnt || 0
                }, t.prototype.canUseYinShen = function() {
                    for (var e = this.getBeiDongSkillList(), t = 0; t < e.length; t++) {
                        var i = e[t];
                        if (i.skillId == p.SkillConfig.SkillIdConfig.YinShen)
                            return i
                    }
                }, t.prototype.getBeiDongSkillList = function() {
                    for (var e = k.ServerTime.getServerTime(), t = [], i = 0; i < this.skillModelList.length; i++) {
                        var n = this.skillModelList[i],
                            o = p.SkillConfig.getSkillConfigById(n.id, n.level),
                            a = (e - n.lastUseTIme) / 1e3;
                        a <= 0 && (a = 0), n.isActive && o.type == p.SkillConfig.SkillType.BeiDong && (a >= o.cd || 0 == o.cd) && t.push(o)
                    }
                    return t.sort(function(e, t) {
                        return e.weight - t.weight
                    }), t
                }, t.prototype.updateSkill = function(e, i, n, o, a, s) {
                    void 0 === i && (i = 1), void 0 === n && (n = !0), void 0 === o && (o = 0), void 0 === a && (a = t.instance), void 0 === s && (s = !0);
                    var r = this.getSkillModel(e),
                        l = p.SkillConfig.getSkillConfigById(e, 1);
                    if (r)
                        1 != i && (r.level = i), 0 != o && (r.exp = o);
                    else {
                        if (a.occupation != l.role)
                            return !1;
                        (r = new N.SkillModel).id = e, r.level = i, r.exp = o, r.isActive = n, r.isSelect = s, this.skillModelList.push(r)
                    }
                    return t.saveToLocalStorage(), !0
                }, t.prototype.upSkill = function(e) {
                    if (l.GameConfig.connectServer)
                        C.default.req_skill_lev_up(e);
                    else {
                        var i = this.getSkillModel(e);
                        i.level++, i.exp = 0, t.saveToLocalStorage()
                    }
                }, t.prototype.autoDrug = function(e) {
                    var t,
                        i,
                        n = T.SettingModel.drugCdown;
                    if (n || (T.SettingModel.drugCdown = [0, 0, 0, 0]), n[e] || (n[e] = 0), n[e] > 0)
                        return 0;
                    var o = [T.SettingModel.drugHp, T.SettingModel.drugMp, T.SettingModel.drugHighHp, T.SettingModel.drugHighMp],
                        a = b.default.getItem(o[e]);
                    if (!a || a.itemCnt <= 0)
                        return 0;
                    i = a.getConfig(), t = this.useDrug(i);
                    var s = 1e3 * i.magic_value[1] || 3e3;
                    return T.SettingModel.drugCdown[e] = s, 0 != t && setTimeout(function() {
                        T.SettingModel.drugCdown[e] = 0
                    }, s), 0 !== t && (l.GameConfig.connectServer ? C.default.req_use_item(a.itemId, 1) : this.useItem(1, a.itemType)), t
                }, t.prototype.useDrug = function(e) {
                    var i = 0;
                    return t.instance.level >= e.level ? (i = e.magic_value[2] ? e.magic_value[0] + t.instance.getMaxHp() * e.magic_value[2] / 1e4 : e.magic_value[0], i = Math.ceil(i), s.Logger.log("\u5403\u836f===", i, e), i) : 0
                }, t.prototype.getBagItemWithKind = function(e) {
                    for (var t = [], i = 0; i < this.itemInfoList.length; i++)
                        this.itemInfoList[i].itemKind == e && t.push(this.itemInfoList[i]);
                    return t
                }, t.prototype.getJingJieModel = function(e) {
                    for (var t = 0; t < this.jingJieList.length; t++) {
                        var i = this.jingJieList[t];
                        if (i.jingJieId == e)
                            return i
                    }
                }, t.prototype.openJingJie = function(e) {
                    var i = t.instance.getJingJieModel(e);
                    if (!i) {
                        var n = d.JingJieConfig.getJingJieConfig(e);
                        if (n) {
                            var o = !0;
                            if (n.condition)
                                for (var a = 0; a < n.condition.length; a++) {
                                    var s = n.condition[a];
                                    if (s.level && s.level > t.instance.level) {
                                        o = !1;
                                        break
                                    }
                                }
                            o && ((i = new L.JingJieModel).jingJieId = e, i.level = 0, this.jingJieList.push(i))
                        }
                    }
                    return i
                }, t.initRoleInfoByLocalStorage = function() {
                    var e = a.default.getItem(this.defaultLocalKey);
                    if (this.roleList = [], e)
                        for (var i = JSON.parse(e), n = 0; n < i.length; n++) {
                            var o = i[n],
                                r = new t;
                            for (var l in o)
                                r[l] = o[l], "itemInfoList" == l ? r.itemInfoList = b.default.deserializeBinaryToModelList(o.itemInfoList) : "bagModelList" == l ? r.bagModelList = b.default.deserializeBinaryToModelList(o.bagModelList) : "jingJieList" == l ? r.jingJieList = L.JingJieModel.deserializeBinaryToModelList(o.jingJieList) : "equipGridList" == l ? r.equipGridList = I.EquipGridModel.deserializeBinaryToModelList(o.equipGridList) : "skillModelList" == l ? r.skillModelList = N.SkillModel.deserializeBinaryToModelList(o.skillModelList) : "privilegeList" == l && (r.privilegeList = E.default.deserializeBinaryToModelList(o.privilegeList));
                            this.roleList[n] = r
                        }
                    s.Logger.log("initRoleInfoByLocalStorage===roleListObj=", this.roleList)
                }, t.prototype.revive = function() {
                    this.hp = this.getMaxHp(), this.setNumber(this.hpKey, this.hp), this.mp = this.getMaxMp(), this.setNumber(this.mpKey, this.mp)
                }, t.prototype.isFullBag = function() {
                    return 0 == this.bagRemainingnumber
                }, t.prototype.calculateGridCount = function(e, t) {
                    return Math.ceil(e / t)
                }, t.prototype.getAddItemMaxNum = function(e) {
                    var t = f.ITemsConfig.getITemsConfigById(e.itemType),
                        i = 0;
                    if (t && t.stack == f.ITemsConfig.StackType.Yes) {
                        i = this.bagRemainingnumber * t.max_stack;
                        for (var n = 0, o = 0; o < this.bagModelList.length; o++)
                            this.bagModelList[o] && this.bagModelList[o].itemType == e.itemType && (n += t.max_stack - this.bagModelList[o].itemCnt);
                        return e.itemCnt <= i + n ? e.itemCnt : i + n
                    }
                    return i = this.bagRemainingnumber, e.itemCnt <= i ? e.itemCnt : i
                }, t.prototype.getNeedGridCount = function(e) {
                    var t = 0,
                        i = f.ITemsConfig.getITemsConfigById(e.itemType);
                    if (i && i.stack == f.ITemsConfig.StackType.Yes) {
                        var n = b.default.getItem(e.itemType, e.role);
                        if (n)
                            t = this.calculateGridCount(n.itemCnt + e.itemCnt, i.max_stack) - this.calculateGridCount(n.itemCnt, i.max_stack);
                        else
                            t = this.calculateGridCount(e.itemCnt, i.max_stack)
                    } else
                        t = e.itemCnt;
                    return this.bagRemainingnumber < t ? -1 : t
                }, t.prototype.tryAddItemsToBag = function(e) {
                    if (0 == e.length)
                        return !0;
                    var t = e[e.length - 1],
                        i = this.getNeedGridCount(t);
                    if (-1 != i) {
                        e.pop();
                        var n = b.default.addItemToData(t);
                        this.bagRemainingnumber -= i;
                        var o = this.tryAddItemsToBag(e);
                        return this.bagRemainingnumber += i, b.default.decItemToData(n.itemId, t.itemCnt, this), e.push(t), o
                    }
                    return !1
                }, t.prototype.addItemToBag = function(e, t) {
                    if (void 0 === t && (t = 0), !(e.gridId >= 0)) {
                        var i = f.ITemsConfig.getITemsConfigById(e.itemType);
                        if (i && i.stack == f.ITemsConfig.StackType.Yes) {
                            for (var n = 0; n < this.bagModelList.length; n++)
                                if (this.bagModelList[n] && this.bagModelList[n].itemType == e.itemType) {
                                    if (this.bagModelList[n].itemCnt += t, this.bagModelList[n].isNew = !0, !(this.bagModelList[n].itemCnt > i.max_stack)) {
                                        t = 0;
                                        break
                                    }
                                    t = this.bagModelList[n].itemCnt - i.max_stack, this.bagModelList[n].itemCnt = i.max_stack
                                }
                            if (0 != t)
                                for (n = 0; n < this.bagModelList.length; n++)
                                    if (!this.bagModelList[n]) {
                                        var o = e.clone();
                                        if (i.max_stack < t ? (o.itemCnt = i.max_stack, t -= i.max_stack) : (o.itemCnt = t, t = 0), this.bagModelList[n] = o, this.bagRemainingnumber--, 0 == t)
                                            break
                                    }
                        } else
                            for (n = 0; n < this.bagModelList.length; n++)
                                if (!this.bagModelList[n]) {
                                    o = e.clone();
                                    if (this.bagModelList[n] = o, this.bagModelList[n].itemCnt = 1, this.bagRemainingnumber--, 0 == --t)
                                        break
                                }
                    }
                }, t.prototype.updateBagEquip = function(e) {
                    for (var t = 0; t < this.bagModelList.length; t++) {
                        var i = this.bagModelList[t];
                        if (i && i.itemId == e.itemId) {
                            this.bagModelList[t] = e.clone(), o.EventManager.instance.dispatch(c.EVENT_NAME.BAG_ADD, e, e.itemCnt);
                            break
                        }
                    }
                }, t.prototype.decItemToBag = function(e, t, i) {
                    if (void 0 === t && (t = 0), void 0 === i && (i = -1), -1 != i)
                        this.bagModelList[i] ? this.bagModelList[i].itemId == e.itemId ? (this.bagModelList[i].itemCnt -= t, this.bagModelList[i].itemCnt <= 0 && (this.bagModelList[i] = null, this.bagRemainingnumber++)) : s.Logger.error("\u5220\u9664\u7269\u54c1\u51fa\u95192: name=" + e.getConfig().name + ",bagIndex" + i) : s.Logger.error("\u5220\u9664\u7269\u54c1\u51fa\u95191: name=" + e.getConfig().name + ",bagIndex" + i);
                    else
                        for (var n = this.bagModelList.length - 1; n >= 0; n--)
                            if (this.bagModelList[n] && this.bagModelList[n].itemId == e.itemId) {
                                if (t > 0) {
                                    var o = Math.min(this.bagModelList[n].itemCnt, t);
                                    this.bagModelList[n].itemCnt -= o, t -= o, this.bagModelList[n].itemCnt <= 0 && (this.bagModelList[n] = null, this.bagRemainingnumber++)
                                }
                                if (t <= 0)
                                    break
                            }
                }, t.prototype.sortBag = function() {
                    this.bagRemainingnumber = t.instance.bagAMount, t.instance.bagModelList = new Array(t.instance.bagAMount);
                    for (var e = 0; e < t.instance.itemInfoList.length; e++) {
                        var i = t.instance.itemInfoList[e];
                        t.instance.addItemToBag(i, i.itemCnt)
                    }
                    var n = function(e) {
                            var t = e.slice(1, e.length);
                            return parseInt(t)
                        },
                        o = function(e, t) {
                            return e.quality == t.quality ? n(e.itemType) - n(t.itemType) : t.quality - e.quality
                        },
                        a = function(e, i) {
                            var n = e.getConfig(),
                                o = i.getConfig();
                            return n.world == o.world ? n.pro == o.pro ? n.position == o.position ? n.level == o.level ? i.quality - e.quality : o.level - n.level : n.position - o.position : n.pro == c.GameConst.OCCUPATION.None ? -1 : o.pro == c.GameConst.OCCUPATION.None ? 1 : n.pro == t.instance.occupation ? -1 : o.pro == t.instance.occupation ? 1 : n.pro - o.pro : o.world - n.world
                        },
                        s = [];
                    for (e = 0; e < this.bagModelList.length; e++)
                        if (this.bagModelList[e]) {
                            s.push(this.bagModelList[e]), this.bagModelList[e].isNew = !1;
                            var r = b.default.getItemByid(this.bagModelList[e].itemId);
                            r && (r.isNew = !1)
                        }
                    s.sort(function(e, t) {
                        return e.itemKind == t.itemKind ? 1 == e.itemKind ? o(e, t) : a(e, t) : e.itemKind - t.itemKind
                    });
                    for (e = s.length; e < this.bagModelList.length; e++)
                        s.push(null);
                    this.bagModelList = s, t.instance.bagRemainingnumber = t.instance.bagAMount - t.instance.getBagHadItemNum()
                }, t.prototype.addBagAmount = function(e) {
                    void 0 === e && (e = 5), this.bagRemainingnumber += e, this.bagAMount += e;
                    for (var i = 0; i < e; i++)
                        this.bagModelList.push(null);
                    t.saveToLocalStorage()
                }, t.initMyRoleInfo = function(e) {
                    t.instance = e, u.MapConfig.curMapConfig = u.MapConfig.getMapConfigByMapId(t.instance.mapId), g.HeroConfig.myHeroConfig = g.HeroConfig.getHeroConfig(e.occupation, e.level), t.instance.revive(), M.BossModel.init(), y.default.init(), U.default.init(), T.SettingModel.initData(), S.default.init(), C.default.req_skill(), C.default.req_boss_fresh_time(), C.default.req_task(), C.default.req_advertisement(), C.default.req_first_rechard_info(), C.default.seq_charge_info()
                }, t.createRoleByLocal = function(e, t, i) {
                    this.saveToLocalStorage()
                }, t.deleteRole = function(e) {
                    for (var t = 0; t < this.roleList.length; t++) {
                        if (this.roleList[t].roleId == e.roleId) {
                            this.roleList.splice(t, 1);
                            break
                        }
                    }
                    this.saveToLocalStorage()
                }, t.getRoleByPos = function(e) {
                    for (var t = 0; t < this.roleList.length; t++) {
                        var i = this.roleList[t];
                        if (i.pos == e)
                            return i
                    }
                }, t.proto2BaseModel = function(e) {
                    var i = new t;
                    i.roleId = e.getId(), i.roleName = e.getName(), i.occupation = e.getOccupation(), i.level = e.getLev(), i.pos = e.getPos(), this.roleList.push(i), s.Logger.log("proto2BaseModel==", this.roleList), o.EventManager.instance.dispatch(m.CommonEvent.Event_UserInfoRefresh)
                }, t.proto2BaseModelList = function(e) {
                    this.roleList = [];
                    for (var t = e.getRolelistList(), i = 0; i < t.length; i++)
                        this.proto2BaseModel(t[i]);
                    o.EventManager.instance.dispatch(m.CommonEvent.Event_UserInfoRefresh)
                }, t.proto2ResList = function(e, i) {
                    for (var n = 0; n < e.length; n++) {
                        var o = e[n].getK(),
                            a = e[n].getV();
                        o == c.GameConst.RES_TYPE.COIN ? i.coin = a : o == c.GameConst.RES_TYPE.CREAM ? i.cream = a : o == c.GameConst.RES_TYPE.YUAN_BAO ? i.yuanBao = a : o == c.GameConst.RES_TYPE.EXP && (i.exp = a)
                    }
                    t.saveToLocalStorage()
                }, t.proto2Model = function(e) {
                    var i = t.instance,
                        n = e.getRoleinfo();
                    i.roleId = n.getId(), i.roleName = n.getName(), i.occupation = n.getOccupation(), i.level = n.getLev(), i.pos = n.getPos(), i.mapId = n.getScene(), i.exp = n.getExp(), t.instance.maxServerBagNum = n.getBagNum(), i.create_time = 1e3 * n.getCreateTime();
                    var o = R.BagConfig.getConfigById(t.addBagTimes);
                    t.instance.bagAMount = o.bag, i.mapId <= 0 && (i.mapId = 1), i.itemInfoList = b.default.proto2ModelList(n), i.equipGridList = I.EquipGridModel.proto2ModelList(n);
                    var a = n.getResnumList();
                    this.proto2ResList(a, i), i.privilegeList = [];
                    var r = n.getVipInfoList();
                    E.default.proto2ModelList(r), i.jingJieList = L.JingJieModel.proto2JingJieList(n), i.attrList = w.default.proto2ModelList(n.getAttrlistList());
                    var l = n.getSendTimes();
                    2 == l || (B.default.proto2ModelList(n), t.initMyRoleInfo(i), s.Logger.log("Login ====protoPack ===================\u521d\u59cb\u5316===", l, i), t.saveToLocalStorage(), C.default.req_item_list()), s.Logger.log("\u7528\u6237\u8be6\u7ec6\u4fe1\u606f============\u521d\u59cb\u5316===", n, t.instance)
                }, t.proto2Offline = function() {}, t.saveToLocalStorage = function() {
                    o.EventManager.instance.dispatch(m.CommonEvent.Event_UserInfoRefresh)
                }, t.roleList = [], t.instance = new t, t.addBagTimes = 0, t.defaultLocalKey = "RoleInfoModel", t.bagLocalKey = "bagLocalKey", t
            }(x.default);
        i.default = H, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/SafeDataModelBase": "SafeDataModelBase",
        "../../engine/UIManager": "UIManager",
        "../config/BagConfig": "BagConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/HeroConfig": "HeroConfig",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/MapConfig": "MapConfig",
        "../config/SkillConfig": "SkillConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./AdModel": "AdModel",
        "./BossModel": "BossModel",
        "./EquipGridModel": "EquipGridModel",
        "./FightModel": "FightModel",
        "./ItemInfoModel": "ItemInfoModel",
        "./JingJieModel": "JingJieModel",
        "./MagicModel": "MagicModel",
        "./MakeEquipModel": "MakeEquipModel",
        "./PrivilegeModel": "PrivilegeModel",
        "./ServerTime": "ServerTime",
        "./SettingModel": "SettingModel",
        "./SkillEffectModel": "SkillEffectModel",
        "./SkillModel": "SkillModel"
    }],
    RolePrefabInfo: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f3c35bN1aJMx6E78joQvFvB", "RolePrefabInfo");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.roleName = "", t.BonusDamage = 0, t.DamageReduction = 0, t.BonusDamage_p = 0, t.ignoredef_p = 0, t.DamageReduction_p = 0, t.hpKey = "hp", t.mpKey = "mp", t.maxHpKey = "maxHp", t.maxMpKey = "maxMp", t
            }
            return n(t, e), t.prototype.getHp = function() {
                return this.hp = this.getNumber(this.hpKey), this.hp
            }, t.prototype.setHp = function(e) {
                return this.hp = e, this.setNumber(this.hpKey, e), this.hp
            }, t.prototype.getMp = function() {
                return this.mp = this.getNumber(this.mpKey), this.mp
            }, t.prototype.setMp = function(e) {
                this.mp = e, this.setNumber(this.mpKey, e)
            }, t.prototype.getMaxHp = function() {
                return this.maxHp = this.getNumber(this.maxHpKey), this.maxHp
            }, t.prototype.setMaxHp = function(e) {
                return this.maxHp = e, this.setNumber(this.maxHpKey, e), this.maxHp
            }, t.prototype.getMaxMp = function() {
                return this.maxMp = this.getNumber(this.maxMpKey), this.maxMp
            }, t.prototype.setMaxMp = function(e) {
                return this.maxMp = e, this.setNumber(this.maxMpKey, e), this.maxMp
            }, t
        }(e("../../engine/SafeDataModelBase").default);
        i.default = o, cc._RF.pop()
    }, {
        "../../engine/SafeDataModelBase": "SafeDataModelBase"
    }],
    RolePrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "63885YKcrNIoZKA3cW/Mf9W", "RolePrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = e("../../engine/EventManager"),
            r = e("../../engine/Logger"),
            l = e("../../engine/RandomUtil"),
            c = e("../../engine/UIManager"),
            g = e("../config/ColorConfig"),
            f = e("../config/GameConst"),
            d = e("../config/HeroConfig"),
            h = e("../config/MonsterConfig"),
            u = e("../config/SkillConfig"),
            p = e("../config/SpriteFrameConfig"),
            m = e("../config/ViewConfig"),
            C = e("../event/CommonEvent"),
            v = e("../manager/MapManager"),
            _ = e("../manager/MonsterManager"),
            y = e("../manager/ScoreManager"),
            M = e("../manager/SkillEffectManager"),
            I = e("../manager/SkillManager"),
            b = e("../manager/SummonedManager"),
            L = e("../model/ChatModel"),
            w = e("../model/RoleInfoModel"),
            S = e("../model/RolePrefabInfo"),
            E = e("../model/ServerTime"),
            k = e("../model/SettingModel"),
            T = e("../model/SkillModel"),
            N = e("../network/SocketClient"),
            R = e("../utils/MusicHelper"),
            B = e("./GameManager"),
            P = e("../utils/UIHelper"),
            A = e("../config/GameConfig"),
            O = e("../../engine/DateUtil"),
            x = e("../../engine/MathUtils"),
            V = e("../model/SkillEffectModel"),
            U = e("../model/ShenBinSkillModel"),
            H = e("../model/ShenBinModel"),
            D = e("../config/ShenbingskillAllConfig"),
            G = cc._decorator.ccclass,
            q = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.maxHpWidth = 86, t.moveTime = 1, t.commonAttackTime = .1, t.nowRoleType = i.RoleType.Role, t.nextAttackCd = 0, t.zhiYuDuration = 0, t.zhiYuLastTime = 0, t.shiDuDuration = 0, t.shiDuLastTime = 0, t.shidu_BonusDamage = 0, t.shiDu_BonusDamage_p = 0, t.yinShenDuration = 0, t.yinShen_DamageReduction_p = 0, t.hutiZhenQi_addDef = 0, t.hutiZhenQi_Duration = 0, t.shenShengZhanJiaDuration = 0, t.shenShengZhanJiaAddDef = 0, t.shenShengZhanJiaAddHp = 0, t.wuJiZhenQiDuration = 0, t.wujiZhenSpeedBuf = 0, t.huoQiangLastTime = 0, t.moFaDunHadHurt = 0, t.moFaDunDef = 0, t.moFaDunMaxHurt = 0, t.yeManChongZhuang_decDef = 0, t.yeManChongZhuang_def_duration = 0, t.gongshaJianShu_Duration = 0, t.wudiCount = 0, t.moveFrameTemp = 0, t.icon_zhenqi = null, t.totalHurtBlood = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this)
                }, t.prototype.onEnable = function() {
                    this.txtName = this.node.getChildByName("name").getComponent(cc.Label), this.mpNode = this.node.getChildByName("mp"), this.hpNode = this.node.getChildByName("hp"), this.txtHp = this.findChild(this.node, "hp/content").getComponent(cc.Label), this.txtMp = this.findChild(this.node, "mp/txtMp").getComponent(cc.Label), this.iconDu = this.findChild(this.node, "debuff/iconDu"), this.icon_pojia = this.findChild(this.node, "debuff/icon_pojia"), this.iconHuoQiang = this.findChild(this.node, "debuff/iconHuoQiang"), this.iconYinShen = this.findChild(this.node, "debuff/iconYinShen"), this.iconMoFaDun = this.findChild(this.node, "buff/iconMoFaDun"), this.iconAddHp = this.findChild(this.node, "buff/iconAddHp"), this.iconShengSheng = this.findChild(this.node, "buff/iconShengSheng"), this.icon_WujiZhenQi = this.findChild(this.node, "buff/icon_WujiZhenQi"), this.icon_zhenqi = this.findChild(this.node, "buff/icon_zhenqi"), this.icon_zhenqi.active = !1, this.mianYiNode = this.findChild(this.node, "mianYiNode"), this.mianYiNode.active = !1, this.iconDu.active = !1, this.icon_pojia.active = !1, this.iconHuoQiang.active = !1, this.iconYinShen.active = !1, this.iconMoFaDun.active = !1, this.iconAddHp.active = !1, this.iconShengSheng.active = !1, this.node.on(cc.Node.EventType.TOUCH_END, this.onClickThis.bind(this)), s.EventManager.instance.on(C.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this)
                }, t.prototype.onClickThis = function() {
                    A.GameConfig.environment == A.EnvironmentType.Test && (R.MusicHelper.play_click(), c.default.instance.createView(m.default.gameView.FightRoleInfo, null, this))
                }, t.prototype.getHp = function() {
                    return this.roleInfo ? this.roleInfo.getHp() : 0
                }, t.prototype.getMaxHp = function() {
                    return this.roleInfo ? this.roleInfo.getMaxHp() : 0
                }, t.prototype.getFightFrame = function() {
                    var e;
                    return this.nowRoleType == i.RoleType.Role ? w.default.instance.occupation == f.GameConst.OCCUPATION.ZHAN_SHI ? e = p.SpriteFrameConfig.fight_frame[7] : w.default.instance.occupation == f.GameConst.OCCUPATION.FA_SHI ? e = p.SpriteFrameConfig.fight_frame[6] : w.default.instance.occupation == f.GameConst.OCCUPATION.DAO_SHI && (e = p.SpriteFrameConfig.fight_frame[5]) : this.nowRoleType == i.RoleType.Monster ? this.roleInfo.isBoss ? e = p.SpriteFrameConfig.fight_frame[0] : this.roleInfo.quality == f.GameConst.QUALITY.WHITE ? e = p.SpriteFrameConfig.fight_frame[1] : this.roleInfo.quality == f.GameConst.QUALITY.GREEN ? e = p.SpriteFrameConfig.fight_frame[2] : this.roleInfo.quality == f.GameConst.QUALITY.BLUE ? e = p.SpriteFrameConfig.fight_frame[3] : this.roleInfo.quality == f.GameConst.QUALITY.PURPLE && (e = p.SpriteFrameConfig.fight_frame[4]) : this.nowRoleType == i.RoleType.Summoned && (e = p.SpriteFrameConfig.fight_frame[8]), e
                }, t.prototype.setRoleType = function(e, t, n, o, a) {
                    var s = this;
                    void 0 === t && (t = f.GameConst.QUALITY.WHITE), void 0 === n && (n = 0), void 0 === o && (o = 0), void 0 === a && (a = !1), this.roleInfo = new S.default, this.roleInfo.quality = t, this.roleInfo.monsterId = n, this.roleInfo.isBoss = a, this.nowRoleType = e, this.state = i.RoleState.Moving, this.node.scale = 0, this.totalHurtBlood = 0, cc.tween(this.node).to(.5, {
                        scale: 1
                    }).call(function() {
                        s.state = i.RoleState.Relax
                    }).start(), this.isDead = !1, this.nextAttackCd = 0, this.node.getComponent(cc.Sprite).spriteFrame = this.getFightFrame(), e == i.RoleType.Role ? this.setRoleInfo() : e == i.RoleType.Monster ? (this.roleInfo.monsterConfig = h.MonsterConfig.getMonsterConfigById(o), this.setMonsterInfo()) : i.RoleType.Summoned
                }, t.prototype.onUserInfoRefresh = function() {
                    this.nowRoleType == i.RoleType.Role && this.setRoleInfo()
                }, t.prototype.setWudi = function() {
                    this.isDead = !1, this.wudiCount = O.default.now() + 15e3
                }, t.prototype.setMonsterInfo = function() {
                    this.roleInfo.heroConfig = d.HeroConfig.getMyHeroConfig(), this.roleInfo.roleName = this.roleInfo.monsterConfig.name, this.roleInfo.attack = this.roleInfo.monsterConfig.getAttack(this.roleInfo.quality), this.roleInfo.spt = 0, this.roleInfo.mag = 0, this.roleInfo.setHp(Math.floor(this.roleInfo.monsterConfig.getHp(this.roleInfo.quality))), this.roleInfo.setMaxHp(this.roleInfo.getHp()), this.roleInfo.setMp(0), this.roleInfo.setMaxMp(this.roleInfo.getMp()), this.roleInfo.def = this.roleInfo.monsterConfig.getDef(this.roleInfo.quality), this.roleInfo.attackSpeed = this.roleInfo.monsterConfig.atSpeed, this.roleInfo.BonusDamage = this.roleInfo.monsterConfig.BonusDamage, this.roleInfo.DamageReduction = 0, this.roleInfo.BonusDamage_p = 0, this.roleInfo.DamageReduction_p = 0, this.roleInfo.shengmingXiQu = 0, this.roleInfo.faliXiQu = 0, this.roleInfo.lucky = this.roleInfo.monsterConfig.lucky, this.mpNode && (this.mpNode.active = !0), this.refreshRoleInfo()
                }, t.prototype.setRoleInfo = function() {
                    var e = w.default.instance.getDefend(),
                        t = O.default.now();
                    t < this.shenShengZhanJiaDuration && (e += this.shenShengZhanJiaAddDef);
                    var i = Math.ceil(w.default.instance.getAttackSpeed());
                    this.gongshaJianShu_AtSpeed > 0 && (i = Math.ceil(w.default.instance.getAttackSpeed() + this.gongshaJianShu_AtSpeed)), t < this.hutiZhenQi_Duration && (e += this.hutiZhenQi_addDef), this.roleInfo.heroConfig = d.HeroConfig.getMyHeroConfig(), this.roleInfo.monsterConfig = null, this.roleInfo.roleName = w.default.instance.roleName, this.roleInfo.attack = w.default.instance.getAttack(), this.roleInfo.spt = w.default.instance.getDaoShu(), this.roleInfo.mag = w.default.instance.getMofa(), this.roleInfo.lucky = w.default.instance.getLucky(), this.roleInfo.setHp(w.default.instance.getHp()), this.roleInfo.setMaxHp(w.default.instance.getMaxHp()), this.roleInfo.setMp(w.default.instance.getMp()), this.roleInfo.setMaxMp(w.default.instance.getMaxMp()), this.roleInfo.def = Math.ceil(e), this.roleInfo.attackSpeed = i, this.roleInfo.BonusDamage = w.default.instance.getGuDingShangHai(), this.roleInfo.DamageReduction = w.default.instance.getGuDingJianShang(), this.roleInfo.BonusDamage_p = w.default.instance.getShangHaiZengJia(), this.roleInfo.DamageReduction_p = w.default.instance.getShangHaiJianMian(), this.roleInfo.shengmingXiQu = w.default.instance.getShengMingXiQu(), this.roleInfo.faliXiQu = w.default.instance.getFaLiXiQu(), this.refreshRoleInfo()
                }, t.prototype.setSummonedInfo = function(e, t, i, n) {
                    this.roleInfo.heroConfig = d.HeroConfig.getMyHeroConfig(), this.roleInfo.monsterConfig = null, this.roleInfo.roleName = e.pet_name, this.roleInfo.attack = Math.ceil(i + w.default.instance.getpetdamage()), this.roleInfo.spt = w.default.instance.getDaoShu(), this.roleInfo.mag = 0, this.roleInfo.lucky = w.default.instance.getLucky(), this.roleInfo.setHp(Math.ceil(t)), this.roleInfo.setMaxHp(Math.ceil(t)), this.roleInfo.setMp(0), this.roleInfo.setMaxMp(0), this.roleInfo.def = Math.ceil(n) + 50, this.roleInfo.attackSpeed = e.speed + w.default.instance.getpetspeed(), this.roleInfo.BonusDamage = w.default.instance.getGuDingShangHai(), this.roleInfo.DamageReduction = 10 + w.default.instance.getGuDingJianShang(), this.roleInfo.BonusDamage_p = 0 + w.default.instance.getpetdamage_p(), this.roleInfo.ignoredef_p = w.default.instance.getignoredef_p(), this.roleInfo.DamageReduction_p = 0, this.roleInfo.shengmingXiQu = 0, this.roleInfo.faliXiQu = 0, this.roleInfo.summonedConfig = e, this.mpNode.active = !0, r.Logger.log("\u8bbe\u7f6e\u53ec\u5524\u7269\u4fe1\u606f==", e, w.default.instance.getpetspeed()), this.refreshRoleInfo()
                }, t.prototype.setSummonedInfo2 = function(e) {
                    this.roleInfo = e, this.refreshRoleInfo()
                }, t.prototype.refreshRoleInfo = function() {
                    this.txtName && (this.txtName.string = this.roleInfo.roleName, this.txtName.node.color = g.ColorConfig.getQualityColor(this.roleInfo.quality), this.nowRoleType == i.RoleType.Role ? (this.txtHp.string = Math.ceil(w.default.instance.getHp()) + "/" + w.default.instance.getMaxHp(), this.hpNode.width = w.default.instance.getHp() / w.default.instance.getMaxHp() * this.maxHpWidth, this.txtMp.string = Math.ceil(w.default.instance.getMp()) + "/" + w.default.instance.getMaxMp(), this.mpNode.width = w.default.instance.getMp() / w.default.instance.getMaxMp() * this.maxHpWidth) : this.nowRoleType == i.RoleType.Summoned ? (this.txtHp.string = this.roleInfo.getHp() + "/" + this.roleInfo.getMaxHp(), this.hpNode.width = this.roleInfo.getHp() / this.roleInfo.getMaxHp() * this.maxHpWidth, this.txtMp.string = this.roleInfo.getMp() + "/" + this.roleInfo.getMaxMp(), this.txtMp.node.active = !1, this.mpNode.width = this.maxHpWidth) : this.nowRoleType == i.RoleType.Monster && (this.txtHp.string = this.roleInfo.getHp() + "/" + this.roleInfo.getMaxHp(), this.hpNode.width = this.roleInfo.getHp() / this.roleInfo.getMaxHp() * this.maxHpWidth, this.txtMp.string = this.roleInfo.getMp() + "/" + this.roleInfo.getMaxMp(), this.txtMp.node.active = !1, this.mpNode.width = this.maxHpWidth), this.hpNode.width > this.maxHpWidth && (this.hpNode.width = this.maxHpWidth), this.mpNode.width > this.maxHpWidth && (this.mpNode.width = this.maxHpWidth), s.EventManager.instance.dispatch(C.CommonEvent.Event_RolePrefabfresh))
                }, t.prototype.update = function() {
                    this.isDead || B.default.instance.isPause || (this.checkHuTiZhenQi(), this.checkLieHuoJianFa(), this.checkYeManChongZhuang(), this.checkGongShaJianShu(), this.checkMoFaDun(), this.checkHuoQiang(), this.checkWuJiZhenQi(), this.checkShenShengZhanJia(), this.checkYinShen(), this.checkZhiYu(), this.checkDu(), this.checkAttack(), this.checkEatHp(), this.checkEatMp())
                }, t.prototype.getMainAttackRole = function(e) {
                    var t = [];
                    if (this.mainAttackRole && this.mainAttackRole.node && !this.mainAttackRole.isDead) {
                        var i = Math.abs(this.mainAttackRole.gridRow - this.gridRow),
                            n = Math.abs(this.mainAttackRole.gridCol - this.gridCol);
                        i <= e && n <= e && t.push(this.mainAttackRole)
                    }
                    return t
                }, t.prototype.getSkillAttackList = function(e) {
                    var t = this.getMainAttackRole(e.range);
                    if (t.length < e.int) {
                        var i = e.int - t.length,
                            n = _.default.instance.getAttackMonsterList(e.range, i, this.gridRow, this.gridCol, this.mainAttackRole);
                        t = t.concat(n), this.mainAttackRole && !this.mainAttackRole.isDead || (this.mainAttackRole = t[0])
                    }
                    return t
                }, t.prototype.checkHuTiZhenQi = function() {
                    O.default.now() < this.hutiZhenQi_Duration ? this.icon_zhenqi.active = !0 : (this.hutiZhenQi_addDef > 0 && (this.roleInfo.def -= this.hutiZhenQi_addDef, this.hutiZhenQi_addDef = 0), this.icon_zhenqi.active = !1)
                }, t.prototype.checkEatHp = function() {
                    if (this.nowRoleType == i.RoleType.Role) {
                        var e = w.default.instance.getHp() / w.default.instance.getMaxHp(),
                            t = 0;
                        k.SettingModel.hpSetPt > k.SettingModel.highHpSetPt ? (e <= k.SettingModel.hpSetPt && k.SettingModel.hpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HP), this.addHp(t)), 0 == t && e <= k.SettingModel.highHpSetPt && k.SettingModel.highHpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HHP), this.addHp(t))) : (e <= k.SettingModel.highHpSetPt && k.SettingModel.highHpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HHP), this.addHp(t)), 0 == t && e <= k.SettingModel.hpSetPt && k.SettingModel.hpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HP), this.addHp(t)))
                    }
                }, t.prototype.checkEatMp = function() {
                    if (i.RoleType.Role == this.nowRoleType) {
                        var e = w.default.instance.getMp() / w.default.instance.getMaxMp(),
                            t = 0;
                        k.SettingModel.mpSetPt > k.SettingModel.highMpSetPt ? (e <= k.SettingModel.mpSetPt && k.SettingModel.mpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.MP), this.addMp(t)), 0 == t && e <= k.SettingModel.highMpSetPt && k.SettingModel.highMpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HMP), this.addMp(t))) : (e <= k.SettingModel.highMpSetPt && k.SettingModel.highMpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.HMP), this.addMp(t)), 0 == t && e <= k.SettingModel.mpSetPt && k.SettingModel.mpSet && (t = w.default.instance.autoDrug(f.DrugCoolDown.MP), this.addMp(t)))
                    }
                }, t.prototype.checkLieHuoJianFa = function() {
                    var e = O.default.now();
                    if (e < this.lieHuoJianFaDuration) {
                        if (this.iconHuoQiang.active = !0, e - this.lieHuoJianFaLastTime >= 1e3 && (this.lieHuoJianFaLastTime += 1e3, this.lieHuoRolePrefab)) {
                            var t = this.roleInfo.def,
                                i = this.liehuoBOnusDamage,
                                n = this.roleInfo.DamageReduction,
                                o = this.lieHuoBonusDamage_p,
                                a = this.roleInfo.DamageReduction_p,
                                s = this.lieHuoRolePrefab.getSkillHurt(t, this.lieHuoJianFa_BUF, i, n, o, a, 0, 0, this, !0);
                            this.decHp(s)
                        }
                    } else
                        e >= this.huoQiangDuration && (this.iconHuoQiang.active = !1)
                }, t.prototype.checkYeManChongZhuang = function() {
                    var e = O.default.now();
                    e >= this.yeManChongZhuangDuration && this.yeManChongZhuangNode && (this.yeManChongZhuangNode.destroy(), this.yeManChongZhuangNode = null), this.icon_pojia.active && e >= this.yeManChongZhuang_def_duration && (this.icon_pojia.active = !1, this.yeManChongZhuang_decDef > 0 && (this.roleInfo.def += this.yeManChongZhuang_decDef, this.yeManChongZhuang_decDef = 0))
                }, t.prototype.checkMoFaDun = function() {
                    this.moFaDun && this.moFaDun.active ? this.iconMoFaDun.active = !0 : this.iconMoFaDun.active = !1
                }, t.prototype.checkGongShaJianShu = function() {
                    O.default.now() < this.gongshaJianShu_Duration || this.gongshaJianShu_AtSpeed > 0 && (this.roleInfo.attackSpeed = Math.ceil(this.roleInfo.attackSpeed - this.gongshaJianShu_AtSpeed), this.gongshaJianShu_AtSpeed = 0)
                }, t.prototype.checkHuoQiang = function() {
                    var e = O.default.now();
                    if (e < this.huoQiangDuration) {
                        if (this.iconHuoQiang.active = !0, e - this.huoQiangLastTime >= 1e3) {
                            this.huoQiangLastTime += 1e3;
                            var t = this.roleInfo.def,
                                i = this.huoQiangBufExt,
                                n = this.huoQiangBonusDamange,
                                o = this.roleInfo.DamageReduction,
                                a = this.roleInfo.DamageReduction_p;
                            if (B.default.instance.gameView.myRolePrefab) {
                                var s = B.default.instance.gameView.myRolePrefab.getSkillHurt(t, this.huoQiangBufDamage, n, o, this.huoQiangBonusDamage_p, a, i, 0, this, !0);
                                this.decHp(s)
                            }
                        }
                    } else
                        this.huoQiangEffect2 && (this.huoQiangEffect2.destroy(), this.huoQiangEffect2 = null), e >= this.lieHuoJianFaDuration && (this.iconHuoQiang.active = !1)
                }, t.prototype.checkWuJiZhenQi = function() {
                    O.default.now() < this.wuJiZhenQiDuration ? this.icon_WujiZhenQi.active = !0 : (this.wujiZhenSpeedBuf > 0 && (this.roleInfo.attackSpeed = Math.floor(this.roleInfo.attackSpeed - this.wujiZhenSpeedBuf), this.wujiZhenSpeedBuf = 0), this.icon_WujiZhenQi.active = !1)
                }, t.prototype.checkShenShengZhanJia = function() {
                    if (O.default.now() < this.shenShengZhanJiaDuration)
                        this.iconShengSheng.active = !0;
                    else {
                        if (this.shenShengZhanJiaAddDef > 0) {
                            this.roleInfo.def -= this.shenShengZhanJiaAddDef, this.shenShengZhanJiaAddDef = 0;
                            var e = this.roleInfo.getMaxHp();
                            e -= this.shenShengZhanJiaAddHp, this.shenShengZhanJiaAddHp = 0, this.roleInfo.setMaxHp(e), this.refreshRoleInfo()
                        }
                        this.iconShengSheng.active = !1
                    }
                }, t.prototype.checkYinShen = function() {
                    O.default.now() < this.yinShenDuration ? this.iconYinShen.active = !0 : (this.yinShen_DamageReduction_p > 0 && (this.roleInfo.DamageReduction_p -= this.yinShen_DamageReduction_p, this.yinShen_DamageReduction_p = 0, this.yinshen_skillmv && (this.yinshen_skillmv.destroy(), this.yinshen_skillmv = null)), this.iconYinShen.active = !1)
                }, t.prototype.checkDu = function() {
                    var e = O.default.now();
                    if (e < this.shiDuDuration) {
                        if (this.iconDu.active = !0, e - this.shiDuLastTime >= 1e3 && (this.shiDuLastTime += 1e3, this.shiDuRolePrefab)) {
                            var t = w.default.instance.getSkillModel(u.SkillConfig.SkillIdConfig.ShiDuShu),
                                i = u.SkillConfig.getSkillConfigById(t.id, t.getTotalLevel()),
                                n = V.default.getSkillEffectAndBonusDamage(i.skillId).skinBonusDamage_p,
                                o = this.roleInfo.def,
                                a = this.shidu_BonusDamage,
                                s = this.roleInfo.DamageReduction,
                                r = this.shiDu_BonusDamage_p,
                                l = this.roleInfo.DamageReduction_p,
                                c = this.shiDuRolePrefab.getSkillHurt(o, (i.parameter[0] + n) / 1e4, a, s, r, l, i.bonus, 0, this, !1);
                            c += this.shiDuRolePrefab.checkGetWuJieZhenQiHurt(o, a, s, r, l, 0), this.decHp(c)
                        }
                    } else
                        this.shidushu_effect && (this.shidushu_effect.destroy(), this.shidushu_effect = null), this.iconDu.active = !1
                }, t.prototype.checkZhiYu = function() {
                    var e = O.default.now();
                    if (e < this.zhiYuDuration) {
                        if (this.iconAddHp.active = !0, e - this.zhiYuLastTime >= 1e3) {
                            this.zhiYuLastTime += 1e3;
                            var t = w.default.instance.getSkillModel(u.SkillConfig.SkillIdConfig.ZhiLiaoShu),
                                i = u.SkillConfig.getSkillConfigById(t.id, t.getTotalLevel()),
                                n = Math.round(this.roleInfo.spt * i.parameter[1] / 1e4) + i.bonus;
                            this.addHp(n)
                        }
                    } else
                        this.iconAddHp.active = !1
                }, t.getSideRole2Role = function(e, t) {
                    i.RoleSide.Left;
                    return e.gridRow == t.gridRow ? e.gridCol > t.gridCol ? i.RoleSide.Left : i.RoleSide.Right : e.gridCol == t.gridCol ? e.gridRow > t.gridRow ? i.RoleSide.Up : i.RoleSide.Down : e.gridRow > t.gridRow ? e.gridCol > t.gridCol ? i.RoleSide.LeftUp : i.RoleSide.RightUp : e.gridCol > t.gridCol ? i.RoleSide.LeftDown : i.RoleSide.RightDown
                }, t.prototype.checkOneSkill = function(e) {
                    var t = this,
                        n = !1;
                    if (e.mana > this.roleInfo.getMp())
                        return n;
                    if (e.skillId == u.SkillConfig.SkillIdConfig.ShiDuShu ? n = this.useSkillShiDuShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.LingHunHuoFu ? n = this.useLingHunHuoFu(e) : e.skillId == u.SkillConfig.SkillIdConfig.HuoQiuShu ? n = this.useHuoQiuShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.LeiDianShu ? n = this.useLeiDianShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.HuoQiang ? n = this.useHuoQiangShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.BingPaoXiao ? n = this.useBingPaoXiao(e) : e.skillId == u.SkillConfig.SkillIdConfig.CiShaJianShu ? n = this.useCiShaJianShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.BanYueWanDao ? n = this.useBanYueWanDao(e) : e.skillId == u.SkillConfig.SkillIdConfig.YeManChongZhuang ? n = this.useYeManChongZhuang(e) : e.skillId == u.SkillConfig.SkillIdConfig.LieHuoJianFa && (n = this.useLieHuoJianFa(e)), e.skillId == u.SkillConfig.SkillIdConfig.ZhaoHuanShu)
                        (o = this.addSummoned(e, this.roleInfo.spt)) && (n = !0, M.default.instance.useSkill(M.default.instance.skillConfig.zhaohuan_kulu, o, [o], function() {
                            t.state = i.RoleState.Relax
                        }));
                    else if (e.skillId == u.SkillConfig.SkillIdConfig.YouHuoZhiGuang) {
                        var o;
                        (o = this.addSummoned(e, this.roleInfo.mag)) && (n = !0, M.default.instance.useSkill(M.default.instance.skillConfig.youHuoZhiGuang, o, [o], function() {
                            t.state = i.RoleState.Relax
                        }))
                    } else
                        e.skillId == u.SkillConfig.SkillIdConfig.ZhiLiaoShu ? n = this.useSkillZhiLiaoShu(e) : e.skillId == u.SkillConfig.SkillIdConfig.ShenShengZhanJia ? n = this.useShenShengZhanJia(e) : e.skillId == u.SkillConfig.SkillIdConfig.WuJiZhenQi ? n = this.useWuJiZhenqi(e) : e.skillId == u.SkillConfig.SkillIdConfig.MoFaDun ? n = this.useMoFaDun(e) : e.skillId == u.SkillConfig.SkillIdConfig.DouQiHuTi && (n = this.useDouQiHuTi(e));
                    return n && this.decMp(e.mana), n && 305 != e.skillId && 204 != e.skillId && I.default.instance.addSkillExp(e.skillId), n
                }, t.prototype.addSummoned = function(e, t) {
                    var i = B.default.instance.gameView.getEmptyGridList();
                    if (!(i.length <= 0) && b.default.instance.canAddSummoned()) {
                        var n = t * e.parameter[0] / 1e4,
                            o = t * e.parameter[1] / 1e4,
                            a = t * e.parameter[2] / 1e4;
                        i.sort(function(e, t) {
                            return x.default.distance(e.row, e.col, B.default.instance.gameView.myRolePrefab.gridRow, B.default.instance.gameView.myRolePrefab.gridCol) - x.default.distance(t.row, t.col, B.default.instance.gameView.myRolePrefab.gridRow, B.default.instance.gameView.myRolePrefab.gridCol)
                        });
                        var s = i[0],
                            r = B.default.instance.gameView.addSummoned(s);
                        return r.setSummonedInfo(e, a, n, o), r.wuJiZhenQiDuration = this.wuJiZhenQiDuration, b.default.instance.summonedList.push(r), r
                    }
                }, t.prototype.useLieHuoJianFa = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.liehuojianfa, this, o, function(t) {
                        if (n.roleInfo) {
                            var a;
                            n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            var s = -1;
                            n.mainAttackRole && n.mainAttackRole.node && !n.mainAttackRole.isDead && -1 != (s = o.indexOf(n.mainAttackRole)) && (a = n.mainAttackRole, o.splice(s, 1)), a || (a = o[0], o.shift());
                            var r = O.default.now();
                            if (a && a.node && !a.isDead) {
                                var l = a.roleInfo.def,
                                    c = n.roleInfo.BonusDamage,
                                    g = a.roleInfo.DamageReduction,
                                    f = n.roleInfo.BonusDamage_p,
                                    d = a.roleInfo.DamageReduction_p,
                                    h = n.getSkillHurt(l, e.parameter[0] / 1e4, c, g, f, d, e.bonus, 0, a, !0);
                                a.decHp(h), a.lieHuoJianFaDuration = r + 1e3 * (e.duration_time + 1), a.lieHuoJianFaLastTime = r, a.lieHuoJianFa_BUF = e.parameter[1] / 1e4, a.liehuoBOnusDamage = c, a.lieHuoBonusDamage_p = n.roleInfo.BonusDamage_p, a.lieHuoRolePrefab = n, a.iconHuoQiang.active = !0
                            }
                            for (var u = 0; u < o.length; u++) {
                                var p = o[u];
                                p && p.node && !p.isDead && (p.lieHuoJianFaDuration = r + 1e3 * (e.duration_time + 1), p.lieHuoJianFaLastTime = r, p.lieHuoJianFa_BUF = e.parameter[1] / 1e4, p.liehuoBOnusDamage = n.roleInfo.BonusDamage, p.lieHuoBonusDamage_p = n.roleInfo.BonusDamage_p, p.lieHuoRolePrefab = n, p.iconHuoQiang.active = !0)
                            }
                            n.state = i.RoleState.Relax
                        }
                    }), t = !0), t
                }, t.prototype.useDouQiHuTi = function(e) {
                    var t,
                        n = this,
                        o = [this],
                        a = b.default.instance.getSummonedListByDistance(e.range, e.int, this.gridRow, this.gridCol);
                    return (o = o.concat(a)).length > 0 && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.zhenqihuti, this, o, function() {
                        for (var t = 0; t < o.length; t++) {
                            var a = o[t];
                            a.hutiZhenQi_addDef > 0 && (a.roleInfo.def -= a.hutiZhenQi_addDef), a.hutiZhenQi_addDef = n.roleInfo.def * (e.parameter[0] / 1e4) + e.bonus, a.roleInfo.def += a.hutiZhenQi_addDef, a.hutiZhenQi_Duration = O.default.now() + 1e3 * e.duration_time;
                            var s = Math.round(a.roleInfo.getMaxHp() * (e.parameter[1] / 1e4));
                            a.addHp(s)
                        }
                        n.state = i.RoleState.Relax
                    }), t = !0), t
                }, t.prototype.useYeManChongZhuang = function(e) {
                    var t,
                        n = this;
                    if (l.default.nextInt(0, 1e4) <= e.chance) {
                        var o = this.getSkillAttackList(e);
                        o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.yemanchongzhuang, this, o, function(t) {
                            if (n.roleInfo) {
                                n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                                for (var a = Math.random(), s = 0; s < o.length; s++) {
                                    var r = o[s];
                                    if (r && r.node && !r.isDead) {
                                        var l = r.roleInfo.def,
                                            c = n.roleInfo.BonusDamage,
                                            g = r.roleInfo.DamageReduction,
                                            f = n.roleInfo.BonusDamage_p,
                                            d = r.roleInfo.DamageReduction_p,
                                            h = n.getSkillHurt(l, e.parameter[0] / 1e4, c, g, f, d, e.bonus, 0, r, !0);
                                        if (r.decHp(h), a <= e.chance / 1e4) {
                                            r.yeManChongZhuang_decDef > 0 && (r.roleInfo.def += r.yeManChongZhuang_decDef);
                                            var u = Math.floor(r.roleInfo.def * e.parameter[1] / 1e4);
                                            u > r.roleInfo.def && (u = r.roleInfo.def), r.yeManChongZhuangNode && (r.yeManChongZhuangNode.destroy(), r.yeManChongZhuangNode = null), r.yeManChongZhuang_decDef = u, r.yeManChongZhuangDuration = O.default.now() + 1e3 * e.duration_time, r.yeManChongZhuangNode = t[s], r.roleInfo.def -= u, u > 0 && (r.icon_pojia.active = !0, r.yeManChongZhuang_def_duration = O.default.now() + 1e3 * e.parameter[2])
                                        } else
                                            t[s].destroy()
                                    }
                                }
                                n.state = i.RoleState.Relax
                            }
                        }), t = !0)
                    }
                    return t
                }, t.prototype.useBanYueWanDao = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    if (o.length >= e.t_num) {
                        this.state = i.RoleState.Attack;
                        var a = V.default.getSkillEffectAndBonusDamage(e.skillId),
                            s = a.skillEffectType,
                            r = a.skinBonusDamage_p;
                        M.default.instance.useSkill(s, this, o, function() {
                            if (n.roleInfo) {
                                var t;
                                n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                                var a = -1;
                                if (n.mainAttackRole && n.mainAttackRole.node && !n.mainAttackRole.isDead && -1 != (a = o.indexOf(n.mainAttackRole)) && (t = n.mainAttackRole, o.splice(a, 1)), t || (t = o[0], o.shift()), t && t.node && !t.isDead) {
                                    var s = t.roleInfo.def,
                                        l = Math.ceil(1.5 * n.roleInfo.BonusDamage),
                                        c = t.roleInfo.DamageReduction,
                                        g = n.roleInfo.BonusDamage_p,
                                        f = t.roleInfo.DamageReduction_p,
                                        d = n.getSkillHurt(s, (e.parameter[0] + r) / 1e4 + e.parameter[1] / 1e4, l, c, g, f, e.bonus, 0, t, !0);
                                    t.decHp(d)
                                }
                                for (var h = 0; h < o.length; h++) {
                                    var u = o[h];
                                    if (u && u.node && !u.isDead) {
                                        l = Math.ceil(1.5 * n.roleInfo.BonusDamage), s = u.roleInfo.def, c = u.roleInfo.DamageReduction, g = n.roleInfo.BonusDamage_p, f = u.roleInfo.DamageReduction_p, d = n.getSkillHurt(s, (e.parameter[0] + r) / 1e4, l, c, g, f, e.bonus, 0, u, !0);
                                        u.decHp(d)
                                    }
                                }
                                n.state = i.RoleState.Relax
                            }
                        }), t = !0
                    }
                    return t
                }, t.prototype.useCiShaJianShu = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.cishajianshu, this, o, function() {
                        if (n.roleInfo) {
                            n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            for (var t = 0; t < o.length; t++) {
                                var a = o[t];
                                if (a && a.node && !a.isDead) {
                                    var s = a.roleInfo.def - a.roleInfo.def * e.parameter[1] / 1e4,
                                        r = n.roleInfo.BonusDamage,
                                        l = a.roleInfo.DamageReduction,
                                        c = n.roleInfo.BonusDamage_p,
                                        g = a.roleInfo.DamageReduction_p,
                                        f = n.getSkillHurt(s, e.parameter[0] / 1e4, r, l, c, g, e.bonus, 0, a, !0);
                                    a.decHp(f)
                                }
                            }
                            n.state = i.RoleState.Relax
                        }
                    }), t = !0), t
                }, t.prototype.useBingPaoXiao = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.bingPaoXiao, this, o, function() {
                        if (n.roleInfo) {
                            var t;
                            n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            var a = -1;
                            if (n.mainAttackRole && n.mainAttackRole.node && !n.mainAttackRole.isDead && -1 != (a = o.indexOf(n.mainAttackRole)) && (t = n.mainAttackRole, o.splice(a, 1)), t || (t = o[0], o.shift()), t && t.node && !t.isDead) {
                                var s = t.roleInfo.def,
                                    r = n.roleInfo.BonusDamage,
                                    l = t.roleInfo.DamageReduction,
                                    c = n.roleInfo.BonusDamage_p,
                                    g = t.roleInfo.DamageReduction_p,
                                    f = n.getSkillHurt(s, e.parameter[0] / 1e4 + e.parameter[1] / 1e4, r, l, c, g, e.bonus, 0, t, !0);
                                t.decHp(f)
                            }
                            for (var d = 0; d < o.length; d++) {
                                var h = o[d];
                                if (h && h.node && !h.isDead) {
                                    s = h.roleInfo.def, r = n.roleInfo.BonusDamage, l = h.roleInfo.DamageReduction, c = n.roleInfo.BonusDamage_p, g = h.roleInfo.DamageReduction_p, f = n.getSkillHurt(s, e.parameter[0] / 1e4, r, l, c, g, e.bonus, 0, h, !0);
                                    h.decHp(f)
                                }
                            }
                            n.state = i.RoleState.Relax
                        }
                    }), t = !0), t
                }, t.prototype.useMoFaDun = function(e) {
                    var t,
                        n = this;
                    if (this.moFaDun)
                        return t;
                    var o = [this];
                    if (e.int - 1 > 0) {
                        var a = b.default.instance.getSummonedListByDistance(e.range, e.int - 1, this.gridRow, this.gridCol);
                        o = o.concat(a)
                    }
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.mofadun, this, o, function(t) {
                        for (var a = 0; a < o.length; a++) {
                            var s = o[a];
                            s && !s.isDead && s.roleInfo && t[a] && (s.moFaDun && s.moFaDun.destroy(), s.moFaDun = t[a], s.moFaDunHadHurt = 0, s.moFaDunDef = e.parameter[0] / 1e4, s.moFaDunMaxHurt = s.roleInfo.mag * e.parameter[1] / 1e4 + e.bonus, r.Logger.log("\u4f7f\u7528\u9b54\u6cd5\u76fe22222==", e, s.roleInfo.mag, s.moFaDunMaxHurt))
                        }
                        n.state = i.RoleState.Relax
                    }), t = !0), t
                }, t.prototype.useHuoQiangShu = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    if (o.length >= e.t_num) {
                        this.state = i.RoleState.Attack;
                        var a = V.default.getSkillEffectAndBonusDamage(e.skillId),
                            s = a.skillEffectType,
                            l = a.skinBonusDamage_p;
                        r.Logger.log("useHuoQiangShu=====", a), M.default.instance.useSkill(s, this, o, function() {
                            if (n.roleInfo) {
                                var t;
                                n.state = i.RoleState.Relax, n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                                var a = -1;
                                n.mainAttackRole && n.mainAttackRole.node && !n.mainAttackRole.isDead && -1 != (a = o.indexOf(n.mainAttackRole)) && (t = n.mainAttackRole, o.splice(a, 1)), t || (t = o[0], o.shift());
                                var s = Date.now();
                                if (t && t.node && !t.isDead) {
                                    var c = n.roleInfo.BonusDamage;
                                    r.Logger.log(" useHuoQiangShu BonusDamage=====", c);
                                    var g = t.roleInfo.def,
                                        f = t.roleInfo.DamageReduction,
                                        d = n.roleInfo.BonusDamage_p,
                                        h = t.roleInfo.DamageReduction_p,
                                        u = n.getSkillHurt(g, (e.parameter[0] + l) / 1e4 + e.parameter[2] / 1e4, c, f, d, h, 0, 0, t, !0);
                                    t.decHp(u), t.huoQiangDuration = s + 1e3 * (e.duration_time + 1), t.huoQiangLastTime = s, t.huoQiangBufDamage = (e.parameter[1] + l) / 1e4, t.huoQiangBonusDamange = c, t.huoQiangBonusDamage_p = d, t.huoQiangBufExt = e.bonus
                                }
                                for (var p = 0; p < o.length; p++) {
                                    var m = o[p];
                                    if (m && m.node && !m.isDead) {
                                        c = n.roleInfo.BonusDamage;
                                        r.Logger.log(" useHuoQiangShu BonusDamage=====", c);
                                        g = m.roleInfo.def, f = m.roleInfo.DamageReduction, d = n.roleInfo.BonusDamage_p, h = m.roleInfo.DamageReduction_p, u = n.getSkillHurt(g, (e.parameter[0] + l) / 1e4, c, f, d, h, 0, 0, m, !0);
                                        m.decHp(u), m.huoQiangDuration = s + 1e3 * (e.duration_time + 1), m.huoQiangLastTime = s, m.huoQiangBufDamage = (e.parameter[1] + l) / 1e4, m.huoQiangBonusDamange = c, m.huoQiangBonusDamage_p = d, m.huoQiangBufExt = e.bonus
                                    }
                                }
                            }
                        }), t = !0
                    }
                    return t
                }, t.prototype.useLeiDianShu = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.leidianshu, this, o, function() {
                        if (n.roleInfo) {
                            n.state = i.RoleState.Relax, n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            for (var t = 0; t < o.length; t++) {
                                var a = o[t];
                                if (a && a.node && !a.isDead) {
                                    var s = a.roleInfo.def - a.roleInfo.def * e.parameter[1] / 1e4,
                                        r = n.roleInfo.BonusDamage,
                                        l = a.roleInfo.DamageReduction,
                                        c = n.roleInfo.BonusDamage_p,
                                        g = a.roleInfo.DamageReduction_p,
                                        f = n.getSkillHurt(s, e.parameter[0] / 1e4, r, l, c, g, e.bonus, 0, a, !0);
                                    a.decHp(f)
                                }
                            }
                        }
                    }), t = !0), t
                }, t.prototype.useHuoQiuShu = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, M.default.instance.useSkill(M.default.instance.skillConfig.huoqiushu, this, o, function() {
                        if (n.roleInfo) {
                            n.state = i.RoleState.Relax, n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            for (var t = 0; t < o.length; t++) {
                                var a = o[t];
                                if (a && a.node && !a.isDead) {
                                    var s = a.roleInfo.def,
                                        r = n.roleInfo.BonusDamage,
                                        l = a.roleInfo.DamageReduction,
                                        c = n.roleInfo.BonusDamage_p,
                                        g = a.roleInfo.DamageReduction_p,
                                        f = n.getSkillHurt(s, e.parameter[0] / 1e4, r, l, c, g, e.bonus, 0, a, !0);
                                    a.decHp(f)
                                }
                            }
                        }
                    }), t = !0), t
                }, t.prototype.useWuJiZhenqi = function(e) {
                    var t = this,
                        n = [this];
                    if (n.length < e.int) {
                        var o = e.int - n.length,
                            a = b.default.instance.getSummonedListByDistance(e.range, o, this.gridRow, this.gridCol);
                        n = n.concat(a)
                    }
                    return M.default.instance.useSkill(M.default.instance.skillConfig.wujizhenqi, this, n, function() {
                        t.state = i.RoleState.Relax;
                        for (var o = 0; o < n.length; o++) {
                            var a = n[o];
                            a && !a.isDead && a.roleInfo && (a.wujiZhenSpeedBuf > 0 && (a.roleInfo.attackSpeed = Math.floor(a.roleInfo.attackSpeed - a.wujiZhenSpeedBuf)), a.wujiZhenSpeedBuf = e.parameter[1], a.wuJiZhenQiDuration = O.default.now() + 1e3 * e.duration_time, a.roleInfo.attackSpeed = Math.floor(a.roleInfo.attackSpeed + a.wujiZhenSpeedBuf))
                        }
                    }), !0, !0
                }, t.prototype.useShenShengZhanJia = function(e) {
                    var t = this,
                        n = [this];
                    if (n.length < e.int) {
                        var o = e.int - n.length,
                            a = b.default.instance.getSummonedListByDistance(e.range, o, this.gridRow, this.gridCol);
                        n = n.concat(a)
                    }
                    M.default.instance.useSkill(M.default.instance.skillConfig.shenshengzhanjiashu, this, n, function() {
                        t.state = i.RoleState.Relax
                    });
                    for (var s = 0; s < n.length; s++) {
                        var r = n[s];
                        r.shenShengZhanJiaDuration = O.default.now() + 1e3 * (e.duration_time + 1), r.shenShengZhanJiaAddDef > 0 && (r.roleInfo.def -= r.shenShengZhanJiaAddDef), r.shenShengZhanJiaAddDef = Math.round(this.roleInfo.spt * (e.parameter[0] / 1e4) + e.bonus);
                        var l = r.roleInfo.getMaxHp();
                        r.roleInfo.def += r.shenShengZhanJiaAddDef, r.shenShengZhanJiaAddHp > 0 && (l -= r.shenShengZhanJiaAddHp), r.shenShengZhanJiaAddHp = Math.round(r.roleInfo.getMaxHp() * (e.parameter[1] / 1e4)), l += r.shenShengZhanJiaAddHp, r.roleInfo.setMaxHp(l), r.refreshRoleInfo()
                    }
                    return !0, !0
                }, t.prototype.useLingHunHuoFu = function(e) {
                    var t,
                        n = this,
                        o = this.getSkillAttackList(e);
                    return o.length >= e.t_num && (this.state = i.RoleState.Attack, t = !0, M.default.instance.useSkill(M.default.instance.skillConfig.linghunhuofu, this, o, function() {
                        if (n.roleInfo) {
                            n.state = i.RoleState.Relax, n.addHp(n.roleInfo.shengmingXiQu), n.addMp(n.roleInfo.faliXiQu);
                            for (var t = 0; t < o.length; t++) {
                                var a = o[t];
                                if (a && a.node && !a.isDead) {
                                    var s = a.roleInfo.def - a.roleInfo.def * e.parameter[1] / 1e4,
                                        r = n.roleInfo.BonusDamage,
                                        l = a.roleInfo.DamageReduction,
                                        c = n.roleInfo.BonusDamage_p,
                                        g = a.roleInfo.DamageReduction_p,
                                        f = n.getSkillHurt(s, e.parameter[0] / 1e4, r, l, c, g, e.bonus, 0, a, !0);
                                    f += n.checkGetWuJieZhenQiHurt(s, r, l, c, g, 0), a.decHp(f)
                                }
                            }
                        }
                    })), t
                }, t.prototype.useSkillShiDuShu = function(e) {
                    var t = this,
                        n = !1,
                        o = this.getSkillAttackList(e);
                    if (o.length >= e.t_num) {
                        this.state = i.RoleState.Attack;
                        var a = V.default.getSkillEffectAndBonusDamage(e.skillId),
                            s = a.skillEffectType,
                            l = a.skinBonusDamage_p;
                        M.default.instance.useSkill(s, this, o, function() {
                            t.roleInfo && (t.state = i.RoleState.Relax, t.addHp(t.roleInfo.shengmingXiQu), t.addMp(t.roleInfo.faliXiQu))
                        }), n = !0;
                        for (var c = 0; c < o.length; c++) {
                            var g = o[c];
                            if (g && g.node && !g.isDead) {
                                var f = g.roleInfo.def,
                                    d = this.roleInfo.BonusDamage,
                                    h = g.roleInfo.DamageReduction,
                                    u = this.roleInfo.BonusDamage_p,
                                    p = g.roleInfo.DamageReduction_p;
                                g.shiDu_BonusDamage_p = this.roleInfo.BonusDamage_p, g.shidu_BonusDamage = d;
                                var m = this.getSkillHurt(f, (e.parameter[0] + l) / 1e4, d, h, u, p, e.bonus, 0, g, !0),
                                    C = this.checkGetWuJieZhenQiHurt(f, d, h, u, p, 0);
                                m += C, r.Logger.log("\u65e0\u6781\u771f\u6c14\u52a0\u6210===", m, this.wujiZhenSpeedBuf, this.wuJiZhenQiDuration, C), g.decHp(m), g.shiDuRolePrefab = this;
                                var v = O.default.now();
                                g.shiDuDuration = v + 1e3 * (e.duration_time + 1), g.shiDuLastTime = v
                            }
                        }
                    }
                    return n
                }, t.prototype.useSkillZhiLiaoShu = function(e) {
                    var t,
                        n = this,
                        o = [this];
                    if (o.length < e.int) {
                        var a = b.default.instance.getSummonedListByDistance(e.range, e.int, this.gridRow, this.gridCol);
                        o = o.concat(a)
                    }
                    for (var s = !0, r = 0; r < o.length; r++) {
                        (l = o[r]).nowRoleType == i.RoleType.Role ? l.roleInfo.getHp() < .8 * this.roleInfo.getMaxHp() && (s = !0) : l.nowRoleType == i.RoleType.Summoned && l.roleInfo.getHp() < .8 * this.roleInfo.getMaxHp() && (s = !0)
                    }
                    if (s) {
                        M.default.instance.useSkill(M.default.instance.skillConfig.zhiYuShu, this, o, function() {
                            n.state = i.RoleState.Relax
                        });
                        for (r = 0; r < o.length; r++) {
                            var l;
                            (l = o[r]).zhiYuDuration = O.default.now() + 1e3 * e.duration_time, l.zhiYuLastTime = O.default.now();
                            var c = Math.round(l.roleInfo.getMaxHp() * e.parameter[0] / 1e4);
                            l.addHp(c)
                        }
                        t = !0
                    }
                    return t
                }, t.prototype.getJianShangXiShu = function(e) {
                    return .015 * e / (18 + .015 * e)
                }, t.prototype.checkGetWuJieZhenQiHurt = function(e, t, i, n, o, a) {
                    var s = 0;
                    if (w.default.instance.occupation == f.GameConst.OCCUPATION.DAO_SHI && O.default.now() < this.wuJiZhenQiDuration) {
                        var l,
                            c = I.default.instance.getWuJiZhenQi(),
                            g = c.parameter[0] / 1e4;
                        a = c.bonus, isNaN(a) && (a = 0), l = this.roleInfo.spt;
                        var d = this.getJianShangXiShu(e),
                            h = t - i;
                        h <= 0 && (h = 0), (s = ((l + a) * (1 - d) - e / 2) * g * (1 + n - o) + h) <= 1 && (s = 1), s = Math.ceil(s), r.Logger.log("\u6280\u80fd\u4f24\u5bb3 \u65e0\u6781\u771f\u6c14=", e, g, l, a, d, n, o, h, s)
                    }
                    return s
                }, t.prototype.checkFaShuJingTong = function(e, t, i, n, o, a) {
                    var s = 0;
                    if (w.default.instance.occupation == f.GameConst.OCCUPATION.FA_SHI) {
                        var r = Math.random(),
                            l = 0,
                            c = I.default.instance.getFaShuJingTong();
                        if (c && r <= c.chance / 1e4) {
                            var g = c.parameter[0] / 1e4;
                            a += c.bonus, isNaN(a) && (a = 0), l = this.roleInfo.mag;
                            var d = this.getJianShangXiShu(e),
                                h = t - i;
                            h <= 0 && (h = 0), (s = ((l + a) * (1 - d) - e / 2) * g * (1 + n - o) + h) <= 1 && (s = 1), s = Math.ceil(s), I.default.instance.addSkillExp(c.skillId)
                        }
                    }
                    return s
                }, t.prototype.getSkillHurt = function(e, t, n, o, a, s, l, c, g, d) {
                    if (void 0 === l && (l = 0), void 0 === c && (c = 0), void 0 === d && (d = !1), this.roleInfo) {
                        isNaN(l) && (l = 0), Math.random() < c && (e = 0);
                        var h = 0;
                        t += this.checkGongShaJianShu_BeUse(), w.default.instance.occupation == f.GameConst.OCCUPATION.ZHAN_SHI ? h = w.default.instance.getAttack() : w.default.instance.occupation == f.GameConst.OCCUPATION.FA_SHI ? h = w.default.instance.getMofa() : w.default.instance.occupation == f.GameConst.OCCUPATION.DAO_SHI && (h = w.default.instance.getDaoShu()), h = h;
                        var u = this.getJianShangXiShu(e),
                            p = n - o;
                        p <= 0 && (p = 0);
                        var m = ((h * (1 - u) - e / 4) * t + l * (1 - u)) * (1 + a - s);
                        m < 1 && (m = 1);
                        var C = (m = this.nowRoleType == i.RoleType.Role || this.nowRoleType == i.RoleType.Summoned ? this.getManLuckyHurt(m, this.roleInfo.lucky) : this.getMonsterLuckyHurt(m, this.roleInfo.lucky)) + p;
                        return C <= 1 && (C = 1), r.Logger.log("getSkillHurt===", m, p, n, o, C), (C += this.checkFaShuJingTong(e, n, o, a, s, l)) <= 1 && (C = 1), C = Math.ceil(C), d && this.checkMingYunZhiRen(1, g), C
                    }
                }, t.prototype.getMonsterLuckyHurt = function(e, t) {
                    var i = .05 * t * 1e4;
                    if (1e4 * Math.random() < i)
                        return e;
                    var n = l.default.nextNumber(.8, 1);
                    return Math.ceil(e * n)
                }, t.prototype.getManLuckyHurt = function(e, t) {
                    var i = .05 * t * 1e4;
                    if (1e4 * Math.random() < i)
                        return e;
                    var n = l.default.nextNumber(.5, 1);
                    return Math.ceil(e * n)
                }, t.prototype.getLuckyAttackMonster = function(e, t) {
                    var i = .05 * t * 1e4;
                    if (1e4 * Math.random() < i)
                        return .95 * e;
                    var n = l.default.nextNumber(.75, .95);
                    return Math.ceil(e * n)
                }, t.prototype.getLuckyAttack = function(e, t) {
                    var i = .05 * t * 1e4;
                    if (1e4 * Math.random() < i)
                        return e;
                    var n = l.default.nextNumber(.5, 1);
                    return Math.ceil(e * n)
                }, t.prototype.getManCommonHurt = function(e, t) {
                    if (void 0 === t && (t = 0), !e || !e.node || !e.roleInfo)
                        return 0;
                    var n;
                    n = this.roleInfo.attack;
                    var o = this.roleInfo.BonusDamage,
                        a = e.roleInfo.DamageReduction,
                        s = this.roleInfo.BonusDamage_p,
                        l = e.roleInfo.DamageReduction_p,
                        c = this.roleInfo.ignoredef_p;
                    this.nowRoleType == i.RoleType.Role && (s += this.checkGongShaJianShu_BeUse());
                    var g = this.getJianShangXiShu(e.roleInfo.def),
                        f = Math.random(),
                        d = e.roleInfo.def;
                    f < c && (d = 0);
                    var h = o - a;
                    h <= 0 && (h = 0);
                    var u = 1 * ((n + t) * (1 - g) - d / 4) * (1 + s - l);
                    u < 1 && (u = 1);
                    var p = (u = this.nowRoleType == i.RoleType.Role || this.nowRoleType == i.RoleType.Summoned ? this.getManLuckyHurt(u, this.roleInfo.lucky) : this.getMonsterLuckyHurt(u, this.roleInfo.lucky)) + h;
                    return r.Logger.log("getCommonHurt=111=", d, n, o, a, s, l, g, t, 1, h, p), p <= 1 && (p = 1), p = Math.ceil(p), this.nowRoleType == i.RoleType.Role && (p += this.checkFaShuJingTong(d, o, a, s, l, t)), this.nowRoleType == i.RoleType.Summoned && (p += this.checkGetWuJieZhenQiHurt(d, o, a, s, l, 0)), p
                }, t.prototype.getMonsterHurt = function(e, t) {
                    if (void 0 === t && (t = 0), !e || !e.node || !e.roleInfo)
                        return 0;
                    var n = 0;
                    n = this.roleInfo.attack, this.nowRoleType == i.RoleType.Role || this.nowRoleType == i.RoleType.Summoned || (n = this.getLuckyAttackMonster(this.roleInfo.attack, this.roleInfo.lucky));
                    var o = this.roleInfo.BonusDamage,
                        a = e.roleInfo.DamageReduction,
                        s = this.roleInfo.BonusDamage_p,
                        r = e.roleInfo.DamageReduction_p;
                    this.nowRoleType == i.RoleType.Role && (s += this.checkGongShaJianShu_BeUse());
                    var l = this.getJianShangXiShu(e.roleInfo.def),
                        c = e.roleInfo.def,
                        g = o - a;
                    g <= 0 && (g = 0);
                    var f = 1 * ((n + t) * (1 - l) - c / 2) * (1 + s - r);
                    f < 1 && (f = 1), this.nowRoleType != i.RoleType.Role && this.nowRoleType != i.RoleType.Summoned || (f = this.getManLuckyHurt(f, this.roleInfo.lucky));
                    var d = f + g;
                    return d <= 1 && (d = 1), d = Math.ceil(d), this.nowRoleType == i.RoleType.Role && (d += this.checkFaShuJingTong(c, o, a, s, r, t)), this.nowRoleType == i.RoleType.Summoned && (d += this.checkGetWuJieZhenQiHurt(c, o, a, s, r, 0)), d
                }, t.prototype.checkGongShaJianShu_BeUse = function() {
                    var e = I.default.instance.getGongShaJianShu(),
                        t = Math.random(),
                        i = 0;
                    if (e && t <= e.chance / 1e4) {
                        var n = E.ServerTime.getServerTime(),
                            o = I.default.instance.getSkillModelById(e.skillId);
                        (n - o.lastUseTIme) / 1e3 >= e.cd && (o.lastUseTIme = n, w.default.saveToLocalStorage(), i += e.parameter[0] / 1e4, this.gongshaJianShu_AtSpeed > 0 && (this.roleInfo.attackSpeed -= this.gongshaJianShu_AtSpeed, this.gongshaJianShu_AtSpeed = 0), this.gongshaJianShu_AtSpeed = e.parameter[1], this.roleInfo.attackSpeed = Math.ceil(this.roleInfo.attackSpeed + this.gongshaJianShu_AtSpeed), r.Logger.log("checkGongShaJianShu_BeUse===", this.roleInfo.attackSpeed, e, this.gongshaJianShu_AtSpeed), this.gongshaJianShu_Duration = O.default.now() + 1e3 * e.duration_time, I.default.instance.addSkillExp(o.id))
                    }
                    return i
                }, t.prototype.checkSkill = function(e) {
                    for (var t, i = 0; i < e.length; i++) {
                        var n = e[i];
                        if (t = this.checkOneSkill(n)) {
                            var o = w.default.instance.getSkillModel(n.skillId);
                            n.skillId != u.SkillConfig.SkillIdConfig.MoFaDun && (o.lastUseTIme = E.ServerTime.getServerTime(), w.default.saveToLocalStorage());
                            break
                        }
                    }
                    return t
                }, t.prototype.checkAttackCdEnd = function() {
                    return E.ServerTime.getServerTime() >= this.nextAttackCd
                }, t.prototype.manAttackMonster = function() {
                    var e = this;
                    if (this.checkAttackCdEnd()) {
                        I.default.instance.addBeiDongSkillExp();
                        var t = T.SkillModel.getMyCanUseSkillList();
                        if (this.checkSkill(t))
                            this.state = i.RoleState.Relax;
                        else if (this.mainAttackRole && this.mainAttackRole.node && !this.mainAttackRole.isDead) {
                            M.default.instance.useSkill(M.default.instance.skillConfig.putonggongji, this, [this.mainAttackRole], function() {});
                            var n = i.getSideRole2Role(this, this.mainAttackRole),
                                o = this.getManCommonHurt(this.mainAttackRole);
                            this.mainAttackRole.decHp(o), this.checkMingYunZhiRen(1, this.mainAttackRole), this.playCommonAttackMv(n), this.addHp(w.default.instance.getShengMingXiQu()), this.addMp(w.default.instance.getFaLiXiQu()), this.state = i.RoleState.Relax
                        } else {
                            var a = _.default.instance.getAttackMonsterList(this.roleInfo.heroConfig.atDistance, 1, this.gridRow, this.gridCol);
                            if (a.length > 0) {
                                this.state = i.RoleState.Attack, this.mainAttackRole = a[0], M.default.instance.useSkill(M.default.instance.skillConfig.putonggongji, this, a, function() {
                                    e.state = i.RoleState.Relax
                                });
                                for (var s = 0; s < a.length; s++) {
                                    var r = a[s];
                                    n = i.getSideRole2Role(this, a[s]), o = this.getManCommonHurt(r);
                                    this.checkMingYunZhiRen(1, r), r.decHp(o), this.playCommonAttackMv(n)
                                }
                                this.state = i.RoleState.Relax
                            } else
                                this.move()
                        }
                        this.nextAttackCd = E.ServerTime.getServerTime() + 1e3 / this.roleInfo.attackSpeed * 1e3
                    }
                }, t.prototype.checkAttack = function() {
                    B.default.instance.isPause || (this.moveFrameTemp++, this.moveFrameTemp > i.RoleType.Summoned && (this.moveFrameTemp = i.RoleType.Role), B.default.instance.gameView.myRolePrefab && !B.default.instance.gameView.myRolePrefab.isDead && (this.nowRoleType, i.RoleType.Role, this.state == i.RoleState.Relax && (this.nowRoleType == i.RoleType.Role && this.moveFrameTemp == i.RoleType.Role ? this.manAttackMonster() : this.nowRoleType == i.RoleType.Monster && this.moveFrameTemp == i.RoleType.Monster ? this.monsterAttackRole() : this.nowRoleType == i.RoleType.Summoned && this.moveFrameTemp == i.RoleType.Summoned && this.summerAttackMonster())))
                }, t.prototype.monsterAttackRole = function() {
                    var e = this;
                    if (!this.yeManChongZhuangNode && this.checkAttackCdEnd()) {
                        var t = B.default.instance.gameView.getMonsterAttackRoleList(this.roleInfo.monsterConfig.atDistance, this.gridRow, this.gridCol);
                        if (t.length > 0) {
                            this.nextAttackCd = E.ServerTime.getServerTime() + 1e3 / this.roleInfo.attackSpeed * 1e3 / E.ServerTime.passFrameTime;
                            for (var i = function(i) {
                                    var o = t[i],
                                        a = void 0;
                                    Math.abs(n.gridRow - o.gridRow) <= 1 && Math.abs(n.gridCol - o.gridCol) <= 1 ? (a = M.default.instance.skillConfig.putonggongji, n.monsterAttackRoleEffect(o, t)) : (a = M.default.instance.skillConfig.yuanchenggongji, M.default.instance.useSkill(a, n, [o], function() {
                                        o && o.node && o.roleInfo && e.monsterAttackRoleEffect(o, t)
                                    }))
                                }, n = this, o = 0; o < 1; o++)
                                i(o)
                        } else
                            this.move()
                    }
                }, t.prototype.monsterAttackRoleEffect = function(e, t) {
                    var n,
                        o,
                        a = this,
                        s = i.getSideRole2Role(this, e);
                    if (this.playCommonAttackMv(s), e && e.iconYinShen && e.iconYinShen.active) {
                        if (e.nowRoleType == i.RoleType.Role) {
                            var l = w.default.instance.getSkillModel(u.SkillConfig.SkillIdConfig.YinShen);
                            n = u.SkillConfig.getSkillConfigById(l.id, l.getTotalLevel()), o = !0
                        }
                    } else if (e.nowRoleType == i.RoleType.Role && (n = w.default.instance.canUseYinShen()) && n.mana <= e.roleInfo.getMp()) {
                        var c = Math.round(e.roleInfo.getMaxHp() * n.parameter[0] / 1e4);
                        e.roleInfo.getHp() <= c && (o = !0, I.default.instance.addSkillExp(n.skillId), M.default.instance.useSkill(M.default.instance.skillConfig.yinshenshu, e, [e], function(o) {
                            for (var s = 0; s < t.length; s++) {
                                var r = t[s];
                                e && e.node && e.roleInfo && (r.yinshen_skillmv = o[s])
                            }
                            a.state = i.RoleState.Relax, e.yinShenDuration = O.default.now() + 1e3 * n.duration_time, w.default.instance.getSkillModel(n.skillId).lastUseTIme = E.ServerTime.getServerTime(), w.default.saveToLocalStorage()
                        }))
                    }
                    if (o) {
                        e.yinShen_DamageReduction_p > 0 && (e.roleInfo.DamageReduction_p -= e.yinShen_DamageReduction_p), e.yinShen_DamageReduction_p = n.parameter[1] / 1e4, e.roleInfo.DamageReduction_p += e.yinShen_DamageReduction_p;
                        var g = this.getMonsterHurt(e);
                        e.decHp(g)
                    } else {
                        g = this.getMonsterHurt(e);
                        if (e.moFaDun && e.moFaDun.active) {
                            var f = Math.ceil(g * e.moFaDunDef);
                            if (e.moFaDunHadHurt += f, g -= f, r.Logger.log("\u4f7f\u7528\u9b54\u6cd5\u76fe====", f, e.moFaDunHadHurt, e.moFaDunMaxHurt), e.moFaDunHadHurt >= e.moFaDunMaxHurt)
                                e.moFaDun.destroy(), e.moFaDun = null, (l = w.default.instance.getSkillModel(u.SkillConfig.SkillIdConfig.MoFaDun)).lastUseTIme = E.ServerTime.getServerTime(), w.default.saveToLocalStorage()
                        }
                        e.decHp(g)
                    }
                }, t.prototype.summerAttackMonster = function() {
                    var e = this;
                    if (this.checkAttackCdEnd()) {
                        I.default.instance.addSkillExp(this.roleInfo.summonedConfig.skillId);
                        var t = [];
                        if (this.mainAttackRole && !this.mainAttackRole.isDead && t.push(this.mainAttackRole), t.length < this.roleInfo.summonedConfig.atk_num) {
                            var n = this.roleInfo.summonedConfig.atk_num;
                            t.length > 0 && (n = this.roleInfo.summonedConfig.atk_num - t.length);
                            var o = _.default.instance.getAttackMonsterList(this.roleInfo.summonedConfig.distance, n, this.gridRow, this.gridCol, this.mainAttackRole);
                            t = t.concat(o)
                        }
                        if (t.length > 0) {
                            this.mainAttackRole = t[0], this.nextAttackCd = E.ServerTime.getServerTime() + 1e3 / (this.roleInfo.attackSpeed + w.default.instance.getpetspeed()) * 1e3 / E.ServerTime.passFrameTime;
                            var a = M.default.instance.skillConfig.putonggongji;
                            this.roleInfo.summonedConfig.level >= 10 && this.roleInfo.summonedConfig.level <= 19 && (a = M.default.instance.skillConfig.shenshougongji), M.default.instance.useSkill(a, this, t, function() {
                                e.state = i.RoleState.Relax
                            });
                            for (var s = 0; s < t.length; s++) {
                                var r = t[s],
                                    l = i.getSideRole2Role(this, r),
                                    c = this.getManCommonHurt(r);
                                r.decHp(c), this.checkMingYunZhiRen(1, r), this.playCommonAttackMv(l)
                            }
                        } else
                            this.move()
                    }
                }, t.prototype.decMp = function(e) {
                    e > 0 && (w.default.instance.decMp(e), this.roleInfo.setMp(w.default.instance.getMp()), this.refreshRoleInfo())
                }, t.prototype.decHp = function(e) {
                    var t = this;
                    if (this.node && !this.isDead && -1 == w.default.instance.switchingMapId && (e <= 0 && (e = 1), e > 0)) {
                        if (e = Math.ceil(e), isNaN(e))
                            return r.Logger.warn("\u6218\u6597\u6570\u636e\u51fa\u9519!"), void P.UIHelper.showTip("\u6218\u6597\u6570\u636e\u51fa\u9519!");
                        this.roleInfo.getMaxHp();
                        var n = this.roleInfo.getHp();
                        this.nowRoleType == i.RoleType.Role ? (w.default.instance.getMaxHp(), n = w.default.instance.getHp()) : this.nowRoleType == i.RoleType.Summoned || (this.nowRoleType, i.RoleType.Monster);
                        var o = Math.ceil(Math.min(n, e));
                        if (O.default.now() < this.wudiCount && (this.mianYiNode.active || (this.mianYiNode.setPosition(0, 0), this.mianYiNode.active = !0, cc.tween(this.mianYiNode).to(.3, {
                            position: cc.v2(0, 50)
                        }).call(function() {
                            t.mianYiNode.active = !1
                        }).start())), o > 0 && O.default.now() >= this.wudiCount) {
                            if (this.totalHurtBlood += o, n -= o, this.roleInfo.setHp(n), o > 0 && (this.nowRoleType == i.RoleType.Role || this.nowRoleType == i.RoleType.Summoned ? y.default.instance.showScoreEffect("-" + e, y.default.ScoreType.JueSe, cc.v2(this.node.x, this.node.y)) : this.nowRoleType == i.RoleType.Monster && y.default.instance.showScoreEffect("-" + e, y.default.ScoreType.Guai, cc.v2(this.node.x, this.node.y))), this.nowRoleType == i.RoleType.Role) {
                                if (-1 != w.default.instance.switchingMapId)
                                    return;
                                w.default.instance.decHp(o), this.checkEatHp()
                            }
                            this.refreshRoleInfo()
                        }
                        this.roleInfo.isBoss && B.default.instance.gameView.refreshBossHp(), n <= 0 && (this.isDead = !0, this.mpNode.active = !1, this.scheduleOnce(function() {
                            t.nowRoleType == i.RoleType.Monster ? (N.default.kill_monster(t.roleInfo.monsterId + "", t.roleInfo.monsterConfig.id, t.roleInfo.quality, t), t.roleInfo.isBoss || (t.node.opacity = 0)) : t.nowRoleType == i.RoleType.Role ? (B.default.instance.gameView.gotoRoleDead(t), L.ChatModel.addChat(L.ChatType.roleDead, w.default.instance.roleName)) : t.nowRoleType == i.RoleType.Summoned && B.default.instance.gameView.killSummoned(t)
                        }, 1))
                    }
                }, t.prototype.addHp = function(e) {
                    if (e > 0) {
                        e = Math.floor(e);
                        var t = this.roleInfo.getMaxHp(),
                            i = this.roleInfo.getHp(),
                            n = Math.ceil(Math.min(t - i, e));
                        n > 0 && (i += n, this.roleInfo.setHp(i), w.default.instance.addHp(n), y.default.instance.showScoreEffect("+" + n, y.default.ScoreType.Recover, cc.v2(this.node.x, this.node.y)), this.refreshRoleInfo())
                    }
                }, t.prototype.addMp = function(e) {
                    if (e > 0) {
                        e = Math.floor(e);
                        var t = this.roleInfo.getMp(),
                            i = Math.min(this.roleInfo.getMaxMp() - t, e);
                        i > 0 && (w.default.instance.addMp(i), r.Logger.log("\u5403\u836f====\u9b54\u6cd5\u56de\u590d", i, w.default.instance.getMofa()), this.roleInfo.setMp(w.default.instance.getMofa()), this.refreshRoleInfo())
                    }
                }, t.prototype.playCommonAttackMv = function(e) {
                    var t = this;
                    if (this.node) {
                        this.state = i.RoleState.Attack;
                        var n = B.default.instance.gameView.getGridPosition(this.gridRow, this.gridCol);
                        this.node.setPosition(n), e == i.RoleSide.Up ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x, this.node.y + 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.Down ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x, this.node.y - 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.Left ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x - 10, this.node.y)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.Right ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x + 10, this.node.y)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.LeftDown ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x - 10, this.node.y - 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.LeftUp ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x - 10, this.node.y + 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.RightDown ? cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x + 10, this.node.y - 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start() : e == i.RoleSide.RightUp && cc.tween(this.node).to(this.commonAttackTime, {
                            position: cc.v2(this.node.x + 10, this.node.y + 10)
                        }).to(this.commonAttackTime, {
                            position: n
                        }).call(function() {
                            t.state = i.RoleState.Relax
                        }).start()
                    }
                }, t.prototype.checkMonsterMove = function() {
                    var e = this,
                        t = B.default.instance.gameView.getMonsterAttackList();
                    if (t && t.length > 0)
                        for (var i = !1, n = 0; n < t.length; n++) {
                            var o = t[n];
                            i || v.default.instance.findPath(this.gridRow, this.gridCol, o.gridRow, o.gridCol, function(t) {
                                t && !i && (i = !0, e.moveToRowCol(t.row, t.col))
                            })
                        }
                }, t.prototype.move = function() {
                    var e = this;
                    if (this.state == i.RoleState.Relax)
                        if (this.nowRoleType == i.RoleType.Role)
                            (t = _.default.instance.getNearlyMonster(this)) && v.default.instance.findPath(this.gridRow, this.gridCol, t.gridRow, t.gridCol, function(t) {
                                t && e.moveToRowCol(t.row, t.col)
                            });
                        else if (this.nowRoleType == i.RoleType.Monster)
                            this.checkMonsterMove();
                        else if (this.nowRoleType == i.RoleType.Summoned) {
                            var t;
                            (t = _.default.instance.getNearlyMonster(this)) && v.default.instance.findPath(this.gridRow, this.gridCol, t.gridRow, t.gridCol, function(t) {
                                t && e.moveToRowCol(t.row, t.col)
                            })
                        }
                }, t.prototype.moveToRowCol = function(e, t) {
                    var n = this;
                    this.state = i.RoleState.Moving, this.gridRow = e, this.gridCol = t;
                    var o = B.default.instance.gameView.getGridPosition(e, t);
                    cc.tween(this.node).to(.3, {
                        position: o
                    }).delay(this.moveTime).call(function() {
                        n && (n.state = i.RoleState.Relax)
                    }).start()
                }, t.prototype.checkMingYunZhiRen = function(e, t) {
                    if (void 0 === e && (e = 1), 1 == e) {
                        var i = D.ShenbingskillAllConfig.getSkillConfigById(U.default.getModelByShenbinType(H.default.MINGYUNZHIREN).id);
                        if (i && Math.random() < i.parameter[0] / 1e4) {
                            var n = t.getMaxHp(),
                                o = Math.floor(n * (i.parameter[1] / 1e4)) > 1 ? Math.floor(n * (i.parameter[1] / 1e4)) : 1;
                            t.decHp(o)
                        }
                    }
                }, t.prototype.onDisable = function() {
                    s.EventManager.instance.off(C.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this), this.node.stopAllActions(), this.unscheduleAllCallbacks()
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), this.unscheduleAllCallbacks(), this.node.stopAllActions()
                }, t.RoleType = {
                    Role: 1,
                    Monster: 2,
                    Summoned: 3
                }, t.RoleSide = {
                    Left: 1,
                    Right: 2,
                    Up: 3,
                    Down: 4,
                    LeftUp: 5,
                    RightUp: 6,
                    LeftDown: 7,
                    RightDown: 8
                }, t.RoleState = {
                    Relax: 0,
                    Moving: 1,
                    Attack: 2
                }, t = i = o([G], t)
            }(a.default);
        i.default = q, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/MathUtils": "MathUtils",
        "../../engine/RandomUtil": "RandomUtil",
        "../../engine/UIManager": "UIManager",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/HeroConfig": "HeroConfig",
        "../config/MonsterConfig": "MonsterConfig",
        "../config/ShenbingskillAllConfig": "ShenbingskillAllConfig",
        "../config/SkillConfig": "SkillConfig",
        "../config/SpriteFrameConfig": "SpriteFrameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../manager/MapManager": "MapManager",
        "../manager/MonsterManager": "MonsterManager",
        "../manager/ScoreManager": "ScoreManager",
        "../manager/SkillEffectManager": "SkillEffectManager",
        "../manager/SkillManager": "SkillManager",
        "../manager/SummonedManager": "SummonedManager",
        "../model/ChatModel": "ChatModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/RolePrefabInfo": "RolePrefabInfo",
        "../model/ServerTime": "ServerTime",
        "../model/SettingModel": "SettingModel",
        "../model/ShenBinModel": "ShenBinModel",
        "../model/ShenBinSkillModel": "ShenBinSkillModel",
        "../model/SkillEffectModel": "SkillEffectModel",
        "../model/SkillModel": "SkillModel",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper",
        "./GameManager": "GameManager"
    }],
    RuneConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "1064ctFAfdOk7CZK71Tojqh", "RuneConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../../engine/Logger"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.name = e.name, i.rune = e.rune, i.property = e.property, i.pro_min = e.pro_min, i.pro_max = e.pro_max, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    }), a.Logger.log("RuneConfig====", this.configMap)
                }, t.getRuneById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        i.id != e || (t = i)
                    }), t
                }, t.configMap = new Map, t.Config_Name = "runeconfig", t
            }(o.JsonConfigBase);
        i.RuneConfig = s, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    SafeDataModelBase: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3ebddibKO1IH5njt0t6q0BN", "SafeDataModelBase"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RandomUtil"),
            o = function() {
                function e() {
                    this.dataKeyMap = new Map, this.dataMap = new Map
                }
                return e.prototype.getNumber = function(e) {
                    var t = this.dataKeyMap.get(e),
                        i = this.dataMap.get(e);
                    return isNaN(i) && (i = 0), i += t
                }, e.prototype.setNumber = function(e, t) {
                    var i = n.default.nextInt(1, 666666);
                    t -= i, this.dataKeyMap.set(e, i), this.dataMap.set(e, t)
                }, e
            }();
        i.default = o, cc._RF.pop()
    }, {
        "./RandomUtil": "RandomUtil"
    }],
    ScoreManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a922dSy3I5BoLN7OfwHfzFG", "ScoreManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/RandomUtil"),
            o = function() {
                function e() {
                    this.poolList = []
                }
                return e.prototype.init = function(e) {
                    this.txtList = e
                }, e.prototype.showScoreEffect = function(e, t, i) {
                    var o = this,
                        a = this.getFromPool(t);
                    a.node.parent = this.txtList[t].node.parent, a.string = e + "", a.node.active = !0, a.node.setPosition(i);
                    var s = n.default.nextNumber(-30, 40);
                    a.node.setPosition(i.x, i.y + s), cc.tween(a.node).delay(.2).to(.1, {
                        scale: .7
                    }).to(.16, {
                        position: cc.v2(a.node.x, a.node.y + 30)
                    }).call(function() {
                        o.releaseToPool(a, t)
                    }).start()
                }, e.prototype.getFromPool = function(t) {
                    var i;
                    return void 0 === t && (t = e.ScoreType.Recover), this.poolList[t] || (this.poolList[t] = new cc.NodePool), (i = this.poolList[t].size() > 0 ? this.poolList[t].get().getComponent(cc.Label) : cc.instantiate(this.txtList[t].node).getComponent(cc.Label)).node.setScale(1), i
                }, e.prototype.releaseToPool = function(t, i) {
                    void 0 === i && (i = e.ScoreType.Recover), t.node.stopAllActions(), this.poolList[i] || (this.poolList[i] = new cc.NodePool), this.poolList[i].put(t.node)
                }, e.instance = new e, e.ScoreType = {
                    Recover: 0,
                    JueSe: 1,
                    Guai: 2
                }, e
            }();
        i.default = o, cc._RF.pop()
    }, {
        "../../engine/RandomUtil": "RandomUtil"
    }],
    SdkHelper: [function(require, module, exports) {
        "use strict";
        cc._RF.push(module, "12f77+rd2tN44KhDcb6KvZ3", "SdkHelper"), Object.defineProperty(exports, "__esModule", {
            value: !0
        });
        var Logger_1 = require("../../engine/Logger"),
            UIHelper_1 = require("../utils/UIHelper"),
            VersionManager_1 = require("../../engine/VersionManager"),
            EventManager_1 = require("../../engine/EventManager"),
            CommonEvent_1 = require("../event/CommonEvent"),
            RoleInfoModel_1 = require("../model/RoleInfoModel"),
            UIManager_1 = require("../../engine/UIManager"),
            ViewConfig_1 = require("../config/ViewConfig"),
            SocketClient_1 = require("../network/SocketClient"),
            GameController_1 = require("../GameController"),
            LocalStorage_1 = require("../../engine/LocalStorage"),
            tttool_1 = require("../miniGameTools/tttool"),
            ZoneModel_1 = require("../model/ZoneModel"),
            GameConfig_1 = require("../config/GameConfig"),
            SdkHelper = function() {
                function SdkHelper() {}
                return SdkHelper.nativeToH5 = function(e) {
                    Logger_1.Logger.log("nativeToH5=", e);
                    var t = JSON.parse(e).event;
                    "RewardedVideoAdDidVisible" == t ? UIManager_1.default.instance.closeView(ViewConfig_1.default.gameView.LoadingTipView) : "RewardedVideoAdServerRewardDidSucceed" == t && (UIHelper_1.UIHelper.showTip("\u5e7f\u544a\u64ad\u653e\u5b8c\u6210"), EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_ad_end))
                }, SdkHelper.init = function() {
                    window.SdkHelper = SdkHelper, window.addEventListener("message", function(e) {
                        Logger_1.Logger.log("window.message==", e), "nativeToH5" == e.data.action && SdkHelper.nativeToH5(e.data.data)
                    }), window.nativeToH5 = SdkHelper.nativeToH5, window.onCpCallback = function(callback_type, callback_data) {
                        Logger_1.Logger.log("SdkHelper.onCpCallback", callback_type, callback_data);
                        var data = eval("(" + callback_data + ")");
                        Logger_1.Logger.log("data==", data);
                        var ret = data.ret;
                        switch (callback_type) {
                        case YHCPSDK.E_INIT:
                            1 == ret ? (Logger_1.Logger.log("\u521d\u59cb\u5316\u6210\u529f"), YHCPSDK.getSDKConfigInfo(), YHCPSDK.login()) : Logger_1.Logger.error("\u521d\u59cb\u5316\u5931\u8d25\uff01");
                            break;
                        case YHCPSDK.E_GET_SDK_INFO:
                            SdkHelper.gameId = data.gameID, SdkHelper.channelId = data.channelID, SdkHelper.appId = data.appID;
                            break;
                        case YHCPSDK.E_LOGIN:
                        case YHCPSDK.E_SWITCH_ACCOUNT:
                            1 == ret ? (Logger_1.Logger.log("\u7f51\u9875SDK\u767b\u5f55\u6210\u529f"), SdkHelper.sid = data.sid || "", SdkHelper.uId = data.uid || "", SocketClient_1.default.login(1)) : (Logger_1.Logger.error("\u767b\u5f55\u5931\u8d25"), UIHelper_1.UIHelper.showTip("\u5207\u6362\u8d26\u53f7"), setTimeout(function() {
                                GameController_1.default.instance.restartGame()
                            }, 1e3));
                            break;
                        case "logout":
                            UIHelper_1.UIHelper.showTip("\u6ce8\u9500\u8d26\u53f7"), setTimeout(function() {
                                GameController_1.default.instance.restartGame()
                            }, 1e3);
                            break;
                        case "login_rsp":
                            1 == ret ? (Logger_1.Logger.log("\u767b\u5f55\u9a8c\u8bc1\u6210\u529f"), EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit)) : (Logger_1.Logger.error("\u767b\u5f55\u9a8c\u8bc1\u5931\u8d25"), UIHelper_1.UIHelper.showTip("\u767b\u5f55\u9a8c\u8bc1\u5931\u8d25!"), setTimeout(function() {
                                GameController_1.default.instance.restartGame()
                            }, 1e3))
                        }
                    }
                }, SdkHelper.isAndroid = function() {
                    return cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX
                }, SdkHelper.isIos = function() {
                    return cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX
                }, SdkHelper.onSdkCallBack = function(e) {
                    try {
                        JSON.parse(e)
                    } catch (e) {
                        Logger_1.Logger.error("onSdkCallBack")
                    }
                }, SdkHelper.getNativeVersion = function() {
                    var e = "1.0.0";
                    return cc.sys.isNative && (cc.sys.os != cc.sys.OS_ANDROID && cc.sys.os != cc.sys.OS_LINUX || (e = jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxHelper", "getVersion", "()Ljava/lang/String;"))), Logger_1.Logger.log("getNativeVersion===", e), e
                }, SdkHelper.sdkInit_Ol = function() {
                    if (cc.sys.platform !== cc.sys.WECHAT_GAME) {
                        Logger_1.Logger.log("sdkInit_Ol=====");
                        var e = {
                            gameVersion: VersionManager_1.default.instance.nowVersion,
                            appId: SdkHelper.appId,
                            paysign: SdkHelper.paysign,
                            gameId: SdkHelper.gameId,
                            channelId: SdkHelper.channelId,
                            direction: "0"
                        };
                        cc.sys.isBrowser ? (Logger_1.Logger.log("host=", window.location), window.location.ancestorOrigins.length > 0 ? window.YHCPSDK.init("onCpCallback") : EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit)) : cc.sys.isNative ? cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkInit", "(Ljava/lang/String;)V", JSON.stringify(e)) : cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX ? jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkInit:", JSON.stringify(e)) : EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit) : EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit)
                    } else
                        EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit)
                }, SdkHelper.sdkInit_callback_Ol = function(e) {
                    void 0 === e && (e = "");
                    try {
                        Logger_1.Logger.log("sdkInit_callback_Ol", e);
                        var t = JSON.parse(e).code;
                        cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? 64 == t ? (SdkHelper.sdkInit(), SdkHelper.sdkGetAppId(), SdkHelper.sdkGetChannelID(), SdkHelper.sdkGetGameId(), SdkHelper.getXmlChannel(), SdkHelper.isInit = !0) : UIHelper_1.UIHelper.showTip("\u521d\u59cb\u5316\u5931\u8d25") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (1 == t ? (SdkHelper.sdkInit(), SdkHelper.sdkGetAppId(), SdkHelper.sdkGetChannelID(), SdkHelper.sdkGetGameId(), SdkHelper.isInit = !0) : UIHelper_1.UIHelper.showTip("\u521d\u59cb\u5316\u5931\u8d25"))
                    } catch (e) {
                        Logger_1.Logger.error("sdkInit_callback_Ol error", e)
                    }
                }, SdkHelper.getXmlChannel = function() {
                    cc.sys.isNative && (cc.sys.os != cc.sys.OS_ANDROID && cc.sys.os != cc.sys.OS_LINUX || (SdkHelper.xmlChannel = jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "getXmlChannel", "()Ljava/lang/String;"), Logger_1.Logger.log("getXmlChannel===", SdkHelper.xmlChannel)))
                }, SdkHelper.sdkInit = function() {
                    var e = {
                        gameVersion: VersionManager_1.default.instance.nowVersion
                    };
                    cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? (Logger_1.Logger.log("sdkInit====="), jsb.reflection.callStaticMethod(this.BnSdkAdapter, "sdkInit", "(Ljava/lang/String;)V", JSON.stringify(e))) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || SdkHelper.sdkLogin()
                }, SdkHelper.sdkInit_callback = function(e) {
                    void 0 === e && (e = "");
                    try {
                        Logger_1.Logger.log("sdkInit_callback", e);
                        var t = JSON.parse(e);
                        1 == t.code ? (SdkHelper.app_id = t.app_id, SdkHelper.sdkLogin()) : UIHelper_1.UIHelper.showTip("\u521d\u59cb\u5316\u5931\u8d25")
                    } catch (e) {
                        Logger_1.Logger.error("sdkInit_callback error", e)
                    }
                }, SdkHelper.sdkAd = function() {
                    if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX) {
                        var e = {
                            ad_id: SdkHelper.adConfig[SdkHelper.app_id],
                            extra: ""
                        };
                        SocketClient_1.default.s_seq_start_adv_status(1), jsb.reflection.callStaticMethod(this.BnSdkAdapter, "sdkAd", "(Ljava/lang/String;)V", JSON.stringify(e))
                    } else
                        (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) && cc.sys.isBrowser ? (UIManager_1.default.instance.createView(ViewConfig_1.default.gameView.LoadingTipView, null, "\u52a0\u8f7d\u5e7f\u544a\u4e2d"), window.webkit.messageHandlers.h5ToNative.postMessage("")) : EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_ad_end)
                }, SdkHelper.sdkAd_callback = function(e) {
                    void 0 === e && (e = "");
                    try {
                        Logger_1.Logger.log("sdkAd_callback", e);
                        var t = JSON.parse(e),
                            i = t.code,
                            n = t.msg;
                        1 == i || (2 == i ? SocketClient_1.default.s_seq_start_adv_status(2) : 3 == i || (4 == i ? EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_ad_end) : 0 == i && UIHelper_1.UIHelper.showTip(n)))
                    } catch (e) {
                        Logger_1.Logger.error("sdkAd_callback error", e)
                    }
                }, SdkHelper.sdkLogin = function() {
                    cc.sys.platform !== cc.sys.WECHAT_GAME ? (Logger_1.Logger.log("sdkLogin==============="), cc.sys.isNative && (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkLogin", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkLogin:", ""))) : tttool_1.tttool.ttLogin()
                }, SdkHelper.sdkLogin_callback_Ol = function(e) {
                    void 0 === e && (e = "");
                    try {
                        Logger_1.Logger.log("sdkLogin_callback_Ol", e);
                        var t = JSON.parse(e),
                            i = t.code;
                        cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? 0 == i ? (SdkHelper.uId = t.uid, SdkHelper.sid = t.sid, SdkHelper.extra = t.extra, LocalStorage_1.default.setItem(this.Local_Login_Uid_Key, SdkHelper.uId), SocketClient_1.default.login(1)) : 1 == i ? UIHelper_1.UIHelper.showTip("\u767b\u5f55\u5931\u8d25!") : 2 == i ? UIHelper_1.UIHelper.showTip("\u767b\u5f55\u53d6\u6d88!") : 6 == i && GameController_1.default.instance.restartGame() : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || 1 == i && (SdkHelper.sid = t.session_id, SdkHelper.extra = t.extra, SocketClient_1.default.login(1))
                    } catch (e) {
                        Logger_1.Logger.error("sdkLogin_callback_Ol error", e)
                    }
                }, SdkHelper.sdkGetGameId = function() {
                    cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkGetGameId", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkGetGameId:", "")
                }, SdkHelper.sdkGetGameId_callback_Ol = function(e) {
                    if (void 0 === e && (e = ""), Logger_1.Logger.log("sdkGetGameId_callback_Ol", e), cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX)
                        SdkHelper.gameId = e;
                    else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) {
                        var t = JSON.parse(e);
                        1 == t.code && (SdkHelper.gameId = t.gameId)
                    }
                }, SdkHelper.sdkGetChannelID = function() {
                    cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkGetChannelID", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkGetChannelID:", "")
                }, SdkHelper.sdkGetChannelID_callback_Ol = function(e) {
                    if (void 0 === e && (e = ""), Logger_1.Logger.log("sdkGetChannelID_callback_Ol", e), cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX)
                        SdkHelper.channelId = e;
                    else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) {
                        var t = JSON.parse(e);
                        1 == t.code && (SdkHelper.channelId = t.channelId)
                    }
                }, SdkHelper.sdkGetAppId = function() {
                    cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkGetAppId", "()V") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkGetAppId:", "")
                }, SdkHelper.sdkGetAppId_callback_Ol = function(e) {
                    if (void 0 === e && (e = ""), Logger_1.Logger.log("sdkGetAppId_callback_Ol", e), cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX)
                        SdkHelper.appId = e;
                    else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX)
                        try {
                            var t = JSON.parse(e);
                            1 == t.code && (SdkHelper.appId = t.appId)
                        } catch (e) {}
                }, SdkHelper.sdkLoginRsp = function(e) {
                    if (Logger_1.Logger.log("\u767b\u5f55\u4e8c\u6b21\u9a8c\u8bc1\uff08\u5fc5\u63a5\uff09sdkLoginRsp===", e), cc.sys.isBrowser)
                        window.location.ancestorOrigins.length > 0 ? window.YHCPSDK.loginRsp(e) : GameController_1.default.instance.gotoLogin();
                    else if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX) {
                        var t = {
                            login_rsp: e
                        };
                        jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkLoginRsp", "(Ljava/lang/String;)V", JSON.stringify(t))
                    } else
                        cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX ? jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkLoginRsp:", e) : GameController_1.default.instance.gotoLogin()
                }, SdkHelper.sdkLoginRsp_callback_Ol = function(e) {
                    void 0 === e && (e = "");
                    try {
                        Logger_1.Logger.log("sdkLoginRsp_callback_Ol", e);
                        var t = JSON.parse(e).code;
                        cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? 7 == t ? EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit) : (UIHelper_1.UIHelper.showTip("\u767b\u5f55\u9a8c\u8bc1\u5931\u8d25!"), setTimeout(function() {
                            GameController_1.default.instance.restartGame()
                        }, 2e3)) : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (1 == t ? EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit) : (UIHelper_1.UIHelper.showTip("\u767b\u5f55\u9a8c\u8bc1\u5931\u8d25!"), setTimeout(function() {
                            GameController_1.default.instance.restartGame()
                        }, 2e3)))
                    } catch (e) {
                        Logger_1.Logger.error("sdkLoginRsp_callback_Ol error", e)
                    }
                }, SdkHelper.sdkLogout = function() {
                    cc.sys.isBrowser ? window.location.ancestorOrigins.length > 0 ? window.YHCPSDK.logout() : EventManager_1.EventManager.instance.dispatch(CommonEvent_1.CommonEvent.Event_SdkInit) : cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkLogout", "()V") : cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX ? jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkLogout:", "") : GameController_1.default.instance.restartGame()
                }, SdkHelper.sdkLogout_callback_Ol = function(e) {
                    try {
                        Logger_1.Logger.log("sdkLogout_callback_Ol", e);
                        var t = JSON.parse(e).code;
                        cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? 21 == t ? GameController_1.default.instance.restartGame() : 22 == t && UIHelper_1.UIHelper.showTip("\u6ce8\u9500\u5931\u8d25!") : cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (1 == t ? GameController_1.default.instance.restartGame() : UIHelper_1.UIHelper.showTip("\u6ce8\u9500\u5931\u8d25!"))
                    } catch (e) {
                        Logger_1.Logger.error("sdkLogout_callback_Ol error", e)
                    }
                }, SdkHelper.sdkCustomAction = function(e, t, i, n, o) {
                    if (void 0 === t && (t = 0), void 0 === i && (i = RoleInfoModel_1.default.instance.roleId), void 0 === n && (n = RoleInfoModel_1.default.instance.roleName), void 0 === o && (o = RoleInfoModel_1.default.instance.level), cc.sys.platform !== cc.sys.WECHAT_GAME)
                        ;
                }, SdkHelper.sdkCustomAction_callback = function(e) {
                    Logger_1.Logger.log("sdkCustomAction_callback====", e)
                }, SdkHelper.sdkPay = function(e, t, i, n, o, a) {
                    if (void 0 === a && (a = null), GameConfig_1.GameConfig.environment == GameConfig_1.EnvironmentType.Test && (t = 1), cc.sys.isBrowser) {
                        if (window.location.ancestorOrigins.length > 0) {
                            var s = {
                                cp_order_id: e,
                                amount: t,
                                role_id: RoleInfoModel_1.default.instance.roleId,
                                role_name: RoleInfoModel_1.default.instance.roleName,
                                role_level: "",
                                vip_level: "",
                                server_id: ZoneModel_1.ZoneModel.nowZoneInfoModel.unique_id,
                                server_name: ZoneModel_1.ZoneModel.nowZoneInfoModel.server_name,
                                product_count: "",
                                product_name: i,
                                product_type: "",
                                product_id: n,
                                desc: "666",
                                rate: "10",
                                notify_url: o
                            };
                            window.YHCPSDK.pay(s)
                        }
                    } else if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX) {
                        s = {
                            cp_order_id: e,
                            amount: t,
                            role_id: RoleInfoModel_1.default.instance.roleId,
                            role_name: RoleInfoModel_1.default.instance.roleName,
                            role_level: "",
                            vip_level: "",
                            server_id: ZoneModel_1.ZoneModel.nowZoneInfoModel.unique_id,
                            server_name: ZoneModel_1.ZoneModel.nowZoneInfoModel.server_name,
                            product_count: "",
                            product_name: i,
                            product_type: "",
                            product_id: n,
                            desc: "666",
                            rate: "10",
                            notify_url: o
                        };
                        jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkPay", "(Ljava/lang/String;)V", JSON.stringify(s))
                    } else if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) {
                        s = {
                            order_id: e,
                            total_fee: t,
                            product_count: "1",
                            product_id: n,
                            product_name: i,
                            rate: "10",
                            product_desc: "666",
                            notify_url: o,
                            role_id: RoleInfoModel_1.default.instance.roleId,
                            role_name: RoleInfoModel_1.default.instance.roleName,
                            role_level: "1",
                            server_id: "1",
                            server_name: "1",
                            apple_product_id: a.product_ios,
                            vip_level: "1"
                        };
                        jsb.reflection.callStaticMethod(this.Ios_Zd_Sdk, "sdkProfile:", JSON.stringify(s))
                    }
                }, SdkHelper.sdkPay_callback_Ol = function(e) {
                    try {
                        Logger_1.Logger.log("sdkPay_callback_Ol", e);
                        var t = JSON.parse(e).code;
                        32 == t || (33 == t ? UIHelper_1.UIHelper.showTip("\u652f\u4ed8\u5931\u8d25!") : 34 == t && UIHelper_1.UIHelper.showTip("\u652f\u4ed8\u53d6\u6d88"))
                    } catch (e) {
                        Logger_1.Logger.error("sdkPay_callback_Ol error", e)
                    }
                }, SdkHelper.chong_callback_Ol = function(e) {
                    this.sdkPay_callback_Ol(e)
                }, SdkHelper.sdkGetAppInfo = function() {
                    cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? jsb.reflection.callStaticMethod(this.BnOlSdkAdapter, "sdkGetAppInfo", "()V") : cc.sys.os == cc.sys.OS_IOS || (cc.sys.os, cc.sys.OS_OSX)
                }, SdkHelper.sdkGetAppInfo_callback_Ol = function(e) {
                    Logger_1.Logger.log("sdkGetAppInfo_callback_Ol====", e);
                    try {
                        var t = JSON.parse(e);
                        for (var i in t) {
                            Logger_1.Logger.log("sdkGetAppInfo_callback_Ol key=", i), Logger_1.Logger.log("sdkGetAppInfo_callback_Ol value=", t[i]);
                            var n = t[i];
                            i.split(".");
                            -1 != n.indexOf("Game") && UIManager_1.default.instance.createView(ViewConfig_1.default.gameView.DialogCheck, null, "\u68c0\u6d4b\u5230\u5f02\u5e38\u7a0b\u5e8f,\u8bf7\u5378\u8f7d\u540e\u518d\u8fd0\u884c\u6e38\u620f\uff01", function(e) {
                                cc.director.end()
                            })
                        }
                    } catch (t) {
                        Logger_1.Logger.log("sdkGetAppInfo_callback_Ol==error==", e)
                    }
                }, SdkHelper.BnOlSdkAdapter = "sdk/BnOlSdkAdapter", SdkHelper.BnSdkAdapter = "sdk/BnSdkAdapter", SdkHelper.Ios_Zd_Sdk = "CocosCenter", SdkHelper.Ios_Qd_Sdk = "QDCocosCenter", SdkHelper.adConfig = {
                    q500117: "228",
                    q500116: "227",
                    q500112: "224",
                    q500133: "265",
                    q500123: "268"
                }, SdkHelper.isInit = !1, SdkHelper.app_id = "q500123", SdkHelper.sid = "", SdkHelper.gameId = "120000123", SdkHelper.channelId = "2", SdkHelper.appId = "110001246", SdkHelper.paysign = "4a9c884ad01f491e73fb12aa6d2d87c9", SdkHelper.loginRsp = {}, SdkHelper.Local_Login_Uid_Key = "Local_Login_Uid_Key", SdkHelper
            }();
        exports.default = SdkHelper, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/VersionManager": "VersionManager",
        "../GameController": "GameController",
        "../config/GameConfig": "GameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ZoneModel": "ZoneModel",
        "../network/SocketClient": "SocketClient",
        "../utils/UIHelper": "UIHelper"
    }],
    ServerTime: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "cf76fcwhDxEtLqn4wWbEFcQ", "ServerTime"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/DateUtil"),
            o = e("../../engine/EventManager"),
            a = e("../event/CommonEvent"),
            s = e("../config/ViewConfig"),
            r = e("../../engine/UIManager"),
            l = e("../../engine/GameSocket"),
            c = e("../prefab/GameManager"),
            g = e("../sdk/SdkHelper"),
            f = function() {
                function e() {}
                return e.init = function() {
                    var e = this;
                    o.EventManager.instance.off(a.CommonEvent.Event_FrameUpdate, this.update, this), o.EventManager.instance.on(a.CommonEvent.Event_FrameUpdate, this.update, this), this.frameCount = 0, this.preFrameTime = n.default.now(), this.setServerTime(n.default.now()), this.passFrameTime = 1, this.passFrame = 0, clearInterval(this.timeId), this.timeId = setInterval(function() {
                        e.serverTime += 50
                    }, 50)
                }, e.update = function() {
                    this.frameCount++, this.passFrame++, this.frameCount >= cc.game.getFrameRate() && (this.frameCount = 0, this.passFrame++, e.passFrameTime = 1, this.preFrameTime = n.default.now())
                }, e.setServerTime = function(e) {
                    if (0 == this.preTime)
                        this.preTime = e, this.passFrame = 0;
                    else {
                        var t = n.default.now() - this.preTime,
                            i = e - this.preTime,
                            o = Math.ceil(i / 1e3);
                        g.default.isIos() || o >= 5 && this.passFrame >= o * cc.game.getFrameRate() && (l.default.getInstance().isLogin && t > 2 * i ? (this.jiasuTimes++, this.jiasuTimes >= 3 && (c.default.instance.isPause = !0, r.default.instance.createView(s.default.gameView.DialogCheck, function() {
                            cc.game.pause()
                        }, "\u8bf7\u5173\u95ed\u52a0\u901f\u6216\u8d85\u9891,\u7136\u540e\u91cd\u542f\u6e38\u620f!", function(e) {
                            cc.game.end()
                        }))) : this.jiasuTimes = 0), this.preTime = e, this.passFrame = 0
                    }
                    this.serverTime = e
                }, e.getServerTime = function() {
                    return this.serverTime
                }, e.serverTime = 0, e.frameCount = 0, e.preTime = 0, e.preFrameTime = 0, e.passFrame = 0, e.jiasuTimes = 0, e
            }();
        i.ServerTime = f, cc._RF.pop()
    }, {
        "../../engine/DateUtil": "DateUtil",
        "../../engine/EventManager": "EventManager",
        "../../engine/GameSocket": "GameSocket",
        "../../engine/UIManager": "UIManager",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../prefab/GameManager": "GameManager",
        "../sdk/SdkHelper": "SdkHelper"
    }],
    ServerWeiHuView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5c1b9F6wAVBnqnhA46H8Od6", "ServerWeiHuView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../GameController"),
            r = e("../../engine/UIManager"),
            l = e("../config/ViewConfig"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.msg = e
                }, t.prototype.onShow = function() {
                    r.default.instance.setTopUI(l.default.gameView.ServerWeiHuView), this.getChild(this.node, "view/panel/content", cc.Label).string = this.msg, this.onAddEvent(this.findChild(this.node, "view/panel/back"), this.onClickCloseHandler.bind(this)), this.onAddEvent(this.findChild(this.node, "btnClose2"), this.onClickCloseHandler.bind(this))
                }, t.prototype.onClickCloseHandler = function() {
                    this.closeView(), s.default.instance.restartGame()
                }, t = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../GameController": "GameController",
        "../config/ViewConfig": "ViewConfig"
    }],
    SetConBox: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "85f43hkK3BKa68yp1GBUOVh", "SetConBox");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ITemsConfig"),
            r = e("../../model/SettingModel"),
            l = e("../../model/ItemInfoModel"),
            c = e("../../model/RoleInfoModel"),
            g = e("../../../engine/Logger"),
            f = e("../../utils/MusicHelper"),
            d = e("../../../engine/EventManager"),
            h = e("../../event/CommonEvent"),
            u = cc._decorator,
            p = u.ccclass,
            m = (u.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemNode = null, t.drugTypeList = ["ordinaryHp", "ordinaryMp", "seniorHp", "seniorMp"], t.dropDownBoxList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    this.initEvent(), this.init(), this.initDrugShow()
                }, t.prototype.onEnable = function() {
                    d.EventManager.instance.on(h.CommonEvent.Event_SettingBgClick, this.onClickOther, this), d.EventManager.instance.on(h.CommonEvent.Event_UserInfoRefresh, this.refresh, this), this.init(), this.initDrugShow()
                }, t.prototype.onClickOther = function(e) {
                    void 0 === e && (e = -1);
                    for (var t = 0; t < this.dropDownBoxList.length; t++) {
                        var i = this.getChild(this.dropDownBoxList[t], "Template");
                        i.active = e == t
                    }
                }, t.prototype.initEvent = function() {
                    for (var e = this, t = this.drugTypeList, i = ["pnlHp", "pnlMp", "pnlhHp", "pnlhMp"], n = function(t) {
                            var n = o.getChild(o.node, i[t]),
                                a = o.getChild(n, "DropDownBox"),
                                s = o.getChild(a, "Template");
                            s.active = !1, o.dropDownBoxList[t] = a, a.on("click", function() {
                                f.MusicHelper.play_click(), s.active = !s.active, s.active && e.onClickOther(t)
                            }, o)
                        }, o = this, a = 0; a < t.length; a++)
                        n(a)
                }, t.prototype.init = function() {
                    this.itemNode = this.findChild(this.node, "item"), this.itemNode.active = !1;
                    for (var e = this.drugTypeList, t = ["pnlHp", "pnlMp", "pnlhHp", "pnlhMp"], i = 0; i < e.length; i++) {
                        var n = this.getChild(this.node, t[i]);
                        this.initHp(n, e[i], e.length - i)
                    }
                }, t.prototype.refresh = function() {
                    g.Logger.log("\u8bbe\u7f6e\u66f4\u65b0+=="), this.init(), this.initDrugShow()
                }, t.prototype.initHp = function(e, t, i) {
                    var n = e;
                    n.zIndex = i, n.active = !0;
                    var o = this.getChild(n, "DropDownBox"),
                        a = this.getChild(o, "LabelCaption", cc.Label);
                    a.string = "\u9009\u62e9\u836f\u54c1";
                    var s = this.getHpModel(t);
                    s.sort(function(e, t) {
                        return e.level - t.level
                    });
                    var r = this.getChild(o, "Template/view/content");
                    r.removeAllChildren();
                    for (var g = this.getChild(o, "Template"), f = 0; f < s.length; f++)
                        if (!(c.default.instance.level < s[f].level)) {
                            var d = l.default.getItemAmount(s[f].id),
                                h = s[f].name + "x" + d;
                            this.createCkeck(h, this.itemCallback.bind(this, t, f, s, a, g), r)
                        }
                    r.active = !0
                }, t.prototype.itemCallback = function(e, t, i, n, o) {
                    f.MusicHelper.play_click(), "ordinaryHp" == e ? r.SettingModel.drugHp = i[t].id : "ordinaryMp" == e ? r.SettingModel.drugMp = i[t].id : "seniorHp" == e ? r.SettingModel.drugHighHp = i[t].id : "seniorHp" == e && (r.SettingModel.drugHighMp = i[t].id), g.Logger.log("itemCallback====", r.SettingModel.drugHp, r.SettingModel.drugMp, r.SettingModel.drugHighHp, r.SettingModel.drugHighMp, i[t].id), n.string = i[t].name + "x" + l.default.getItemAmount(i[t].id), o.active = !1, r.SettingModel.saveToLocalStorage()
                }, t.prototype.initDrugShow = function() {
                    for (var e = this.drugTypeList, t = ["pnlHp", "pnlMp", "pnlhHp", "pnlhMp"], i = [r.SettingModel.drugHp, r.SettingModel.drugMp, r.SettingModel.drugHighHp, r.SettingModel.drugHighMp], n = 0; n < t.length; n++) {
                        var o = this.getHpModel(e[n]),
                            a = this.getChild(this.node, t[n] + "/DropDownBox/LabelCaption", cc.Label),
                            s = i[n],
                            g = this.getConfigItemId(o, s);
                        if (g) {
                            if (c.default.instance.level < g.level)
                                continue;
                            a.string = g.name + "x" + l.default.getItemAmount(s)
                        }
                    }
                }, t.prototype.getConfigItemId = function(e, t) {
                    for (var i, n = 0; n < e.length; n++)
                        e[n].id == t && (i = e[n]);
                    return i
                }, t.prototype.getHpModel = function(e) {
                    void 0 === e && (e = "ordinaryHp");
                    var t = [];
                    return s.ITemsConfig.configMap.forEach(function(i, n) {
                        i.position == e && t.push(i)
                    }), t
                }, t.prototype.createCkeck = function(e, t, i) {
                    var n = cc.instantiate(this.itemNode);
                    n.active = !0, n.on("click", t), this.getChild(n, "Label", cc.Label).string = e, n.parent = i, n.x = 0
                }, t = o([p], t)
            }(a.default));
        i.default = m, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/SettingModel": "SettingModel",
        "../../utils/MusicHelper": "MusicHelper"
    }],
    SetSkill: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "89ef71dOERM5JDg3SlMa3Oi", "SetSkill");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../model/RoleInfoModel"),
            r = e("../../config/SkillConfig"),
            l = e("../../../engine/Logger"),
            c = e("../../../engine/EventManager"),
            g = e("../../config/GameConst"),
            f = e("../../model/SkillModel"),
            d = e("../../network/SocketClient"),
            h = e("../../event/CommonEvent"),
            u = cc._decorator,
            p = u.ccclass,
            m = (u.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.nowSkillNodeList = [], t.skillList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.init()
                }, t.prototype.onEnable = function() {
                    c.EventManager.instance.on(h.CommonEvent.Event_SkillRefresh, this.refreshSkill, this), this.refreshSkill(), c.EventManager.instance.on("GUIDE_3002", function(e) {
                        s.default.instance.occupation == g.GameConst.OCCUPATION.FA_SHI ? this.onBtn(1) : this.onBtn(0)
                    }.bind(this), this)
                }, t.prototype.init = function() {
                    var e = this.getChild(this.node, "0");
                    e.active = !1;
                    var t = this.getChild(e, "btn");
                    this.getChild(e, "btn/gou");
                    t.on("click", this.onBtn.bind(this, 0), this);
                    var i = f.SkillModel.getMyZhuDongActiveSkill();
                    this.skillList = i;
                    for (var n = 0; n < 12; n++) {
                        var o = cc.instantiate(e);
                        o.name = "item-" + n, this.node.addChild(o), o.active = !0, this.nowSkillNodeList[n] = o, this.getChild(o, "btn").on("click", this.onBtn.bind(this, n), this)
                    }
                    this.refreshSkill()
                }, t.prototype.refreshSkill = function() {
                    var e = f.SkillModel.getMyZhuDongActiveSkill();
                    this.skillList = e;
                    for (var t = function(t) {
                            if (e[t] && e[t].isActive) {
                                var n = i.nowSkillNodeList[t],
                                    o = e[t],
                                    a = r.SkillConfig.getSkillConfigById(o.id, o.level);
                                if (a.type == r.SkillConfig.SkillType.ZhuDong) {
                                    var s = i.getChild(n, "skillIcon", cc.Sprite),
                                        l = i.getChild(n, "btn"),
                                        c = i.getChild(n, "btn/gou");
                                    s.node.active = !0, l.active = !0, c.active = o.isSelect, cc.loader.loadRes("skillIcon/" + a.next_level, cc.SpriteFrame, function(e, t) {
                                        s.spriteFrame = t
                                    })
                                }
                            }
                        }, i = this, n = 0; n < this.nowSkillNodeList.length; n++)
                        t(n)
                }, t.prototype.onBtn = function(e) {
                    var t = this.skillList[e];
                    if (t) {
                        var i = this.node.getChildByName("item-" + e);
                        this.getChild(i, "btn/gou");
                        t.isSelect = !t.isSelect, l.Logger.log("\u8bbe\u7f6e\u6280\u80fd+=", e, t, t.isSelect, s.default.instance.skillModelList), t.isSelect ? d.default.req_skill_use(t.id, 1) : d.default.req_skill_use(t.id, 2), s.default.saveToLocalStorage()
                    }
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), c.EventManager.instance.clear(this)
                }, t = o([p], t)
            }(a.default));
        i.default = m, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/GameConst": "GameConst",
        "../../config/SkillConfig": "SkillConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/SkillModel": "SkillModel",
        "../../network/SocketClient": "SocketClient"
    }],
    SettingModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "2baabA+1SlPPLb8oet+b0gE", "SettingModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/LocalStorage"),
            o = e("./RoleInfoModel"),
            a = e("../config/GameConst"),
            s = e("../../engine/Logger"),
            r = e("../../engine/EventManager"),
            l = e("../event/CommonEvent"),
            c = e("../../engine/ProtoConfig"),
            g = e("../../engine/ProtoUtils"),
            f = e("../network/SocketClient"),
            d = function() {
                function e() {}
                return e.onSeverRefresh = function(t) {
                    var i = g.ProtoUtils.DeserializeBinary(c.ProtoConfig.c_recycle_options, t);
                    e.recycle_self_equip = i.getRecycleSelfEquip(), e.recycle_white = i.getRecycleWhite(), e.recycle_green = i.getRecycleGreen(), e.recycle_blue = i.getRecycleBlue(), e.recycle_purple = i.getRecyclePurple(), e.recycle_normal_level = i.getRecycleNormalLevel(), e.recycle_normal_level < 0 ? e.levelSelet = 0 : e.levelSelet = this.getLevelList().indexOf(e.recycle_normal_level), e.recycle_nirvana_ream = i.getRecycleNirvanaReam(), e.recycle_nirvana_ream < 0 ? e.runeSelet = 0 : e.runeSelet = e.recycle_nirvana_ream, e.recycle_ultimate_p = i.getRecycleUltimateP(), e.recycle_ultimate_p < 0 ? e.persentSelet = 0 : e.persentSelet = this.getpersentList().indexOf(e.recycle_ultimate_p), s.Logger.log("c_recycle_options=====", i, e.persentSelet), r.EventManager.instance.dispatch(l.CommonEvent.Event_Refresh_Recycle)
                }, e.saveToLocalStorage = function() {
                    var t = {};
                    for (var i in e)
                        "function" != typeof e[i] && (t[i] = e[i]);
                    var a = this.localKey + o.default.instance.roleId;
                    s.Logger.log("SettingModel. save---------------", JSON.stringify(t)), n.default.setItem(a, JSON.stringify(t))
                }, e.initData = function() {
                    var t = this.localKey + o.default.instance.roleId;
                    s.Logger.log("SettingModel.initData----------------", t);
                    var i = n.default.getItem("" + t);
                    if (i)
                        try {
                            var a = JSON.parse(i);
                            a ? (e.notItselfEq = a.notItselfEq, e.ordinaryEq = a.ordinaryEq, e.excellentEq = a.excellentEq, e.excellentEqs = a.excellentEqs, e.soundEffects = a.soundEffects, e.hpSet = a.hpSet, e.hpSetPt = a.hpSetPt, e.mpSet = a.mpSet, e.mpSetPt = a.mpSetPt, e.highHpSet = a.highHpSet, e.highHpSetPt = a.highHpSetPt, e.highMpSet = a.highMpSet, e.highMpSetPt = a.highMpSetPt, e.drugHp = a.drugHp, e.drugMp = a.drugMp, e.drugHighHp = a.drugHighHp, e.drugHighMp = a.drugHighMp, e.guide = a.guide) : e.saveToLocalStorage()
                        } catch (e) {
                            s.Logger.error("SettingModel.initData error==", e)
                        }
                    r.EventManager.instance.dispatch(l.CommonEvent.Event_Setting)
                }, e.getLevelList = function() {
                    if (this.levelList.length <= 0) {
                        for (var e = 10; e <= 80; e += 10)
                            this.levelList.push(e);
                        s.Logger.log("this.levelList", this.levelList)
                    }
                    return this.levelList
                }, e.getpersentList = function() {
                    if (this.persentList.length <= 0) {
                        for (var e = 50; e <= 100; e += 10)
                            this.persentList.push(e);
                        s.Logger.log("this.persentList", this.persentList)
                    }
                    return this.persentList
                }, e.changeLevelSelet = function(t) {
                    e.levelSelet = t, e.recycle_normal_level > 0 && (e.recycle_normal_level = e.getLevelList()[e.levelSelet], f.default.s_recycle_options())
                }, e.changeRuneSelet = function(t) {
                    e.runeSelet = this.runeList1[t], s.Logger.log("SettingModel.runeSelet==", e.runeSelet), e.recycle_nirvana_ream > 0 && (e.recycle_nirvana_ream = this.runeList1[t], f.default.s_recycle_options())
                }, e.changePersentSelet = function(t) {
                    e.persentSelet = t, s.Logger.log("SettingModel.persentSelet==", e.persentSelet), e.recycle_ultimate_p > 0 && (e.recycle_ultimate_p = e.getpersentList()[e.persentSelet], f.default.s_recycle_options())
                }, e.notItselfEq = !1, e.ordinaryEq = !1, e.excellentEq = !1, e.excellentEqs = !1, e.soundEffects = !0, e.hpSet = !0, e.mpSet = !0, e.highHpSet = !1, e.highMpSet = !1, e.hpSetPt = .5, e.mpSetPt = .5, e.highHpSetPt = .5, e.highMpSetPt = .5, e.drugHp = a.ItemId.HP, e.drugMp = a.ItemId.MP, e.drugHighHp = a.ItemId.HHP, e.drugHighMp = a.ItemId.HMP, e.drugCdown = [0, 0, 0, 0], e.guide = 0, e.recycle_self_equip = -1, e.recycle_white = -1, e.recycle_green = -1, e.recycle_blue = -1, e.recycle_purple = -1, e.recycle_normal_level = -1, e.recycle_nirvana_ream = -1, e.recycle_ultimate_p = -1, e.localKey = "SettingModel", e.levelList = [], e.runeList = ["\u8f6e\u56de\u4e00\u91cd", "\u8f6e\u56de\u4e8c\u91cd", "\u8f6e\u56de\u4e09\u91cd", "\u8f6e\u56de\u56db\u91cd", "\u8f6e\u56de\u4e94\u91cd"], e.runeList1 = [1, 2, 3, 4, 5], e.persentList = [], e.levelSelet = 0, e.runeSelet = 0, e.persentSelet = 0, e
            }();
        i.SettingModel = d, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../config/GameConst": "GameConst",
        "../event/CommonEvent": "CommonEvent",
        "../network/SocketClient": "SocketClient",
        "./RoleInfoModel": "RoleInfoModel"
    }],
    SettingView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "9b1c3UFNmtMP6dpLYoALcoX", "SettingView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/EventManager"),
            r = e("../../model/SettingModel"),
            l = e("../../utils/MusicHelper"),
            c = e("../../../engine/Logger"),
            g = e("../../event/CommonEvent"),
            f = e("../../network/SocketClient"),
            d = e("./DropDownBox"),
            h = cc._decorator,
            u = h.ccclass,
            p = (h.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onEnable = function() {
                    s.EventManager.instance.on(g.CommonEvent.Event_Refresh_Recycle, this.refresh, this), this.getChild(this.node, "view/ScrollView", cc.ScrollView).scrollToTop()
                }, t.prototype.onClickBg = function() {
                    c.Logger.log("onClickBg===="), s.EventManager.instance.dispatch(g.CommonEvent.Event_SettingBgClick)
                }, t.prototype.onShow = function() {
                    this.node.getChildByName("bg");
                    var e = this.getChild(this.node, "view/ScrollView/view/content");
                    e.on(cc.Node.EventType.TOUCH_END, this.onClickBg.bind(this)), this.pnlSkill = this.getChild(e, "pnlSkill/skill"), this.pnlReply = this.getChild(e, "pnlReply");
                    var t = this.getChild(this.pnlReply, "ordinaryHp"),
                        i = this.getChild(this.pnlReply, "ordinaryMp"),
                        n = this.getChild(this.pnlReply, "seniorHp"),
                        o = this.getChild(this.pnlReply, "seniorMp");
                    this.addProgressBar(t, 1), this.addProgressBar(i, 2), this.addProgressBar(n, 3), this.addProgressBar(o, 4), this.pnlPickUp = this.getChild(e, "pnlPickUp");
                    var a = this.findChild(this.pnlPickUp, "condition1/auto"),
                        s = this.findChild(this.pnlPickUp, "condition2/auto"),
                        l = this.findChild(this.pnlPickUp, "condition3/auto"),
                        c = this.findChild(this.pnlPickUp, "condition4/auto"),
                        g = this.findChild(this.pnlPickUp, "condition8/auto"),
                        f = this.findChild(this.pnlPickUp, "setSound/auto");
                    this.btnExchange = this.getChild(this.pnlPickUp, "txtCode/getBtn"), this.onAddEvent(this.btnExchange, this.onActivationcode.bind(this)), this.onAddEvent(a, this.onNotItselfEq.bind(this)), this.onAddEvent(s, this.onOrdinaryEq.bind(this)), this.onAddEvent(l, this.onExcellentEq.bind(this)), this.onAddEvent(c, this.onExcellentSEq.bind(this)), this.onAddEvent(g, this.onPurpleEq.bind(this)), this.onAddEvent(f, this.onSoundEffects.bind(this));
                    var h = this.findChild(this.pnlPickUp, "condition5/auto");
                    this.onAddEvent(h, this.onLevelEq.bind(this)), this.dropBox1 = this.findChild(this.pnlPickUp, "condition5/dropBox"), this.onAddEvent(this.dropBox1.getChildByName("DropDownBox"), this.ondropBox1Click.bind(this, this.dropBox1)), this.dropBox1.getComponent(d.default).init(r.SettingModel.getLevelList(), 1);
                    var u = this.findChild(this.pnlPickUp, "condition6/auto");
                    this.onAddEvent(u, this.onRuneEq.bind(this)), this.dropBox2 = this.findChild(this.pnlPickUp, "condition6/dropBox"), this.onAddEvent(this.dropBox2.getChildByName("DropDownBox"), this.ondropBox1Click.bind(this, this.dropBox2)), this.dropBox2.getComponent(d.default).init(r.SettingModel.runeList, 2);
                    var p = this.findChild(this.pnlPickUp, "condition7/auto");
                    this.onAddEvent(p, this.onJipinEq.bind(this)), this.dropBox3 = this.findChild(this.pnlPickUp, "condition7/dropBox"), this.onAddEvent(this.dropBox3.getChildByName("DropDownBox"), this.ondropBox1Click.bind(this, this.dropBox3)), this.dropBox3.getComponent(d.default).init(r.SettingModel.getpersentList(), 3), this.initRecycle()
                }, t.prototype.refresh = function() {
                    this.initRecycle()
                }, t.prototype.addProgressBar = function(e, t) {
                    var i = this.getChild(e, "check"),
                        n = this.getChild(e, "lblPro", cc.Label),
                        o = this.getChild(e, "slider/1"),
                        a = this.getChild(e, "slider", cc.Slider),
                        s = [null, r.SettingModel.hpSetPt, r.SettingModel.mpSetPt, r.SettingModel.highHpSetPt, r.SettingModel.highMpSetPt],
                        g = [null, r.SettingModel.hpSet, r.SettingModel.mpSet, r.SettingModel.highHpSet, r.SettingModel.highMpSet];
                    a.node.on("slide", function(e) {
                        var i = a.progress;
                        switch (n.string = Math.floor(100 * i) + "%", o.width = 175 * i, t) {
                        case 1:
                            r.SettingModel.hpSetPt = i;
                            break;
                        case 2:
                            r.SettingModel.mpSetPt = i;
                            break;
                        case 3:
                            r.SettingModel.highHpSetPt = i;
                            break;
                        case 4:
                            r.SettingModel.highMpSetPt = i
                        }
                        r.SettingModel.saveToLocalStorage()
                    }, this), i.on("click", function(e) {
                        switch (l.MusicHelper.play_click(), t) {
                        case 1:
                            r.SettingModel.hpSet = !r.SettingModel.hpSet;
                            break;
                        case 2:
                            r.SettingModel.mpSet = !r.SettingModel.mpSet;
                            break;
                        case 3:
                            r.SettingModel.highHpSet = !r.SettingModel.highHpSet;
                            break;
                        case 4:
                            r.SettingModel.highMpSet = !r.SettingModel.highMpSet
                        }
                        c.Logger.log("\u70b9\u51fb\u8bbe\u7f6e==", r.SettingModel.hpSet), r.SettingModel.saveToLocalStorage()
                    }, this), a.progress = s[t], n.string = Math.floor(100 * a.progress) + "%", o.width = 175 * a.progress, i.getComponent(cc.Toggle).isChecked = g[t]
                }, t.prototype.initRecycle = function() {
                    for (var e = [r.SettingModel.recycle_ultimate_p, r.SettingModel.recycle_nirvana_ream, r.SettingModel.recycle_normal_level, r.SettingModel.recycle_purple, r.SettingModel.recycle_blue, r.SettingModel.recycle_green, r.SettingModel.recycle_white, r.SettingModel.recycle_self_equip, r.SettingModel.soundEffects], t = ["condition7/auto", "condition6/auto", "condition5/auto", "condition8/auto", "condition4/auto", "condition3/auto", "condition2/auto", "condition1/auto", "setSound/auto"], i = 0; i < t.length; i++) {
                        var n = this.findChild(this.pnlPickUp, t[i]).getComponent(cc.Toggle);
                        n.isChecked = "setSound/auto" == t[i] ? r.SettingModel.soundEffects || !1 : e[i] > -1 || !1
                    }
                }, t.prototype.onNotItselfEq = function(e) {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_self_equip *= -1, f.default.s_recycle_options()
                }, t.prototype.onOrdinaryEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_white *= -1, f.default.s_recycle_options()
                }, t.prototype.onExcellentEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_green *= -1, f.default.s_recycle_options()
                }, t.prototype.onExcellentSEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_blue *= -1, f.default.s_recycle_options()
                }, t.prototype.onPurpleEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_purple *= -1, f.default.s_recycle_options()
                }, t.prototype.onLevelEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_normal_level *= -1, r.SettingModel.recycle_normal_level <= -1 && (r.SettingModel.recycle_normal_level = -1), r.SettingModel.recycle_normal_level > 0 && (r.SettingModel.recycle_normal_level = r.SettingModel.getLevelList()[r.SettingModel.levelSelet]), f.default.s_recycle_options()
                }, t.prototype.onRuneEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_nirvana_ream *= -1, r.SettingModel.recycle_nirvana_ream <= -1 && (r.SettingModel.recycle_nirvana_ream = -1), r.SettingModel.recycle_nirvana_ream > 0 && (r.SettingModel.recycle_nirvana_ream = r.SettingModel.runeList1[r.SettingModel.runeSelet]), f.default.s_recycle_options()
                }, t.prototype.onJipinEq = function() {
                    l.MusicHelper.play_click(), r.SettingModel.recycle_ultimate_p *= -1, r.SettingModel.recycle_ultimate_p <= -1 && (r.SettingModel.recycle_ultimate_p = -1), r.SettingModel.recycle_ultimate_p > 0 && (r.SettingModel.recycle_ultimate_p = r.SettingModel.getpersentList()[r.SettingModel.persentSelet]), f.default.s_recycle_options()
                }, t.prototype.onSoundEffects = function() {
                    this.getChild(this.pnlPickUp, "setSound/auto", cc.Toggle);
                    r.SettingModel.soundEffects = !r.SettingModel.soundEffects, c.Logger.log("onSoundEffects===", r.SettingModel.soundEffects), r.SettingModel.saveToLocalStorage(), l.MusicHelper.play_click()
                }, t.prototype.onActivationcode = function() {
                    var e = this.getChild(this.pnlPickUp, "txtCode", cc.EditBox);
                    "" != e.string && f.default.sendCode(e.string)
                }, t.prototype.ondropBox1Click = function(e) {
                    e.getComponent(d.default).showDropBox()
                }, t = o([u], t)
            }(a.default));
        i.default = p, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ViewBase": "ViewBase",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/SettingModel": "SettingModel",
        "../../network/SocketClient": "SocketClient",
        "../../utils/MusicHelper": "MusicHelper",
        "./DropDownBox": "DropDownBox"
    }],
    ShaderHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e4071YuFzJJq4IbI98IBslE", "ShaderHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = e("../game/prefab/ShaderMaterialPrefab"),
            a = function() {
                function e() {}
                return e.clearAllEffect = function(e, t) {
                    void 0 === t && (t = o.default.instance.getComponent(o.default).default), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        e.setMaterial(0, t)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            e.setMaterial(0, t)
                        })
                    })
                }, e.setGrayEffect = function(e, t, i) {
                    void 0 === t && (t = 1), void 0 === i && (i = o.default.instance.getComponent(o.default).grayMaterial), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var n = cc.MaterialVariant.create(i, e);
                        n.setProperty("grayLevel", t), e.setMaterial(0, n)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var n = cc.MaterialVariant.create(i, e);
                            n.setProperty("grayLevel", t), e.setMaterial(0, n)
                        })
                    })
                }, e.showGrayMv = function(t) {
                    var i = .5,
                        n = setInterval(function() {
                            (i += .01) >= 1 && (i = 1, clearInterval(n)), t && e.setGrayEffect(t, i)
                        }, 1)
                }, e.setOldPhotoEffect = function(e, t, i) {
                    void 0 === t && (t = 1), void 0 === i && (i = o.default.instance.getComponent(o.default).oldPhoto), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var n = cc.MaterialVariant.create(i, e);
                        n.setProperty("oldLevel", t), e.setMaterial(0, n)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var n = cc.MaterialVariant.create(i, e);
                            n.setProperty("oldLevel", t), e.setMaterial(0, n)
                        })
                    })
                }, e.showOldPhotoMv = function(t) {
                    var i = 0,
                        n = setInterval(function() {
                            (i += .01) >= 1 && (i = 1, clearInterval(n)), t && e.setOldPhotoEffect(t, i)
                        }, 1)
                }, e.setGlowInner = function(e, t, i) {
                    void 0 === i && (i = o.default.instance.getComponent(o.default).glowInner), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var n = cc.MaterialVariant.create(i, e);
                        n.setProperty("glowColor", t.glowColor), n.setProperty("glowColorSize", t.glowColorSize), n.setProperty("glowThreshold", t.glowThreshold), e.setMaterial(0, n)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var n = cc.MaterialVariant.create(i, e);
                            n.setProperty("glowColor", t.glowColor), n.setProperty("glowColorSize", t.glowColorSize), n.setProperty("glowThreshold", t.glowThreshold), e.setMaterial(0, n)
                        })
                    })
                }, e.setCommonGlowInner = function(e, t) {
                    void 0 === t && (t = cc.Color.WHITE), this.setGlowInner(e, {
                        glowColor: t,
                        glowColorSize: .015,
                        glowThreshold: .1
                    })
                }, e.showGreenHatFlash = function(t, i, o, a) {
                    void 0 === o && (o = 1), void 0 === a && (a = cc.Color.GREEN);
                    var s = 0,
                        r = setInterval(function() {
                            var o = .08 * (s += 1) + .05;
                            n.Logger.log("showGreenHatFlash====", s, o), e.setGlowInner(t, {
                                glowColor: cc.Color.GREEN,
                                glowColorSize: o,
                                glowThreshold: .1
                            }), s >= 12 && (clearInterval(r), i && i())
                        }, 2e3 / 12)
                }, e.showFlash = function(e, t, i) {
                    var n = this;
                    void 0 === t && (t = 1), void 0 === i && (i = cc.Color.GREEN);
                    var o = 0,
                        a = 0,
                        s = setInterval(function() {
                            (o += 1) % 50 == 0 && (o / 50 % 2 == 0 ? (i.setA(100), n.setGlowInner(e, {
                                glowColor: i,
                                glowColorSize: .1,
                                glowThreshold: 0
                            })) : (a++, n.setGlowInner(e, {
                                glowColor: i,
                                glowColorSize: 0,
                                glowThreshold: 0
                            }), a > t && clearInterval(s)))
                        }, 1)
                }, e.setMosaic = function(e, t, i) {
                    void 0 === i && (i = o.default.instance.getComponent(o.default).mosaic), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var n = cc.MaterialVariant.create(i, e);
                        n.setProperty("xBlockCount", t.xBlockCount), n.setProperty("yBlockCount", t.yBlockCount), e.setMaterial(0, n)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var n = cc.MaterialVariant.create(i, e);
                            n.setProperty("xBlockCount", t.xBlockCount), n.setProperty("yBlockCount", t.yBlockCount), e.setMaterial(0, n)
                        })
                    })
                }, e.showMosaicMv = function(e, t) {
                    var i = this;
                    void 0 === t && (t = null);
                    var n = 50,
                        o = setInterval(function() {
                            n -= 2, i.setMosaic(e, {
                                xBlockCount: n,
                                yBlockCount: n
                            }), n <= 0 && (clearInterval(o), t && t())
                        }, 40)
                }, e.setRoundCornerCrop = function(e, t, i) {
                    void 0 === t && (t = .1), void 0 === i && (i = o.default.instance.getComponent(o.default).roundCornerCrop), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var n = cc.MaterialVariant.create(i, e);
                        n.setProperty("xRadius", t), n.setProperty("yRadius", t), e.setMaterial(0, n)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var n = cc.MaterialVariant.create(i, e);
                            n.setProperty("xRadius", t), n.setProperty("yRadius", t), e.setMaterial(0, n)
                        })
                    })
                }, e.setFlashLight = function(e, t, i, n, a, s, r, l) {
                    void 0 === n && (n = 0), void 0 === a && (a = !0), void 0 === s && (s = !0), void 0 === r && (r = !1), void 0 === l && (l = o.default.instance.getComponent(o.default).flashLight), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var o = cc.MaterialVariant.create(l, e);
                        o.setProperty("lightColor", t), o.setProperty("lightWidth", i), o.setProperty("lightAngle", n), o.setProperty("enableGradient", a), o.setProperty("cropAlpha", s), o.setProperty("enableFog", r), e.setMaterial(0, o)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var o = cc.MaterialVariant.create(l, e);
                            o.setProperty("lightColor", t), o.setProperty("lightWidth", i), o.setProperty("lightAngle", n), o.setProperty("enableGradient", a), o.setProperty("cropAlpha", s), o.setProperty("enableFog", r), e.setMaterial(0, o)
                        })
                    })
                }, e.showFlashLightMv = function(t, i) {
                    var n = this;
                    void 0 === i && (i = null);
                    var o = cc.color(0, 0, 0, 255),
                        a = 0,
                        s = 0,
                        r = setInterval(function() {
                            if (0 == a)
                                o.setR(o.getR() + 2), o.getR() >= 255 && (a += 1);
                            else if (1 == a)
                                o.setG(o.getG() + 2), o.getG() >= 255 && (a += 1);
                            else if (o.setB(o.getB() + 2), o.getB() >= 255)
                                return clearInterval(r), e.clearAllEffect(t), void (i && i());
                            s += 1, n.setFlashLight(t, o, 1, s)
                        }, 1)
                }, e.setFlag = function(e, t) {
                    void 0 === t && (t = o.default.instance.getComponent(o.default).flag), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        e.setMaterial(0, t)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            e.setMaterial(0, t)
                        })
                    })
                }, e.setGaussian = function(e, t) {
                    void 0 === t && (t = o.default.instance.getComponent(o.default).gaussian), e.getComponents(cc.RenderComponent).forEach(function(e) {
                        var i = cc.MaterialVariant.create(t, e);
                        i.setProperty("textureSize", cc.v2(e.node.width, e.node.height)), e.setMaterial(0, i)
                    }), e.children.forEach(function(e) {
                        e.getComponents(cc.RenderComponent).forEach(function(e) {
                            var i = cc.MaterialVariant.create(t, e);
                            i.setProperty("textureSize", cc.v2(e.node.width, e.node.height)), e.setMaterial(0, i)
                        })
                    })
                }, e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "../game/prefab/ShaderMaterialPrefab": "ShaderMaterialPrefab",
        "./Logger": "Logger"
    }],
    ShaderMaterialPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "7c56cZwawZM8aYGevYiajy2", "ShaderMaterialPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = cc._decorator,
            s = a.ccclass,
            r = a.property,
            l = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.default = null, t.grayMaterial = null, t.oldPhoto = null, t.glowInner = null, t.mosaic = null, t.roundCornerCrop = null, t.flashLight = null, t.flag = null, t.gaussian = null, t
                }
                var i;
                return n(t, e), i = t, t.preLoad = function() {
                    return new Promise(function(e, t) {
                        cc.loader.loadRes("game/prefab/ShaderMaterialPrefab", function(t, n) {
                            t || (i.instance = cc.instantiate(n), e())
                        })
                    })
                }, o([r({
                    type: cc.Material
                })], t.prototype, "default", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "grayMaterial", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "oldPhoto", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "glowInner", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "mosaic", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "roundCornerCrop", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "flashLight", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "flag", void 0), o([r({
                    type: cc.Material
                })], t.prototype, "gaussian", void 0), t = i = o([s], t)
            }(cc.Component);
        i.default = l, cc._RF.pop()
    }, {}],
    ShenBinModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "ff164ZvKyxOLbg8NS6lAH4G", "ShenBinModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../event/CommonEvent"),
            o = e("../../engine/EventManager"),
            a = function() {
                function e() {}
                return e.proto2ModelList = function(t) {
                    for (var i = t.getShenbingListList(), a = 0; a < i.length; a++) {
                        var s = new e;
                        s.shenbingId = i[a].getNewid(), s.shenbingType = i[a].getShenbingtype(), this.modelList[a] = s
                    }
                    o.EventManager.instance.dispatch(n.CommonEvent.Event_RefreshShenbin, 1)
                }, e.getShenBinModelByType = function(t) {
                    var i = new e;
                    i.shenbingType = t, i.shenbingId = 0;
                    for (var n = 0; n < this.modelList.length; n++)
                        this.modelList[n].shenbingType == t && (i = this.modelList[n]);
                    return i
                }, e.CHIXUEMOJIAN = 1, e.MINGYUNZHIREN = 2, e.count = 2, e.modelList = [], e
            }();
        i.default = a, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../event/CommonEvent": "CommonEvent"
    }],
    ShenBinRuleView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "34c32D0lN1PrZwChIapgom+", "ShenBinRuleView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/UIManager"),
            s = e("../../config/ViewConfig"),
            r = e("../../../engine/ViewBase"),
            l = e("../../model/ShenBinModel"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.showType = e, this.txtContent = this.findChild(this.node, "panel/txtContent")
                }, t.prototype.onShow = function() {
                    a.default.instance.setTopUI(s.default.gameView.ShenBinRuleView), this.showType == l.default.CHIXUEMOJIAN ? this.txtContent.getComponent(cc.RichText).string = "1.\u3010\u8d64\u8840\u9b54\u5251\u3011\u6bcf\u6b21\u5347\u7ea7\u8fdb\u5ea6\u6761\u83b7\u5f97\u63d0\u5347\uff0c\u5e76\u4e14\u83b7\u5f97\u5c11\u91cf\u5c5e\u6027\u5956\u52b1\uff0c\u8fdb\u5ea6\u6761\u6ee1\u540e\uff0c\u3010\u8d64\u8840\u9b54\u5251\u3011\u7b49\u7ea7\u63d0\u5347\uff0c\u83b7\u5f97\u5927\u91cf\u5c5e\u6027\u5956\u52b1\u3002\u51fb\u674030\u7ea7\u4ee5\u4e0a\u5c0f\u602a\u548cboss\u6709\u51e0\u7387\u6389\u843d\u5347\u7ea7\u6750\u6599\u3002\n2.\u3010\u6444\u9b42\u593a\u9b44\u3011\u6280\u80fd\u6fc0\u6d3b\u540e\uff0c\u6bcf\u51fb\u8d25\u4e00\u4e2a\u4e0d\u4f4e\u4e8e\u81ea\u8eab\u7b49\u7ea710\u7ea7\u7684\u602a\u7269\uff0c\u53ef\u83b7\u53d6\u5176\u9b42\u9b44\u4e3a\u5df1\u6240\u7528\u3002\u6280\u80fd\u7b49\u7ea7\u8d8a\u9ad8\uff0c\u6536\u96c6\u9b42\u9b44\u7684\u6548\u7387\u8d8a\u9ad8\u3002\n3.\u3010\u6444\u9b42\u593a\u9b44\u3011\u6280\u80fd\u6fc0\u6d3b\u540e\uff0c\u6bcf\u51fb\u8d25\u4e00\u4e2aBoss\uff0c\u5219\u5728\u9996\u9886\u4fe1\u606f\u5217\u8868\u5904\u53ef\u82b1\u8d39\u9b42\u9b44\u4f7f\u7528\u3010\u8d64\u8840\u9b54\u5251\u3011\u76f4\u63a5\u79d2\u6740\u8be5Boss\u3002\u81ea\u8eab\u6218\u529b\u8d8a\u9ad8\uff0c\u6280\u80fd\u7b49\u7ea7\u8d8a\u9ad8\uff0c\u53ef\u79d2\u6740\u7684Boss\u8d8a\u5f3a\u529b\u3002" : this.showType == l.default.MINGYUNZHIREN && (this.txtContent.getComponent(cc.RichText).string = "1.\u3010\u547d\u8fd0\u4e4b\u5203\u3011\u6bcf\u6b21\u5347\u7ea7\u8fdb\u5ea6\u6761\u83b7\u5f97\u63d0\u5347\uff0c\u5e76\u4e14\u83b7\u5f97\u5c11\u91cf\u5c5e\u6027\u5956\u52b1\uff0c\u8fdb\u5ea6\u6761\u6ee1\u540e\uff0c\u3010\u8d64\u8840\u9b54\u5251\u3011\u7b49\u7ea7\u63d0\u5347\uff0c\u83b7\u5f97\u5927\u91cf\u5c5e\u6027\u5956\u52b1\u3002\n2.\u3010\u5200\u5200\u5207\u5272\u3011\u6280\u80fd\u5bf9\u666e\u901a\u602a\u7269\u548cBoss\u5747\u6709\u6548")
                }, t = o([g], t)
            }(r.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/ShenBinModel": "ShenBinModel"
    }],
    ShenBinSkillModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c246fX9MdJAYbrPLI/Xf5nY", "ShenBinSkillModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../config/ShenbingskillAllConfig"),
            o = e("../event/CommonEvent"),
            a = e("../../engine/EventManager"),
            s = function() {
                function e() {}
                return e.proto2ModelList = function(t) {
                    for (var i = t.getShenbingSkillListList(), n = 0; n < i.length; n++) {
                        var s = new e;
                        s.id = i[n].getNewid(), this.modelList[n] = s
                    }
                    a.EventManager.instance.dispatch(o.CommonEvent.Event_RefreshShenbin, 2)
                }, e.getModelByShenbinType = function(t) {
                    var i = new e;
                    1 == t ? i.id = 1 : 2 == t && (i.id = 1001);
                    for (var o = 0; o < this.modelList.length; o++) {
                        n.ShenbingskillAllConfig.getSkillConfigById(this.modelList[o].id).shenbing == t && (i = this.modelList[o])
                    }
                    return i
                }, e.hasOpen = function(t) {
                    for (var i = !1, o = 0; o < this.modelList.length; o++)
                        n.ShenbingskillAllConfig.getSkillConfigById(e.modelList[o].id).skill_id == t && (i = !0);
                    return i
                }, e.modelList = [], e
            }();
        i.default = s, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../config/ShenbingskillAllConfig": "ShenbingskillAllConfig",
        "../event/CommonEvent": "CommonEvent"
    }],
    ShenCiConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c6928fiUJ9DU5RHHIgZHgvJ", "ShenCiConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                return null !== e && e.apply(this, arguments) || this
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.stat = e.stat, i.statid = e.statid, i.pinzhi0 = e.pinzhi0, i.pinzhi1 = e.pinzhi1, i.pinzhi2 = e.pinzhi2, i.pinzhi3 = e.pinzhi3, i.pinzhi4 = e.pinzhi4, i.des = e.des, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.id = parseInt(i)
                })
            }, t.getConfigById = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    i.id != e || (t = i)
                }), t
            }, t.Config_Name = "shenciConfig", t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ShenCiConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ShenbingskillAllConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f6e34KYorxHkaPcsORbD9Qe", "ShenbingskillAllConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../../engine/Logger"),
            s = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.name = [], t.parameter = [], t.zhanli = [], t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.skill_id = e.skill_id, i.name = e.name, i.level = e.level, i.parameter = e.parameter, i.cost1 = e.cost1, i.cost2 = e.cost2, i.shenbinglv = e.shenbinglv, i.zhanli = e.zhanli, i.max_level = e.max_level, i.shenbing = e.shenbing, i.cd = e.cd, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(i, n), n.id = parseInt(i)
                    }), a.Logger.log("ShenbingskillAllConfig===", this.configMap)
                }, t.getSkillConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        i.id != e || (t = i)
                    }), t
                }, t.getConfigByShenbingAndSkillLevel = function(e, t) {
                    var i;
                    return this.configMap.forEach(function(n, o) {
                        n.shenbing != e || n.level != t || (i = n)
                    }), i
                }, t.getkeyAndValue = function(e) {
                    var t = [];
                    for (var i in e) {
                        var n = [i, e[i]];
                        t.push(n)
                    }
                    return t
                }, t.Config_Name = "shenbingskillAllConfig", t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.ShenbingskillAllConfig = s, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ShopAllConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "49fc3Z+M0FN/4pxnpL6NrZJ", "ShopAllConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = "11", t.item_id = "I2101", t.item_num = 0, t.weight = [100, 0], t.name = "\u5f31\u6548\u592a\u9633\u6c34", t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.item_id = e.item_id, i.item_num = e.item_num, i.unit_price = e.unit_price, i.gem = e.gem, i.weight = e.weight, i.name = e.name, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.getConfig = function(e) {
                var t;
                return this.configMap.forEach(function(i, n) {
                    e != i.item_id || (t = i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ShopAllConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ShopConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "50ee65f7wRCmagh7I2A/QEC", "ShopConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = "1", t.goods1 = {
                    id: [1, 6],
                    rate: [800, 200]
                }, t.goods2 = {
                    id: [2, 7],
                    rate: [800, 200]
                }, t.goods3 = {
                    id: [3, 8],
                    rate: [800, 200]
                }, t.goods4 = {
                    id: [3, 8],
                    rate: [800, 200]
                }, t.goods5 = {
                    id: [4, 9],
                    rate: [800, 200]
                }, t.goods6 = {
                    id: [4, 9],
                    rate: [800, 200]
                }, t.goods7 = {
                    id: [5, 10],
                    rate: [800, 200]
                }, t.goods8 = {
                    id: [5, 10],
                    rate: [800, 200]
                }, t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.goods1 = e.goods1, i.goods2 = e.goods2, i.goods3 = e.goods3, i.goods4 = e.goods4, i.goods5 = e.goods5, i.goods6 = e.goods6, i.goods7 = e.goods7, i.goods8 = e.goods8, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ShopConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ShopRecoverConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c1b7cBZEmVJkLWvlnaW4Trm", "ShopRecoverConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.time = 1800, t.cost = "I3003", t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.price = e.price, i.time = e.time, i.cost = e.cost, i.num = e.num, i.bag_num = e.bag_num, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n)
                })
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.ShopRecoverConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    SkillConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a1343QxpR1L8pSfyArVvuBx", "SkillConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("../model/RoleInfoModel"),
            a = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skillId = 0, t.next_level = "dsjn_5", t.name = "\u7cbe\u795e\u529b\u6218\u80dc\u6cd5", t.name2 = "\u7cbe\u795e\u529b\u6218\u6cd5", t.book = "I5001", t.type = 0, t.target = 0, t.int = 0, t.range = 1, t.level = 1, t.maxlevel = 1, t.maxlevelup = 1, t.chance = 1e4, t.parameter = [1e4, 200], t.page = {
                        I4001: 200,
                        I5202: 10
                    }, t
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    for (var n in e)
                        i[n] = e[n];
                    return i.skillId = e.skillid, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.id = parseInt(i), t.configMap.set(i, n)
                    })
                }, t.getSkillConfigByRoleId = function(e) {
                    var t = this,
                        i = [];
                    return this.configMap.forEach(function(n, o) {
                        n.role == e && n.level == t.getSkillLevel(n.skillId) && i.push(n)
                    }), i
                }, t.getSkillLevel = function(e) {
                    for (var t = o.default.instance.getSkillList(), i = 0; i < t.length; i++) {
                        var n = t[i];
                        if (n.id)
                            return n.level
                    }
                    return 1
                }, t.getSkillConfigById = function(e, t) {
                    var i;
                    return this.configMap.forEach(function(n, o) {
                        n.skillId == e && n.level == t && (i = n)
                    }), i
                }, t.getSkillConfigByIdAll = function(e) {
                    var t = new Array;
                    return this.configMap.forEach(function(i, n) {
                        i.skillId == e && t.push(i)
                    }), t
                }, t.getSkillByOccupation = function(e) {
                    var i = new Array;
                    return this.configMap.forEach(function(n, o) {
                        n.role == e && n.type == t.SkillType.ZhuDong && i.push(n)
                    }), i
                }, t.configMap = new Map, t.SkillType = {
                    ZhuDong: 0,
                    BeiDong: 1
                }, t.TargetType = {
                    self: 0,
                    Enemy: 1
                }, t.SkillIdConfig = {
                    JingShenLiZhanShengFa: 301,
                    ZhiLiaoShu: 302,
                    LingHunHuoFu: 303,
                    ShiDuShu: 304,
                    ZhaoHuanShu: 305,
                    YinShen: 306,
                    ShenShengZhanJia: 307,
                    WuJiZhenQi: 308,
                    HuoQiuShu: 201,
                    LeiDianShu: 202,
                    HuoQiang: 203,
                    YouHuoZhiGuang: 204,
                    MoFaDun: 205,
                    FaShuJingTong: 206,
                    BingPaoXiao: 207,
                    JiChuJianShu: 101,
                    GongShaJianShu: 102,
                    CiShaJianShu: 103,
                    BanYueWanDao: 104,
                    YeManChongZhuang: 105,
                    DouQiHuTi: 106,
                    LieHuoJianFa: 107
                }, t
            }(e("./JsonConfigBase").JsonConfigBase);
        i.SkillConfig = a, cc._RF.pop()
    }, {
        "../model/RoleInfoModel": "RoleInfoModel",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    SkillEffectManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e2d14kwJ2BNEI+AEeVTzyjb", "SkillEffectManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/Logger"),
            o = e("../prefab/RolePrefab"),
            a = e("../utils/MusicHelper"),
            s = e("../../engine/MathUtils"),
            r = e("../prefab/GameManager"),
            l = function() {
                function e() {
                    this.skillConfig = {
                        putonggongji: 0,
                        banyuewandao: 1,
                        zhiYuShu: 2,
                        zhiYuShu2: 3,
                        bingPaoXiao: 4,
                        bingPaoXiao2: 5,
                        cishajianshu: 6,
                        diYuLeiGuang: 7,
                        diYuLeiGuang2: 8,
                        gongshajianshu: 9,
                        huoqiangshu: 10,
                        huoqiangshu2: 11,
                        huoqiushu: 12,
                        leidianshu: 13,
                        leidianshu2: 14,
                        liehuojianfa: 15,
                        linghunhuofu: 16,
                        mofadun: 17,
                        mofadun2: 18,
                        shenshengzhanjiashu: 19,
                        shenshougongji: 20,
                        shidushu: 21,
                        shidushu2: 22,
                        yemanchongzhuang: 23,
                        yemanchongzhuang2: 24,
                        yinshenshu: 25,
                        yinshenshu2: 26,
                        zhaohuan_kulu: 27,
                        zhaohuan_shenshou: 28,
                        zhenqihuti: 29,
                        wujizhenqi: 30,
                        youHuoZhiGuang: 31,
                        yuanchenggongji: 32,
                        yuanchenggongji2: 33,
                        cishajianshu2: 34,
                        linghunhuofu2: 35,
                        huoqiushu2: 36,
                        banyuewandao_effect2: 37,
                        banyuewandao_effect2_2: 38,
                        huoqiangshu_effect2: 39,
                        huoqiangshu_effect2_2: 40,
                        huoqiangshu_effect2_3: 41,
                        shidushu_effect2: 42,
                        shidushu_effect2_2: 43,
                        shidushu_effect2_3: 44
                    }
                }
                return e.prototype.init = function(e) {
                    this.demoEffect = e, this.demoEffect.active = !1
                }, e.prototype.useSkill = function(e, t, i, n) {
                    e == this.skillConfig.putonggongji ? this.playPuTongGongJi(i, t, n) : e == this.skillConfig.banyuewandao ? this.playerBanYueWanDao(i, t, n) : e == this.skillConfig.zhiYuShu ? this.playZhuYuShu(i, t, n) : e == this.skillConfig.bingPaoXiao ? this.playBingPaoXiao(i, t, n) : e == this.skillConfig.cishajianshu ? this.playCiShaJianShu(i, t, n) : e == this.skillConfig.diYuLeiGuang ? this.playDiYuLeiGuang(i, t, n) : e == this.skillConfig.gongshajianshu ? this.playGongShaJianShu(i, t, n) : e == this.skillConfig.huoqiangshu ? this.playHuoQiangShu(i, t, n) : e == this.skillConfig.huoqiushu ? this.playHuoQiuShu(i, t, n) : e == this.skillConfig.leidianshu ? this.playLeiDianShu(i, t, n) : e == this.skillConfig.liehuojianfa ? this.playLieHuoJianFa(i, t, n) : e == this.skillConfig.linghunhuofu ? this.playLingHunHuoFu(i, t, n) : e == this.skillConfig.mofadun ? this.playMoFaDun(i, t, n) : e == this.skillConfig.shenshengzhanjiashu ? this.playShenShengZhanJiaShu(i, t, n) : e == this.skillConfig.shenshougongji ? this.playShenShouGongJi(i, t, n) : e == this.skillConfig.shidushu ? this.playShiDuShou(i, t, n) : e == this.skillConfig.yemanchongzhuang ? this.playYeManChongZhuang(i, t, n) : e == this.skillConfig.yinshenshu ? this.playYinShenShu(i, t, n) : e == this.skillConfig.zhaohuan_kulu ? this.playKuLu(i, t, n) : e == this.skillConfig.zhaohuan_shenshou ? this.playShenShou(i, t, n) : e == this.skillConfig.wujizhenqi ? this.playWuJiZhenQi(i, t, n) : e == this.skillConfig.youHuoZhiGuang ? this.playYouHuoZhiGuang(i, t, n) : e == this.skillConfig.zhenqihuti ? this.playZhenQiHuTi(i, t, n) : e == this.skillConfig.yuanchenggongji ? this.playYuanChengGongJi(i, t, n) : e == this.skillConfig.banyuewandao_effect2 ? this.playBanYueWanDao_effect2(i, t, n) : e == this.skillConfig.huoqiangshu_effect2 ? this.playHuoQiangShu_effect2(i, t, n) : e == this.skillConfig.shidushu_effect2 && this.playShiduShu_effect2(i, t, n)
                }, e.prototype.playPuTongGongJi = function(e, t, i) {
                    a.MusicHelper.play_attack();
                    for (var n = function(n) {
                            var a = e[n],
                                l = o.default.getSideRole2Role(t, a),
                                c = cc.instantiate(s.demoEffect);
                            l == o.default.RoleSide.LeftUp || l == o.default.RoleSide.LeftDown || l == o.default.RoleSide.Left || l == o.default.RoleSide.Up ? c.scaleX = -1 : c.scaleX = 1, c.parent = s.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var g = c.getComponent(cc.Animation),
                                f = g.getClips()[s.skillConfig.putonggongji];
                            g.play(f.name, 0), cc.tween(c).to(.1, {
                                position: a.node.getPosition()
                            }).delay(f.duration - .1).call(function() {
                                c.destroy(), i && i()
                            }).start()
                        }, s = this, l = 0; l < e.length; l++)
                        n(l)
                }, e.prototype.playZhenQiHuTi = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t],
                                o = cc.instantiate(a.demoEffect);
                            o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                            var s = o.getComponent(cc.Animation),
                                l = s.getClips()[a.skillConfig.zhenqihuti];
                            s.play(l.name, 0), n = l.duration, cc.tween(o).to(.1, {
                                position: i.node.getPosition()
                            }).delay(l.duration - .1).call(function() {
                                o.destroy()
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playYouHuoZhiGuang = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t],
                                o = cc.instantiate(a.demoEffect);
                            o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                            var s = o.getComponent(cc.Animation),
                                l = s.getClips()[a.skillConfig.youHuoZhiGuang];
                            s.play(l.name, 0), n = l.duration, cc.tween(o).to(.1, {
                                position: i.node.getPosition()
                            }).delay(l.duration - .1).call(function() {
                                o.destroy()
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playWuJiZhenQi = function(e, t, i) {
                    for (var n = 0, o = function(i) {
                            var o = e[i],
                                s = cc.instantiate(a.demoEffect);
                            s.parent = a.demoEffect.parent, s.active = !0, s.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var l = s.getComponent(cc.Animation),
                                c = l.getClips()[a.skillConfig.wujizhenqi];
                            l.play(c.name, 0), n = c.duration, cc.tween(s).to(.1, {
                                position: o.node.getPosition()
                            }).delay(c.duration - .1).call(function() {
                                s.destroy()
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playerBanYueWanDao = function(e, t, i) {
                    a.MusicHelper.play_banyuewandao();
                    for (var n = function(t) {
                            var i = e[t],
                                n = cc.instantiate(o.demoEffect);
                            n.parent = o.demoEffect.parent, n.active = !0, n.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                            var a = n.getComponent(cc.Animation),
                                s = a.getClips()[o.skillConfig.banyuewandao];
                            a.play(s.name, 0), cc.tween(n).delay(s.duration).call(function() {
                                n.destroy()
                            }).start()
                        }, o = this, s = 0; s < e.length; s++)
                        n(s);
                    cc.tween(t).delay(0).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playBanYueWanDao_effect2 = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_banyuewandao();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.banyuewandao_effect2];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playBanYueWanDao_effect2_2(e, t, i)
                    }).start()
                }, e.prototype.playBanYueWanDao_effect2_2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t],
                                o = cc.instantiate(a.demoEffect);
                            o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                            var s = o.getComponent(cc.Animation),
                                l = s.getClips()[a.skillConfig.banyuewandao_effect2_2];
                            s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                o.destroy()
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playZhuYuShu = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_ZhiLiao();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.zhiYuShu];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playZhiYuShu2(e, t, i)
                    }).start()
                }, e.prototype.playZhiYuShu2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.zhiYuShu2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playBingPaoXiao = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_bingpaoxiao();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.bingPaoXiao];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playBingPaoXiao2(e, t, i)
                    }).start()
                }, e.prototype.playBingPaoXiao2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.bingPaoXiao2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playCiShaJianShu = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_cishajianshu();
                    for (var s = function(a) {
                            var s = e[a],
                                c = o.default.getSideRole2Role(t, s),
                                g = cc.instantiate(l.demoEffect);
                            c == o.default.RoleSide.LeftUp || c == o.default.RoleSide.LeftDown || c == o.default.RoleSide.Left || c == o.default.RoleSide.Up ? g.scaleX = -1 : g.scaleX = 1, g.parent = l.demoEffect.parent, g.active = !0, g.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var f = g.getComponent(cc.Animation),
                                d = f.getClips()[l.skillConfig.cishajianshu];
                            f.play(d.name, 0), cc.tween(g).to(.1, {
                                position: s.node.getPosition()
                            }).call(function() {
                                g.destroy(), n.playCiShaJianShu2(e, t, i)
                            }).start()
                        }, l = this, c = 0; c < e.length; c++)
                        s(c)
                }, e.prototype.playCiShaJianShu2 = function(e, t, i) {
                    for (var n, a = function(i) {
                            var a = e[i];
                            if (a && a.node) {
                                var l = o.default.getSideRole2Role(t, a),
                                    c = cc.instantiate(s.demoEffect);
                                l == o.default.RoleSide.LeftUp || l == o.default.RoleSide.LeftDown || l == o.default.RoleSide.Left || l == o.default.RoleSide.Up ? c.scaleX = -1 : c.scaleX = 1, c.parent = s.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(a.gridRow, a.gridCol));
                                var g = c.getComponent(cc.Animation),
                                    f = g.getClips()[s.skillConfig.cishajianshu2];
                                g.play(f.name, 0), n = f.duration, cc.tween(c).delay(f.duration).call(function() {
                                    c.destroy()
                                }).start()
                            }
                        }, s = this, l = 0; l < e.length; l++)
                        a(l);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playDiYuLeiGuang = function(e, t, i) {
                    var n = this,
                        o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var a = o.getComponent(cc.Animation),
                        s = a.getClips()[this.skillConfig.diYuLeiGuang];
                    a.play(s.name, 0), cc.tween(o).delay(s.duration).call(function() {
                        o.destroy(), n.playDiYuLeiGuang2(e, t, i)
                    }).start()
                }, e.prototype.playDiYuLeiGuang2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.diYuLeiGuang2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playGongShaJianShu = function(e, t, i) {
                    for (var n = function(n) {
                            var s = e[n],
                                l = o.default.getSideRole2Role(t, s),
                                c = cc.instantiate(a.demoEffect);
                            l == o.default.RoleSide.LeftUp || l == o.default.RoleSide.LeftDown || l == o.default.RoleSide.Left || l == o.default.RoleSide.Up ? c.scaleX = -1 : c.scaleX = 1, c.parent = a.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var g = c.getComponent(cc.Animation),
                                f = g.getClips()[a.skillConfig.gongshajianshu];
                            g.play(f.name, 0), cc.tween(c).to(.1, {
                                position: s.node.getPosition()
                            }).delay(f.duration - .1).call(function() {
                                c.destroy(), i && i()
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        n(s)
                }, e.prototype.playHuoQiangShu = function(e, t, i) {
                    var o = this;
                    a.MusicHelper.play_huoqiang(), n.Logger.log("playHuoQiangShu_effect  yuanxian==");
                    var s = cc.instantiate(this.demoEffect);
                    s.parent = this.demoEffect.parent, s.active = !0, s.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var l = s.getComponent(cc.Animation),
                        c = l.getClips()[this.skillConfig.huoqiangshu];
                    l.play(c.name, 0), cc.tween(s).delay(c.duration).call(function() {
                        s.destroy(), o.playHuoQiangShu2(e, t, i)
                    }).start()
                }, e.prototype.playHuoQiangShu2 = function(e, t, i) {
                    var o = 0;
                    n.Logger.log("playHuoQiangShu_effect  yuanxian=222=");
                    for (var a = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var n = cc.instantiate(s.demoEffect);
                                n.parent = s.demoEffect.parent, n.active = !0, n.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var a = n.getComponent(cc.Animation),
                                    l = a.getClips()[s.skillConfig.huoqiangshu2];
                                a.play(l.name, 0), o = l.duration, cc.tween(n).delay(l.duration).call(function() {
                                    n.destroy()
                                }).start()
                            }
                        }, s = this, l = 0; l < e.length; l++)
                        a(l);
                    cc.tween(t.node).delay(o).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playHuoQiangShu_effect2 = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_huoqiang();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.huoqiangshu_effect2];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration - .02).call(function() {
                        o.destroy(), n.playHuoQiangShu_effect2_2(e, t, i)
                    }).start()
                }, e.prototype.playHuoQiangShu_effect2_2 = function(e, t, i) {
                    var o = this,
                        a = 0;
                    n.Logger.log("playHuoQiangShu_effect2_2======");
                    for (var s = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var n = cc.instantiate(r.demoEffect);
                                n.parent = i.node, n.setPosition(0, 0), n.active = !0;
                                var o = n.getComponent(cc.Animation),
                                    s = o.getClips()[r.skillConfig.huoqiangshu_effect2_2];
                                o.play(s.name, 0), a = s.duration, cc.tween(n).delay(s.duration).call(function() {
                                    n.destroy()
                                }).start()
                            }
                        }, r = this, l = 0; l < e.length; l++)
                        s(l);
                    cc.tween(t.node).delay(a - .05).call(function() {
                        o.playHuoQiangShu_effect2_3(e, t, i)
                    }).start()
                }, e.prototype.playHuoQiangShu_effect2_3 = function(e, t, i) {
                    n.Logger.log("playHuoQiangShu_effect2_3======");
                    for (var o = 0; o < e.length; o++) {
                        var a = e[o];
                        if (a && a.node) {
                            a.huoQiangEffect2 && (a.huoQiangEffect2.destroy(), a.huoQiangEffect2 = null);
                            var s = cc.instantiate(this.demoEffect);
                            s.parent = a.node, s.setPosition(0, 0), s.active = !0;
                            var r = s.getComponent(cc.Animation),
                                l = r.getClips()[this.skillConfig.huoqiangshu_effect2_3];
                            r.play(l.name, 0), .6, n.Logger.log("\u706b\u5899\u65f6\u95f4\u5230\u4e86=111=="), a.huoQiangEffect2 = s
                        }
                    }
                    i && i()
                }, e.prototype.playHuoQiuShu = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_huoqiushu();
                    for (var o = function(o) {
                            var a = e[o],
                                c = cc.instantiate(l.demoEffect),
                                g = s.default.p2pRad(t.node.getPosition(), a.node.getPosition()),
                                f = s.default.radiansToDegrees(g);
                            c.angle = f - 90, c.parent = l.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var d = c.getComponent(cc.Animation),
                                h = d.getClips()[l.skillConfig.huoqiushu];
                            d.play(h.name, 0), cc.tween(c).to(.2, {
                                position: a.node.getPosition()
                            }).call(function() {
                                c.destroy(), n.playHuoQiuShu2(e, t, i)
                            }).start()
                        }, l = this, c = 0; c < e.length; c++)
                        o(c)
                }, e.prototype.playHuoQiuShu2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.huoqiushu2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(i).start()
                }, e.prototype.playLeiDianShu = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_leidianshu();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.leidianshu];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playLeiDianShu2(e, t, i)
                    }).start()
                }, e.prototype.playLeiDianShu2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.leidianshu2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playLieHuoJianFa = function(e, t, i) {
                    a.MusicHelper.play_liehuojianfa();
                    for (var n = function(n) {
                            var a = e[n],
                                l = o.default.getSideRole2Role(t, a),
                                c = cc.instantiate(s.demoEffect);
                            c.scaleX = 1, l == o.default.RoleSide.LeftUp ? c.angle = 45 : l == o.default.RoleSide.Up ? c.angle = 90 : l == o.default.RoleSide.RightUp ? (c.scaleX = -1, c.angle = -45) : l == o.default.RoleSide.Down ? (c.scaleX = -1, c.angle = 60) : l == o.default.RoleSide.Right ? c.scaleX = -1 : l == o.default.RoleSide.LeftDown ? c.angle = -30 : l == o.default.RoleSide.RightDown ? (c.scaleX = -1, c.angle = -30) : o.default.RoleSide.Left, c.parent = s.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var g = c.getComponent(cc.Animation),
                                f = g.getClips()[s.skillConfig.liehuojianfa];
                            g.play(f.name, 0), cc.tween(c).to(.1, {
                                position: a.node.getPosition()
                            }).delay(f.duration - .1).call(function() {
                                c.destroy(), i && i()
                            }).start()
                        }, s = this, l = 0; l < e.length; l++)
                        n(l)
                }, e.prototype.playLingHunHuoFu = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_LingHunHuoFu();
                    for (var o = function(o) {
                            var a = e[o],
                                c = cc.instantiate(l.demoEffect),
                                g = s.default.p2pRad(t.node.getPosition(), a.node.getPosition()),
                                f = s.default.radiansToDegrees(g);
                            c.angle = f - 90, c.parent = l.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var d = c.getComponent(cc.Animation),
                                h = d.getClips()[l.skillConfig.linghunhuofu];
                            d.play(h.name, 0), cc.tween(c).to(.2, {
                                position: a.node.getPosition()
                            }).delay(.1).call(function() {
                                c.destroy(), n.playLingHunHuoFu2(e, t, i)
                            }).start()
                        }, l = this, c = 0; c < e.length; c++)
                        o(c);
                    cc.tween(t.node).delay(.2).call(i).start()
                }, e.prototype.playLingHunHuoFu2 = function(e, t, i) {
                    for (var n = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var n = cc.instantiate(o.demoEffect);
                                n.parent = o.demoEffect.parent, n.active = !0, n.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var a = n.getComponent(cc.Animation),
                                    s = a.getClips()[o.skillConfig.linghunhuofu2];
                                a.play(s.name, 0), s.duration, cc.tween(n).delay(s.duration).call(function() {
                                    n.destroy()
                                }).start()
                            }
                        }, o = this, a = 0; a < e.length; a++)
                        n(a)
                }, e.prototype.playMoFaDun = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_mofadun();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.mofadun];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playMoFaDun2(e, t, i)
                    }).start()
                }, e.prototype.playMoFaDun2 = function(e, t, i) {
                    for (var n = [], o = 0; o < e.length; o++) {
                        var a = e[o];
                        if (a && a.node) {
                            var s = cc.instantiate(this.demoEffect);
                            s.parent = a.node, s.active = !0, s.setPosition(0, 0);
                            var r = s.getComponent(cc.Animation),
                                l = r.getClips()[this.skillConfig.mofadun2];
                            r.play(l.name, 0), n.push(s)
                        }
                    }
                    cc.tween(t.node).delay(.4).call(function() {
                        i && i(n)
                    }).start()
                }, e.prototype.playShenShengZhanJiaShu = function(e, t, i) {
                    a.MusicHelper.play_shenshengzhanjia();
                    var n = cc.instantiate(this.demoEffect);
                    n.parent = this.demoEffect.parent, n.active = !0, n.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var o = n.getComponent(cc.Animation),
                        s = o.getClips()[this.skillConfig.shenshengzhanjiashu];
                    o.play(s.name, 0), cc.tween(n).delay(s.duration).call(function() {
                        n.destroy(), i && i()
                    }).start()
                }, e.prototype.playShenShouGongJi = function(e, t, i) {
                    for (var n = function(n) {
                            var a = e[n],
                                l = cc.instantiate(o.demoEffect),
                                c = s.default.p2pRad(t.node.getPosition(), a.node.getPosition()),
                                g = s.default.radiansToDegrees(c);
                            l.angle = g, l.parent = o.demoEffect.parent, l.active = !0, l.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var f = l.getComponent(cc.Animation),
                                d = f.getClips()[o.skillConfig.shenshougongji];
                            f.play(d.name, 0), cc.tween(l).to(.1, {
                                position: a.node.getPosition()
                            }).delay(d.duration - .1).call(function() {
                                l.destroy(), i && i()
                            }).start()
                        }, o = this, a = 0; a < e.length; a++)
                        n(a)
                }, e.prototype.playShiDuShou = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_ShiDu();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.shidushu];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playShiDuShou2(e, t, i)
                    }).start()
                }, e.prototype.playShiDuShou2 = function(e, t, i) {
                    for (var n = 0, o = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var o = cc.instantiate(a.demoEffect);
                                o.parent = a.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var s = o.getComponent(cc.Animation),
                                    l = s.getClips()[a.skillConfig.shidushu2];
                                s.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                    o.destroy()
                                }).start()
                            }
                        }, a = this, s = 0; s < e.length; s++)
                        o(s);
                    cc.tween(t.node).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playShiduShu_effect2 = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_ShiDu();
                    var o = cc.instantiate(this.demoEffect);
                    o.parent = this.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                    var s = o.getComponent(cc.Animation),
                        l = s.getClips()[this.skillConfig.shidushu_effect2];
                    s.play(l.name, 0), cc.tween(o).delay(l.duration).call(function() {
                        o.destroy(), n.playShiduShu_effect2_2(e, t, i)
                    }).start()
                }, e.prototype.playShiduShu_effect2_2 = function(e, t, i) {
                    for (var n = this, o = 0, a = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var n = cc.instantiate(s.demoEffect);
                                n.parent = i.node, n.setPosition(0, 0), n.active = !0;
                                var a = n.getComponent(cc.Animation),
                                    r = a.getClips()[s.skillConfig.shidushu_effect2_2];
                                a.play(r.name, 0), o = r.duration, cc.tween(n).delay(r.duration + .5).call(function() {
                                    n.destroy()
                                }).start()
                            }
                        }, s = this, r = 0; r < e.length; r++)
                        a(r);
                    cc.tween(t.node).delay(o - .02).call(function() {
                        n.playShiduShu_effect2_3(e, t, i)
                    }).start()
                }, e.prototype.playShiduShu_effect2_3 = function(e, t, i) {
                    for (var n = 0, o = 0; o < e.length; o++) {
                        var a = e[o];
                        if (a && a.node) {
                            a.shidushu_effect && (a.shidushu_effect.destroy(), a.shidushu_effect = null);
                            var s = cc.instantiate(this.demoEffect);
                            s.parent = a.node, s.setPosition(0, 0), s.active = !0, a.shidushu_effect = s;
                            var r = s.getComponent(cc.Animation),
                                l = r.getClips()[this.skillConfig.shidushu_effect2_3];
                            r.play(l.name, 0), n = .6
                        }
                    }
                    cc.tween(t.node).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playYeManChongZhuang = function(e, t, i) {
                    var n = this;
                    a.MusicHelper.play_yemanchongzhuang();
                    for (var s = function(a) {
                            var s = e[a],
                                c = cc.instantiate(l.demoEffect);
                            c.scaleX = 1;
                            var g = o.default.getSideRole2Role(t, s);
                            g == o.default.RoleSide.LeftUp ? c.angle = -30 : g == o.default.RoleSide.Up ? c.angle = -90 : g == o.default.RoleSide.RightUp ? (c.scaleX = -1, c.angle = 30) : g == o.default.RoleSide.Down ? (c.scaleX = -1, c.angle = -90) : g == o.default.RoleSide.Right ? c.scaleX = -1 : g == o.default.RoleSide.LeftDown ? c.angle = 30 : g == o.default.RoleSide.RightDown ? (c.scaleX = -1, c.angle = -30) : o.default.RoleSide.Left, c.parent = l.demoEffect.parent, c.active = !0, c.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var f = c.getComponent(cc.Animation),
                                d = f.getClips()[l.skillConfig.yemanchongzhuang];
                            f.play(d.name, 0), cc.tween(c).to(.1, {
                                position: s.node.getPosition()
                            }).delay(d.duration - .1).call(function() {
                                c.destroy(), n.playYeManChongZhuang2(e, t, i)
                            }).start()
                        }, l = this, c = 0; c < e.length; c++)
                        s(c)
                }, e.prototype.playYeManChongZhuang2 = function(e, t, i) {
                    for (var n = [], o = 0; o < e.length; o++) {
                        var a = e[o];
                        if (a && a.node) {
                            var s = cc.instantiate(this.demoEffect);
                            s.parent = a.node, s.active = !0, s.setPosition(0, 0);
                            var r = s.getComponent(cc.Animation),
                                l = r.getClips()[this.skillConfig.yemanchongzhuang2];
                            r.play(l.name, 0), n.push(s)
                        }
                    }
                    cc.tween(t.node).delay(.3).call(function() {
                        i(n)
                    }).start()
                }, e.prototype.playYinShenShu = function(e, t, i) {
                    for (var n = this, o = function(o) {
                            e[o];
                            var s = cc.instantiate(a.demoEffect);
                            s.parent = a.demoEffect.parent, s.active = !0, s.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var l = s.getComponent(cc.Animation),
                                c = l.getClips()[a.skillConfig.yinshenshu];
                            l.play(c.name, 0), cc.tween(s).delay(c.duration).call(function() {
                                s.destroy(), n.playYinShenShu2(e, t, i)
                            }).start()
                        }, a = this, s = 0; s < e.length; s++)
                        o(s)
                }, e.prototype.playYinShenShu2 = function(e, t, i) {
                    for (var n = [], o = 0; o < e.length; o++) {
                        var a = e[o];
                        if (a && a.node) {
                            var s = cc.instantiate(this.demoEffect);
                            s.parent = a.node, s.active = !0;
                            var r = s.getComponent(cc.Animation),
                                l = r.getClips()[this.skillConfig.yinshenshu2];
                            r.play(l.name, 0), n.push(s)
                        }
                    }
                    cc.tween(t.node).delay(.3).call(function() {
                        i && i(n)
                    }).start()
                }, e.prototype.playKuLu = function(e, t, i) {
                    a.MusicHelper.play_call();
                    for (var n = 0, o = function(i) {
                            e[i];
                            var o = cc.instantiate(s.demoEffect);
                            o.parent = s.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var a = o.getComponent(cc.Animation),
                                l = a.getClips()[s.skillConfig.zhaohuan_kulu];
                            a.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                o.destroy()
                            }).start()
                        }, s = this, l = 0; l < e.length; l++)
                        o(l);
                    cc.tween(t.node).delay(n).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playShenShou = function(e, t, i) {
                    for (var n = 0, a = function(i) {
                            e[i];
                            var o = cc.instantiate(s.demoEffect);
                            o.parent = s.demoEffect.parent, o.active = !0, o.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var a = o.getComponent(cc.Animation),
                                l = a.getClips()[s.skillConfig.zhaohuan_shenshou];
                            a.play(l.name, 0), n = l.duration, cc.tween(o).delay(l.duration).call(function() {
                                o.destroy()
                            }).start()
                        }, s = this, l = 0; l < e.length; l++)
                        a(l);
                    cc.tween(t.node).delay(n).call(function() {
                        t.state = o.default.RoleState.Relax, i && i()
                    }).start()
                }, e.prototype.playYuanChengGongJi = function(e, t, i) {
                    for (var n = this, o = function(o) {
                            var l = e[o],
                                c = s.default.p2pRad(t.node.getPosition(), l.node.getPosition()),
                                g = cc.instantiate(a.demoEffect),
                                f = s.default.radiansToDegrees(c);
                            g.angle = f, g.parent = a.demoEffect.parent, g.active = !0, g.setPosition(r.default.instance.gameView.getGridPosition(t.gridRow, t.gridCol));
                            var d = g.getComponent(cc.Animation),
                                h = d.getClips()[a.skillConfig.yuanchenggongji];
                            d.play(h.name, 0), cc.tween(g).to(.3, {
                                position: l.node.getPosition()
                            }).call(function() {
                                g.destroy(), n.playYuanChengGongJi2(e, t, i)
                            }).start()
                        }, a = this, l = 0; l < e.length; l++)
                        o(l);
                    cc.tween(t.node).delay(0).call(function() {
                        i && i()
                    }).start()
                }, e.prototype.playYuanChengGongJi2 = function(e, t, i) {
                    for (var n = function(t) {
                            var i = e[t];
                            if (i && i.node) {
                                var n = cc.instantiate(o.demoEffect);
                                n.parent = o.demoEffect.parent, n.active = !0, n.setPosition(r.default.instance.gameView.getGridPosition(i.gridRow, i.gridCol));
                                var a = n.getComponent(cc.Animation),
                                    s = a.getClips()[o.skillConfig.yuanchenggongji2];
                                a.play(s.name, 0), cc.tween(n).delay(s.duration).call(function() {
                                    n.destroy()
                                }).start()
                            }
                        }, o = this, a = 0; a < e.length; a++)
                        n(a)
                }, e.instance = new e, e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/MathUtils": "MathUtils",
        "../prefab/GameManager": "GameManager",
        "../prefab/RolePrefab": "RolePrefab",
        "../utils/MusicHelper": "MusicHelper"
    }],
    SkillEffectModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "80a47ldOwtOabxlSUAFO92L", "SkillEffectModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/LocalStorage"),
            o = e("../config/SkillConfig"),
            a = e("../config/SkinConfig"),
            s = e("../../engine/Logger"),
            r = e("./ServerTime"),
            l = e("../../engine/EventManager"),
            c = e("../event/CommonEvent"),
            g = function() {
                function e() {
                    this.id = 0, this.canTry = !0
                }
                return e.init = function() {}, e.saveToLocalStorage = function() {
                    n.default.setItem(this.skillEffectModelLocalKey, JSON.stringify(this.modelList))
                }, e.getSkillModelById = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i.id == e)
                            return i
                    }
                }, e.refreshModelById = function(e, t) {
                    for (var i = 0; i < this.modelList.length; i++)
                        this.modelList[i].id == e && (this.modelList[i].isBought = t.isBought, this.modelList[i].isTryed = t.isTryed, this.modelList[i].isEquipped = t.isEquipped, this.modelList[i].tryExpireTime = t.tryExpireTime, this.modelList[i].expireTime = t.expireTime)
                }, e.getSkillModelBySkillId = function(e) {
                    for (var t = [], i = 0; i < this.modelList.length; i++) {
                        var n = this.modelList[i];
                        n.skillId == e && t.push(n)
                    }
                    return t
                }, e.prototype.getCanTry = function() {
                    return this.canTry
                }, e.proto2BossModelList = function(t) {
                    this.modelList = [];
                    for (var i = t.getSkillSkinListList(), n = 0; n < i.length; n++) {
                        i[n].getSkillid();
                        for (var o = i[n].getSkillSinInfoList(), a = 0; a < o.length; a++) {
                            var r = new e;
                            r.id = o[a].getSkinid(), r.skillId = o[a].getSkillid(), r.isBought = o[a].getIsBought(), r.isEquipped = o[a].getIsEquipped(), r.isTryed = o[a].getIsTryed(), r.expireTime = o[a].getExpireTime(), r.tryExpireTime = o[a].getTryExpireTime(), this.modelList[a] = r
                        }
                    }
                    s.Logger.log("c_seq_all_skill_sin==== this.modelList====", this.modelList), l.EventManager.instance.dispatch(c.CommonEvent.Event_SkillEffectView_Change)
                }, e.prototype.getLeftTime = function() {
                    var e = this.tryExpireTime - r.ServerTime.getServerTime() / 1e3;
                    return (e = Math.floor(e)) <= 0 && (e = 0), e = Math.ceil(e)
                }, e.getIsEquipedModelBySkillId = function(e) {
                    for (var t = this.getSkillModelBySkillId(e), i = 0; i < t.length; i++)
                        if (1 == t[i].isEquipped)
                            return t[i]
                }, e.getSkillEffectAndBonusDamage = function(t) {
                    var i = a.default.getDefaultSkinConfig(t),
                        n = {
                            skillEffectType: i.effect,
                            skinBonusDamage_p: i.mag_value1[1]
                        },
                        s = o.SkillConfig.getSkillConfigById(t, 1),
                        r = e.getIsEquipedModelBySkillId(s.skillId);
                    if (r) {
                        var l = a.default.getConfigById(r.id);
                        n.skinBonusDamage_p += l.mag_value1[1], n.skillEffectType = l.effect
                    }
                    return n
                }, e.getSkillEffectModelBySkillidAndSkinId = function(t, i) {
                    var n = a.default.getDefaultSkinConfig(t),
                        o = new e;
                    o.canTry = !0, o.id = n.id, o.skillId = t, o.isBought = 0, n.defaultskin == i ? (o.isEquipped = 1, o.isBought = 1) : (o.isEquipped = 0, o.isBought = 0), o.isTryed = 0, o.expireTime = 0, o.tryExpireTime = 0;
                    for (var s = this.getSkillModelBySkillId(t), r = 0; r < s.length; r++)
                        s[r].id == i && (o.id = s[r].id, o.skillId = s[r].skillId, o.isBought = s[r].isBought, o.isEquipped = s[r].isEquipped, o.isTryed = s[r].isTryed, o.expireTime = s[r].expireTime, o.tryExpireTime = s[r].tryExpireTime);
                    return o
                }, e.modelList = [], e.defaultLocalKey = "SkillEffectModelLocalKey", e.skillEffectModelLocalKey = "", e
            }();
        i.default = g, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "../config/SkillConfig": "SkillConfig",
        "../config/SkinConfig": "SkinConfig",
        "../event/CommonEvent": "CommonEvent",
        "./ServerTime": "ServerTime"
    }],
    SkillEffectSeletItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d1a93HedGVGYpya65jpx0Fr", "SkillEffectSeletItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ComponentBase"),
            s = e("../../config/FangShopConfig"),
            r = e("../../utils/MusicHelper"),
            l = e("../../../engine/Logger"),
            c = e("../../network/SocketClient"),
            g = e("../../model/SkillEffectModel"),
            f = e("../../config/SkinConfig"),
            d = e("../../config/ColorConfig"),
            h = e("../../../engine/DateUtil"),
            u = e("../../event/CommonEvent"),
            p = e("../../../engine/EventManager"),
            m = cc._decorator,
            C = m.ccclass,
            v = m.property,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.timeOut = 0, t.spriteFrameList = [], t
                }
                return n(t, e), t.prototype.init = function(e, t) {
                    this.skillId = e, this.skinId = t, this.config = f.default.getConfigById(t), this.skillEffectModel = g.default.getSkillEffectModelBySkillidAndSkinId(this.skillId, this.config.id), this.node.getChildByName("effectName").getComponent(cc.Label).string = this.config.name, this.node.getChildByName("effectName").color = d.ColorConfig.getQualityColor(this.config.quality), this.node.getChildByName("effectValue").getComponent(cc.Label).string = this.config.des, this.node.getChildByName("jntb_bg").getChildByName("skillEffectIcon").getComponent(cc.Sprite).spriteFrame = this.spriteFrameList[this.config.id - 1], this.onAddEvent(this.node.getChildByName("btnTry"), this.onClickTry.bind(this, t)), this.onAddEvent(this.node.getChildByName("btnUse"), this.onClickUse.bind(this, t)), this.onAddEvent(this.node.getChildByName("bg1"), this.onClickUse.bind(this, t)), this.onAddEvent(this.node.getChildByName("bg1"), this.onClickUse.bind(this, t)), p.EventManager.instance.on(u.CommonEvent.Event_SkillEffectView_Change, this.refresh, this), this.tryTime = this.skillEffectModel.getLeftTime(), this.refresh()
                }, t.prototype.refresh = function() {
                    this.skillEffectModel = g.default.getSkillEffectModelBySkillidAndSkinId(this.skillId, this.config.id), this.tryTime = this.skillEffectModel.getLeftTime(), this.node.getChildByName("hadseletbg").active = !1, this.node.getChildByName("btnTry").active = !1, this.node.getChildByName("btnUse").active = !1, this.node.getChildByName("img_shiyongzhong").active = !1, this.node.getChildByName("img_weihuode").active = !1, this.node.getChildByName("1").active = !1, this.skillEffectModel && (0 == this.skillEffectModel.isBought ? this.tryTime > 0 ? (this.node.getChildByName("1").active = !0, this.node.getChildByName("1").getChildByName("leftTime").getComponent(cc.Label).string = h.default.formatLeftTime0(1e3 * this.tryTime), this.node.getChildByName("btnTry").active = !1, this.node.getChildByName("img_weihuode").active = !1, 1 == this.skillEffectModel.isEquipped ? this.node.getChildByName("hadseletbg").active = !0 : this.node.getChildByName("hadseletbg").active = !1) : (this.onClickUse(f.default.getConfigById(this.skillEffectModel.id).defaultskin), this.node.getChildByName("1").active = !1, 0 == this.skillEffectModel.isTryed ? (this.node.getChildByName("btnTry").active = !0, this.node.getChildByName("img_weihuode").active = !1) : (this.node.getChildByName("btnTry").active = !1, this.node.getChildByName("img_weihuode").active = !0)) : 1 == this.skillEffectModel.isEquipped ? (this.node.getChildByName("hadseletbg").active = !0, this.node.getChildByName("img_shiyongzhong").active = !0, this.node.getChildByName("btnUse").active = !1) : (this.node.getChildByName("hadseletbg").active = !1, this.node.getChildByName("img_shiyongzhong").active = !1, this.node.getChildByName("btnUse").active = !0))
                }, t.prototype.update = function() {
                    this.timeOut++, this.timeOut >= cc.game.getFrameRate() && (this.timeOut = 0, this.skillEffectModel = g.default.getSkillEffectModelBySkillidAndSkinId(this.skillId, this.config.id), this.tryTime = this.skillEffectModel.getLeftTime(), this.tryTime > 0 ? this.node.getChildByName("1").getChildByName("leftTime").getComponent(cc.Label).string = h.default.formatLeftTime0(1e3 * this.tryTime) : this.node.getChildByName("1").getChildByName("leftTime").getComponent(cc.Label).string = "--")
                }, t.prototype.onClickUse = function(e) {
                    var t = g.default.getIsEquipedModelBySkillId(this.skillId);
                    if (!t || e != t.id) {
                        var i = g.default.getSkillModelById(e);
                        if (i && (1 == i.isBought || i.getLeftTime() > 0))
                            if (t)
                                c.default.s_seq_swap_skill_sin(this.skillId, t.id, e);
                            else {
                                var n = f.default.getConfigById(e);
                                c.default.s_seq_swap_skill_sin(this.skillId, n.defaultskin, e)
                            }
                    }
                }, t.prototype.onClickTry = function(e) {
                    r.MusicHelper.play_click();
                    var t = s.default.getConfigByItemId(e + "").shopId;
                    l.Logger.log("\u70b9\u51fb\u8bd5\u7528\u6280\u80fd\u76ae\u80a4====\u76ae\u80a4id", e + "\u574a\u5e02id===", t), c.default.s_seq_try_item(t)
                }, t.prototype.onAddEvent = function(e, t, i) {
                    void 0 === i && (i = cc.Button.Transition.NONE), e.getComponent(cc.Button) || e.addComponent(cc.Button), e.getComponent(cc.Button).transition = i, e.targetOff(e), e.on(cc.Node.EventType.TOUCH_END, function() {
                        e.getComponent(cc.Button).enabled && (r.MusicHelper.play_click(), t && t())
                    }, e)
                }, o([v({
                    type: [cc.SpriteFrame]
                })], t.prototype, "spriteFrameList", void 0), t = o([C], t)
            }(a.default);
        i.default = _, cc._RF.pop()
    }, {
        "../../../engine/ComponentBase": "ComponentBase",
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/FangShopConfig": "FangShopConfig",
        "../../config/SkinConfig": "SkinConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/SkillEffectModel": "SkillEffectModel",
        "../../network/SocketClient": "SocketClient",
        "../../utils/MusicHelper": "MusicHelper"
    }],
    SkillEffectView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e4848svBfVI15vp+DbkoDQ1", "SkillEffectView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../../engine/UIManager"),
            r = e("../../config/ViewConfig"),
            l = e("../../config/SkinConfig"),
            c = e("../../../engine/Logger"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skinconfigList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.skillId = e, this.skinconfigList = l.default.getConfigByTypeValue(this.skillId), c.Logger.log("SkillEffectView=====skillEffectModelList==", this.skinconfigList)
                }, t.prototype.onShow = function() {
                    s.default.instance.setTopUI(r.default.gameView.SkillEffectView), this.scrollView = this.findChild(this.node, "scrollView"), c.Logger.log("skinConfigList===", this.skinconfigList);
                    for (var e = 0; e < this.skinconfigList.length; e++) {
                        var t = cc.instantiate(this.findChild(this.node, "item"));
                        t.active = !0;
                        var i = l.default.getConfigById(this.skinconfigList[e].id);
                        t.getComponent("SkillEffectSeletItem").init(this.skillId, i.id), this.scrollView.getComponent(cc.ScrollView).content.addChild(t)
                    }
                }, t = o([f], t)
            }(a.default));
        i.default = d, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/SkinConfig": "SkinConfig",
        "../../config/ViewConfig": "ViewConfig"
    }],
    SkillIUp: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "02f05OSz3hC8pER0QI+pAjV", "SkillIUp");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/UIManager"),
            s = e("../../../engine/ViewBase"),
            r = e("../../config/ViewConfig"),
            l = e("../../model/RoleInfoModel"),
            c = e("../../utils/UIHelper"),
            g = e("../../../engine/Logger"),
            f = e("../../config/ITemsConfig"),
            d = e("../../config/ColorConfig"),
            h = e("../../model/ItemInfoModel"),
            u = e("../../config/GameConfig"),
            p = e("../../prefab/ItemPrefab"),
            m = e("../../config/GameConst"),
            C = cc._decorator,
            v = C.ccclass,
            _ = (C.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    for (var t in this.config = e, this.needList = [], this.config.page) {
                        var i = {};
                        i.key = t, i.value = this.config.page[t], this.needList.push(i)
                    }
                    this.initWidget()
                }, t.prototype.initWidget = function() {
                    u.GameConfig.platform, cc.sys.WECHAT_GAME, this.bagItem = this.findChild(this.node, "view/pnlCost/bagItem"), this.bagItem.active = !1, this.lblDesc = this.getChild(this.node, "view/2/lblDesc", cc.Label), this.btnUp = this.getChild(this.node, "view/btnUp"), this.initData(), this.refreshData()
                }, t.prototype.initData = function() {
                    var e = this.config;
                    this.lblDesc.string = "\u63d0\u9ad8\u3010" + e.name2 + "\u3011\u81f3" + (e.level + 1) + "\u7ea7", this.btnUp.on("click", this.onUp, this);
                    for (var t = 0; t < this.needList.length; t++) {
                        var i = cc.instantiate(this.bagItem),
                            n = this.needList[t];
                        i.active = !0, i.parent = this.bagItem.parent, this.itemList[t] = i;
                        var o = f.ITemsConfig.getITemsConfigById(n.key);
                        i.getComponent(p.default).init(o);
                        var a = i.getChildByName("needNode"),
                            s = a.getChildByName("txtNowNum").getComponent(cc.Label),
                            r = a.getChildByName("txtNeedNum").getComponent(cc.Label);
                        r.string = "/" + n.value, r.node.color = d.ColorConfig.WhiteColor;
                        var l = h.default.getItemAmount(n.key);
                        g.Logger.log("myNum====================", n.key, l), s.string = l + "", l >= n.value ? s.node.color = d.ColorConfig.GreenColor : (s.node.color = d.ColorConfig.hexToColor("#ff0000"), o.id, m.ItemId.Book)
                    }
                }, t.prototype.onUserInfoRefresh = function() {
                    this.refreshData()
                }, t.prototype.refreshData = function() {
                    for (var e = 0; e < this.itemList.length; e++) {
                        var t = this.itemList[e],
                            i = this.needList[e],
                            n = f.ITemsConfig.getITemsConfigById(i.key);
                        t.getComponent(p.default).init(n);
                        var o = t.getChildByName("needNode"),
                            a = o.getChildByName("txtNowNum").getComponent(cc.Label),
                            s = o.getChildByName("txtNeedNum").getComponent(cc.Label);
                        s.string = "/" + i.value, s.node.color = d.ColorConfig.WhiteColor;
                        var r = h.default.getItemAmount(i.key);
                        g.Logger.log("myNum====================", i.key, r), a.string = r + "", r >= i.value ? a.node.color = d.ColorConfig.GreenColor : (a.node.color = d.ColorConfig.hexToColor("#ff0000"), n.id, m.ItemId.Book)
                    }
                }, t.prototype.onUp = function() {
                    for (var e = 0; e < this.needList.length; e++) {
                        var t = this.needList[e],
                            i = f.ITemsConfig.getITemsConfigById(t.key);
                        if (h.default.getItemAmount(t.key) < t.value)
                            return void c.UIHelper.showTip(i.name + "\u4e0d\u8db3!")
                    }
                    for (e = 0; e < this.needList.length; e++) {
                        t = this.needList[e];
                        var n = h.default.getItem(t.key);
                        u.GameConfig.connectServer || h.default.decItem(n.itemId, t.value)
                    }
                    this.closeView(), l.default.instance.upSkill(this.config.skillId)
                }, t.prototype.onClose = function() {
                    a.default.instance.closeView(r.default.gameView.skillUp)
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), this.btnUp.off("click", this.onUp)
                }, t = o([v], t)
            }(s.default));
        i.default = _, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../utils/UIHelper": "UIHelper"
    }],
    SkillItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "28902+s3U5CWZiWuuZOaPVa", "SkillItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/UIManager"),
            s = e("../../../engine/ViewBase"),
            r = e("../../config/SkillConfig"),
            l = e("../../config/ViewConfig"),
            c = e("../../model/RoleInfoModel"),
            g = e("../../model/SkillModel"),
            f = e("../../utils/UIHelper"),
            d = e("../../utils/MusicHelper"),
            h = e("../../../engine/Logger"),
            u = e("../../../engine/EventManager"),
            p = e("../../event/CommonEvent"),
            m = e("../../config/SpriteFrameConfig"),
            C = e("../../config/SkinConfig"),
            v = cc._decorator,
            _ = v.ccclass,
            y = (v.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemList = [], t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.btnStudy = this.getChild(this.node, "btnStudy"), this.btnStudy.off(cc.Node.EventType.TOUCH_END, this.onStudy.bind(this)), this.btnStudy.on(cc.Node.EventType.TOUCH_END, this.onStudy.bind(this)), this.btnUp = this.getChild(this.node, "btnUp"), this.btnUp.off(cc.Node.EventType.TOUCH_END, this.onStudy.bind(this)), this.btnUp.on(cc.Node.EventType.TOUCH_END, this.onStudy.bind(this));
                    var t = this.getChild(this.node, "btnPreview");
                    t.off(cc.Node.EventType.TOUCH_END, this.onPreView.bind(this)), t.on(cc.Node.EventType.TOUCH_END, this.onPreView.bind(this))
                }, t.prototype.onEnable = function() {
                    u.EventManager.instance.on(p.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this), h.Logger.log("SkillItem onEnable==="), this.refreshPreView()
                }, t.prototype.init = function(e, t, i) {
                    this.config = e, this.skillView = t, this.id = i, this.skillModel = c.default.instance.getSkillModel(this.config.skillId, !0), this.initWidget()
                }, t.prototype.initWidget = function() {
                    this.skillIcon = this.getChild(this.node, "jntb_bg/skillIcon", cc.Sprite), this.lblName = this.getChild(this.node, "lblName", cc.Label), this.lblDesc = this.getChild(this.node, "lblDesc", cc.Label), this.lblLv = this.getChild(this.node, "lblLv", cc.Label), this.lblConsume = this.getChild(this.node, "pnlConsume/lblConsume", cc.Label), this.lblCd = this.getChild(this.node, "pnlCd/lblCd", cc.Label), this.lblExp = this.getChild(this.node, "pnlExp/lblExp", cc.Label), this.unLearn = this.getChild(this.node, "unLearn"), this.scrollPreView = this.getChild(this.node, "ScrollView/view/content"), this.scrollView = this.getChild(this.node, "ScrollView"), this.hadMaxLevel = this.findChild(this.node, "hadMaxLevel"), this.hadMaxLevel.active = !1, this.btnStudy = this.getChild(this.node, "btnStudy"), this.btnUp = this.getChild(this.node, "btnUp"), this.txtExtLevel = this.getChild(this.node, "txtExtLevel", cc.Label);
                    var e = C.default.getConfigByTypeValue(this.config.skillId);
                    this.btnSkillEffect = this.getChild(this.node, "btnSkillEffect"), this.btnSkillEffect.active = !1, this.onAddEvent(this.btnSkillEffect, this.showSkillEffectView.bind(this)), this.btnSkillEffect.active = e.length > 0, this.initData(), this.initBtnSkill(), this.initPreView()
                }, t.prototype.onUserInfoRefresh = function() {
                    this.initData(), this.initBtnSkill(), this.refreshPreView()
                }, t.prototype.initBtnSkill = function() {
                    0 == this.skillModel.isActive ? (this.btnStudy.active = !1, this.unLearn.active = !0, this.btnUp.active = !1) : (this.unLearn.active = !1, this.getChild(this.btnStudy, "btn_shenji").active = !0, this.getChild(this.btnStudy, "btn_yanxi").active = !0, this.skillModel.exp >= this.config.proficiency_total ? this.getChild(this.btnStudy, "btn_yanxi").active = !1 : this.getChild(this.btnStudy, "btn_shenji").active = !1)
                }, t.prototype.initData = function() {
                    var e = r.SkillConfig.getSkillConfigById(this.skillModel.id, this.skillModel.getTotalLevel()),
                        t = r.SkillConfig.getSkillConfigById(this.skillModel.id, this.skillModel.level);
                    this.config = t, this.lblName.string = t.name2, this.lblDesc.string = e.desc, this.lblConsume.string = "" + e.mana, this.lblCd.string = "" + e.cd, this.skillModel.level >= t.maxlevelup ? this.lblExp.string = "\u6ee1\u7ea7" : this.lblExp.string = this.skillModel.exp + "/" + t.proficiency_total, this.lblLv.string = "Lv." + this.skillModel.level, this.txtExtLevel.string = "+" + this.skillModel.getExtLevel(), this.skillModel.getExtLevel() > 0 && this.skillModel.isActive ? this.txtExtLevel.node.active = !0 : this.txtExtLevel.node.active = !1, this.skillIcon.spriteFrame = m.SpriteFrameConfig.skill_frame.get("skillIcon/" + t.next_level), this.skillModel.level >= t.maxlevelup ? (this.hadMaxLevel.active = !0, this.btnUp.active = !1, this.btnStudy.active = !1) : (this.hadMaxLevel.active = !1, this.skillModel.exp >= t.proficiency_total ? (this.btnUp.active = !0, this.btnStudy.active = !1) : (this.btnStudy.active = !0, this.btnUp.active = !1))
                }, t.prototype.initPreView = function() {
                    if (this.itemList.length <= 0) {
                        var e = this.getChild(this.scrollPreView, "item");
                        e.active = !1;
                        for (var t = r.SkillConfig.getSkillConfigByIdAll(this.skillModel.id), i = 0; i < t.length; i++)
                            if (0 != t[i].level) {
                                var n = cc.instantiate(e);
                                n.active = !0, n.name = "item" + i, this.scrollPreView.addChild(n), this.itemList[i] = n
                            }
                        this.onPreView(!1)
                    }
                }, t.prototype.disablePreview = function() {
                    this.scrollView.active = !1, this.node.height = 150
                }, t.prototype.onPreView = function(e) {
                    void 0 === e && (e = !0), e && d.MusicHelper.play_click(), this.scrollView.active = !this.scrollView.active, this.scrollView.active ? this.node.height = 420 : this.node.height = 150, this.refreshPreView()
                }, t.prototype.refreshPreView = function() {
                    h.Logger.log("skill refreshPreView===");
                    for (var e = r.SkillConfig.getSkillConfigByIdAll(this.skillModel.id), t = 0; t < e.length; t++)
                        if (0 != e[t].level) {
                            var i = this.itemList[t];
                            i.active = !0;
                            var n = this.getChild(i, "bg"),
                                o = this.getChild(i, "lblDesc", cc.Label),
                                a = this.getChild(i, "lblLevel", cc.Label);
                            this.skillModel.getTotalLevel() == e[t].level ? o.node.color = a.node.color = cc.color().fromHEX("#0CFF00") : o.node.color = a.node.color = cc.color().fromHEX("#FFD87D");
                            n.color = cc.color().fromHEX(["#292428", "#201B1F"][t % 2]), a.string = e[t].level + "\u7ea7", o.string = e[t].desc
                        }
                }, t.prototype.onStudy = function() {
                    d.MusicHelper.play_click(), this.skillModel.exp >= this.config.proficiency_total ? this.skillModel.level >= this.config.maxlevel ? f.UIHelper.showTip("\u5df2\u7ecf\u6700\u5927\u7b49\u7ea7\u4e86") : a.default.instance.createView(l.default.gameView.skillUp, null, this.config) : a.default.instance.createView(l.default.gameView.skillStudy, null, this.config)
                }, t.prototype.showSkillEffectView = function() {
                    for (var e = g.SkillModel.getMyActiveSkillList(), t = !1, i = 0; i < e.length; i++)
                        e[i].skillId == this.config.skillId && (t = !0);
                    t ? a.default.instance.createView(l.default.gameView.SkillEffectView, null, this.config.skillId) : f.UIHelper.showTip("\u8fd8\u6ca1\u6709\u5b66\u4f1a\u8be5\u6280\u80fd")
                }, t.prefabName = "skillitem", t = o([_], t)
            }(s.default));
        i.default = y, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/SkillConfig": "SkillConfig",
        "../../config/SkinConfig": "SkinConfig",
        "../../config/SpriteFrameConfig": "SpriteFrameConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/SkillModel": "SkillModel",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper"
    }],
    SkillManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "e71cb3sABVDvq8pPABhhMTc", "SkillManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../model/RoleInfoModel"),
            o = e("../config/SkillConfig"),
            a = e("../config/GameConst"),
            s = e("../../engine/EventManager"),
            r = e("../event/CommonEvent"),
            l = e("../network/SocketClient"),
            c = function() {
                function e() {
                    this.nextUploadTime = 0, this.maxUploadTime = 5 * cc.game.getFrameRate()
                }
                return e.prototype.init = function() {
                    this.nextUploadTime = this.maxUploadTime, s.EventManager.instance.off(r.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this), s.EventManager.instance.on(r.CommonEvent.Event_FrameUpdate, this.onFrameUpdate, this)
                }, e.prototype.onFrameUpdate = function() {}, e.prototype.getSkillModelById = function(e) {
                    for (var t = 0; t < n.default.instance.skillModelList.length; t++) {
                        var i = n.default.instance.skillModelList[t];
                        if (i.id == e)
                            return i
                    }
                }, e.prototype.getFaShuJingTong = function() {
                    for (var e = 0; e < n.default.instance.skillModelList.length; e++) {
                        var t = n.default.instance.skillModelList[e];
                        if (t.isActive && t.id == o.SkillConfig.SkillIdConfig.FaShuJingTong)
                            return o.SkillConfig.getSkillConfigById(t.id, t.getTotalLevel())
                    }
                }, e.prototype.getWuJiZhenQi = function() {
                    for (var e = 0; e < n.default.instance.skillModelList.length; e++) {
                        var t = n.default.instance.skillModelList[e];
                        if (t.isActive && t.id == o.SkillConfig.SkillIdConfig.WuJiZhenQi)
                            return o.SkillConfig.getSkillConfigById(t.id, t.getTotalLevel())
                    }
                }, e.prototype.getGongShaJianShu = function() {
                    for (var e = 0; e < n.default.instance.skillModelList.length; e++) {
                        var t = n.default.instance.skillModelList[e];
                        if (t.isActive && t.id == o.SkillConfig.SkillIdConfig.GongShaJianShu)
                            return o.SkillConfig.getSkillConfigById(t.id, t.getTotalLevel())
                    }
                }, e.prototype.addSkillExp = function(e, t) {
                    void 0 === t && (t = 1);
                    var i = n.default.instance.getSkillModel(e);
                    if (i && i.isActive) {
                        var a = o.SkillConfig.getSkillConfigById(i.id, i.level);
                        i.exp += t, i.exp >= a.proficiency_total && (i.exp = a.proficiency_total), l.default.req_skill_add_exp(), n.default.saveToLocalStorage()
                    }
                }, e.prototype.addBeiDongSkillExp = function() {
                    n.default.instance.occupation == a.GameConst.OCCUPATION.ZHAN_SHI ? this.addSkillExp(101) : n.default.instance.occupation == a.GameConst.OCCUPATION.DAO_SHI ? this.addSkillExp(301) : n.default.instance.occupation == a.GameConst.OCCUPATION.FA_SHI && this.addSkillExp(201)
                }, e.instance = new e, e
            }();
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../config/GameConst": "GameConst",
        "../config/SkillConfig": "SkillConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient"
    }],
    SkillModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "66bb3hkUZJPjIRquWfRDkHt", "SkillModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./RoleInfoModel"),
            o = e("../config/SkillConfig"),
            a = e("./ServerTime"),
            s = e("../manager/SkillManager"),
            r = e("../../engine/EventManager"),
            l = e("../event/CommonEvent"),
            c = e("../manager/SummonedManager"),
            g = e("../config/MagicNameConfig"),
            f = e("./MagicModel"),
            d = e("../config/GameConst"),
            h = function() {
                function e() {
                    this.id = 301, this.level = 1, this.exp = 300, this.lastUseTIme = 0, this.isActive = !1, this.isSelect = !0, this.preExp = 0
                }
                return e.prototype.getExtLevel = function() {
                    var e = 0;
                    return e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.skill_all), n.default.instance.occupation == d.GameConst.OCCUPATION.ZHAN_SHI ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.skill_zhanshi) : n.default.instance.occupation == d.GameConst.OCCUPATION.FA_SHI ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.skill_fashi) : n.default.instance.occupation == d.GameConst.OCCUPATION.DAO_SHI && (e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.skill_daoshi)), this.id == g.MagicNameConfig.MagicId.jichujianshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.jichujianshu) : this.id == g.MagicNameConfig.MagicId.gongshajianshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.gongshajianshu) : this.id == g.MagicNameConfig.MagicId.cishajianshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.cishajianshu) : this.id == g.MagicNameConfig.MagicId.banyuewandao ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.banyuewandao) : this.id == g.MagicNameConfig.MagicId.yemanchongzhuang ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.yemanchongzhuang) : this.id == g.MagicNameConfig.MagicId.hutizhenqi ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.hutizhenqi) : this.id == g.MagicNameConfig.MagicId.liehuojianfa ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.liehuojianfa) : this.id == g.MagicNameConfig.MagicId.huoqiushu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.huoqiushu) : this.id == g.MagicNameConfig.MagicId.leidianshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.leidianshu) : this.id == g.MagicNameConfig.MagicId.huoqiang ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.huoqiang) : this.id == g.MagicNameConfig.MagicId.youhuozhiguang ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.youhuozhiguang) : this.id == g.MagicNameConfig.MagicId.mofadun ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.mofadun) : this.id == g.MagicNameConfig.MagicId.fashujingtong ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.fashujingtong) : this.id == g.MagicNameConfig.MagicId.bingpaoxiao ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.bingpaoxiao) : this.id == g.MagicNameConfig.MagicId.jingshenlizhanfa ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.jingshenlizhanfa) : this.id == g.MagicNameConfig.MagicId.zhiliaoshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.zhiliaoshu) : this.id == g.MagicNameConfig.MagicId.linghunhuofu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.linghunhuofu) : this.id == g.MagicNameConfig.MagicId.shidushu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.shidushu) : this.id == g.MagicNameConfig.MagicId.zhaohuanshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.zhaohuanshu) : this.id == g.MagicNameConfig.MagicId.yinshenshu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.yinshenshu) : this.id == g.MagicNameConfig.MagicId.shenshengzhanjiashu ? e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.shenshengzhanjiashu) : this.id == g.MagicNameConfig.MagicId.wujizhenqi && (e += f.default.getMagicValueByList(g.MagicNameConfig.MagicId.wujizhenqi)), e
                }, e.prototype.getTotalLevel = function() {
                    if (this.isActive) {
                        var e = this.level,
                            t = o.SkillConfig.getSkillConfigById(this.id, this.level);
                        return (e += this.getExtLevel()) > t.maxlevel && (e = t.maxlevel), e
                    }
                    return this.level
                }, e.getMyActiveSkillList = function() {
                    for (var e = [], t = 0; t < n.default.instance.skillModelList.length; t++) {
                        var i = n.default.instance.skillModelList[t],
                            a = o.SkillConfig.getSkillConfigById(i.id, i.getTotalLevel());
                        i.isActive && e.push(a)
                    }
                    return e
                }, e.getMyCanUseSkillList = function() {
                    for (var e = a.ServerTime.getServerTime(), t = [], i = 0; i < n.default.instance.skillModelList.length; i++) {
                        var s = n.default.instance.skillModelList[i],
                            r = o.SkillConfig.getSkillConfigById(s.id, s.getTotalLevel()),
                            l = (e - s.lastUseTIme) / 1e3;
                        s.isSelect && s.isActive && r.type == o.SkillConfig.SkillType.ZhuDong && l >= r.cd && t.push(r)
                    }
                    return t.sort(function(e, t) {
                        return e.weight - t.weight
                    }), t
                }, e.getMyZhuDongActiveSkill = function(e) {
                    void 0 === e && (e = n.default.instance);
                    for (var t = [], i = 0; i < e.skillModelList.length; i++) {
                        var a = e.skillModelList[i],
                            s = o.SkillConfig.getSkillConfigById(a.id, a.level);
                        a.isActive && s.type == o.SkillConfig.SkillType.ZhuDong && t.push(a)
                    }
                    return t
                }, e.getMyZhudongSkill = function(e) {
                    void 0 === e && (e = n.default.instance);
                    for (var t = [], i = 0; i < e.skillModelList.length; i++) {
                        var a = e.skillModelList[i];
                        o.SkillConfig.getSkillConfigById(a.id, a.level).type == o.SkillConfig.SkillType.ZhuDong && t.push(a)
                    }
                    return t
                }, e.deserializeBinaryToModelList = function(e) {
                    for (var t = [], i = 0; i < e.length; i++)
                        e[i] && (t[i] = this.deserializeBinaryToModel(e[i]));
                    return t
                }, e.deserializeBinaryToModel = function(t) {
                    var i = new e;
                    return i.id = t.id, i.level = t.level, i.exp = t.exp, i.lastUseTIme = t.lastUseTIme, i.isActive = t.isActive, i.isSelect = t.isSelect, i
                }, e.proto2ModelList = function(t) {
                    for (var i = t.getSkillListList(), a = 0; a < i.length; a++) {
                        var g = new e;
                        g.id = i[a].getK();
                        var f = s.default.instance.getSkillModelById(g.id);
                        if (f)
                            f.id = g.id, i[a].getV() > f.level && (f.id != o.SkillConfig.SkillIdConfig.ZhaoHuanShu && f.id != o.SkillConfig.SkillIdConfig.YouHuoZhiGuang || c.default.instance.killSummond(f.id)), f.level = i[a].getV(), f.exp = i[a].getExp(), f.preExp = f.exp, f.level <= 0 ? (f.isActive = !1, f.level = 1) : f.isActive = !0, 1 == i[a].getUse() ? f.isSelect = !0 : f.isSelect = !1;
                        else
                            g.level = i[a].getV(), g.exp = i[a].getExp(), g.preExp = g.exp, g.level <= 0 ? (g.isActive = !1, g.level = 1) : g.isActive = !0, 1 == i[a].getUse() ? g.isSelect = !0 : g.isSelect = !1, n.default.instance.updateSkill(g.id, g.level, g.isActive, g.exp, n.default.instance, g.isSelect)
                    }
                    r.EventManager.instance.dispatch(l.CommonEvent.Event_SkillRefresh)
                }, e
            }();
        i.SkillModel = h, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../config/GameConst": "GameConst",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/SkillConfig": "SkillConfig",
        "../event/CommonEvent": "CommonEvent",
        "../manager/SkillManager": "SkillManager",
        "../manager/SummonedManager": "SummonedManager",
        "./MagicModel": "MagicModel",
        "./RoleInfoModel": "RoleInfoModel",
        "./ServerTime": "ServerTime"
    }],
    SkillStudy: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f7b29kfpotFkK/pILyiScre", "SkillStudy");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../model/RoleInfoModel"),
            r = e("../../../engine/Logger"),
            l = e("../../manager/SkillManager"),
            c = e("../../config/GameConfig"),
            g = e("../../model/ItemInfoModel"),
            f = e("../../config/GameConst"),
            d = e("../../network/SocketClient"),
            h = e("../../config/WordConfig"),
            u = e("../../config/ColorConfig"),
            p = cc._decorator,
            m = p.ccclass,
            C = (p.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.maxUseNum = 1, t.oneExp = 100, t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.config = e, this.initWidget()
                }, t.prototype.onLoad = function() {}, t.prototype.initWidget = function() {
                    this.btnUse = this.getChild(this.node, "view/btnUse"), this.lblDesc = this.getChild(this.node, "view/2/lblDesc", cc.Label), this.editboxAmount = this.getChild(this.node, "view/3/amountEditBox", cc.EditBox), r.Logger.log("editboxAmount====", this.editboxAmount), this.editboxAmount.string = "1", this.btnAdd = this.getChild(this.node, "view/3/btn_jia"), this.btnCut = this.getChild(this.node, "view/3/btn_jian"), this.btnMax = this.getChild(this.node, "view/3/btn_max"), this.lblAmount = this.getChild(this.node, "view/lblAmount", cc.Label), this.initData()
                }, t.prototype.initData = function() {
                    this.skillModel = s.default.instance.getSkillModel(this.config.skillId, !0);
                    this.config;
                    this.maxUseNum = Math.ceil((this.config.proficiency_total - this.skillModel.exp) / this.oneExp), this.btnUse.on("click", this.onUse, this), this.btnAdd.on("click", this.onAdd, this), this.btnCut.on("click", this.onCut, this), this.btnMax.on("click", this.onMax, this), this.onEditboxAmount(), this.editboxAmount.node.on("text-changed", this.onEditboxAmount.bind(this))
                }, t.prototype.onEditboxAmount = function() {
                    this.formatSkilldrugAmount()
                }, t.prototype.onAdd = function() {
                    var e = parseInt(this.editboxAmount.string) || 1;
                    this.editboxAmount.string = "" + ++e, this.formatSkilldrugAmount()
                }, t.prototype.onCut = function() {
                    var e = parseInt(this.editboxAmount.string) || 1;
                    this.editboxAmount.string = "" + --e, this.formatSkilldrugAmount()
                }, t.prototype.formatSkilldrugAmount = function() {
                    var e = parseInt(this.editboxAmount.string) || 1;
                    isNaN(e) && (e = 1), r.Logger.log("formatSkilldrugAmount", e, this.maxUseNum), e >= this.maxUseNum && (e = this.maxUseNum), e = e <= 0 ? 1 : e;
                    var t = s.default.instance.getSkillDrug();
                    (e = e > t ? t : e) <= 1 && (e = 1), this.editboxAmount.string = "" + e, this.lblDesc.string = "\u4f7f\u3010" + this.config.name2 + "\u3011\u6280\u80fd\u7ecf\u9a8c\u589e\u52a0" + this.oneExp * parseInt(this.editboxAmount.string), this.lblAmount.string = t + "", this.lblAmount.node.color = t > 0 ? u.ColorConfig.GreenColor : u.ColorConfig.RedColor
                }, t.prototype.onMax = function() {
                    var e = s.default.instance.getSkillDrug();
                    e <= 0 && (e = 1), this.editboxAmount.string = "" + e, this.onEditboxAmount()
                }, t.prototype.onUse = function() {
                    if ("" != this.editboxAmount.string) {
                        var e = parseInt(this.editboxAmount.string);
                        if (e <= 0)
                            h.WordConfig.showWord(60120);
                        else if (s.default.instance.getSkillDrug() < e)
                            h.WordConfig.showWord(60120);
                        else if (this.closeView(), c.GameConfig.connectServer) {
                            var t = g.default.getItem(f.ItemId.SkillDan);
                            t && (l.default.instance.addSkillExp(this.config.skillId, this.oneExp * e), d.default.req_use_item(t.itemId, e))
                        } else
                            l.default.instance.addSkillExp(this.config.skillId, this.oneExp * e), s.default.instance.useSkillDan(e)
                    } else
                        h.WordConfig.showWord(60120)
                }, t = o([m], t)
            }(a.default));
        i.default = C, cc._RF.pop()
    }, {
        "../../../engine/Logger": "Logger",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/WordConfig": "WordConfig",
        "../../manager/SkillManager": "SkillManager",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient"
    }],
    SkillView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c5d08S/TTNB27khWgz/7C2A", "SkillView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/SkillConfig"),
            r = e("../../model/RoleInfoModel"),
            l = e("./SkillItem"),
            c = e("../../../engine/EventManager"),
            g = e("../../event/CommonEvent"),
            f = cc._decorator,
            d = f.ccclass,
            h = (f.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.skillItemList = [], t.skillNodeList = [], t
                }
                return n(t, e), t.prototype.onEnable = function() {
                    c.EventManager.instance.on(g.CommonEvent.Event_SkillRefresh, this.refreshSkill, this), this.refreshSkill()
                }, t.prototype.refreshSkill = function() {
                    for (var e = s.SkillConfig.getSkillConfigByRoleId(r.default.instance.occupation), t = 0; t < this.skillNodeList.length; t++)
                        this.skillNodeList[t].getComponent(l.default).init(e[t], this, t)
                }, t.prototype.onShow = function() {
                    this.skillView = this.getChild(this.node, "view/scrollView"), this.skillContent = this.getChild(this.skillView, "view/content"), this.initData()
                }, t.prototype.initData = function() {
                    var e;
                    this.skillContent.removeAllChildren(), e = s.SkillConfig.getSkillConfigByRoleId(r.default.instance.occupation), this.skillItemList = [], this.initOneSkill(0, e)
                }, t.prototype.initOneSkill = function(e, t) {
                    var i = this;
                    e >= t.length || (this.timeId = setTimeout(function() {
                        var n;
                        n = cc.instantiate(l.default.prefab), i.skillContent.addChild(n), i.skillNodeList[e] = n, n.getComponent(l.default).init(t[e], i, e), i.skillItemList[e] = n.getComponent(l.default), i.initOneSkill(e + 1, t)
                    }, 50))
                }, t.prototype.scrollToNode = function(e) {
                    for (var t = 0; t < this.skillItemList.length; t++)
                        e.id == this.skillItemList[t].id || this.skillItemList[t].disablePreview()
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), clearTimeout(this.timeId)
                }, t = o([d], t)
            }(a.default));
        i.default = h, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/SkillConfig": "SkillConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "./SkillItem": "SkillItem"
    }],
    SkinConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "cd43doJftBF1ZQfLLqKtTFJ", "SkinConfig");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("./JsonConfigBase"),
            s = e("../../engine/Logger"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.quality = 1, t.leftTime = 0, t.skillList = [], t
                }
                var i;
                return n(t, e), i = t, t.obj2Config = function(e) {
                    s.Logger.log("SkinConfig obj2Config==", e);
                    var t = new i;
                    return t.version = e.version, t.name = e.name, t.type = e.type, t.role = e.role, t.chargeid = e.chargeid, t.type_value = e.type_value, t.mag_value1 = e.mag_value1, t.des = e.des, t.zhanli = e.zhanli, t.quality = e.quality, t.defaultskin = e.defaultskin, t.effect = e.effect, t
                }, t.getConfigById = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        e == n && (t = i)
                    }), t
                }, t.json2Config = function(e) {
                    var t = this;
                    s.Logger.log("SkinConfig====", e), Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.id = parseInt(i), t.configMap.set(n.id, n)
                    }), s.Logger.log("SkinConfig===configMap", this.configMap)
                }, t.getConfigByTypeValue = function(e) {
                    var t = [];
                    return this.configMap.forEach(function(i, n) {
                        if (e == i.type_value) {
                            var o = i;
                            t.push(o)
                        }
                    }), t
                }, t.getDefaultSkinConfig = function(e) {
                    for (var t = this.getConfigByTypeValue(e), i = 0; i < t.length; i++)
                        if (t[i].id == t[i].defaultskin)
                            return t[i]
                }, t.Config_Name = "skinConfig", t.configMap = new Map, t = i = o([l], t)
            }(a.JsonConfigBase));
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    SocketClient: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "8655dBJK1xEdrZo3uoCuA4A", "SocketClient"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/EventManager"),
            o = e("../../engine/GameSocket"),
            a = e("../../engine/Logger"),
            s = e("../../engine/ProtoConfig"),
            r = e("../../engine/ProtoUtils"),
            l = e("../../engine/UIManager"),
            c = e("../config/ChongZhiConfig"),
            g = e("../config/ColorConfig"),
            f = e("../config/EquipConfig"),
            d = e("../config/GameConfig"),
            h = e("../config/GameConst"),
            u = e("../config/ITemsConfig"),
            p = e("../config/MonsterConfig"),
            m = e("../config/ViewConfig"),
            C = e("../config/WordConfig"),
            v = e("../event/CommonEvent"),
            _ = e("../GameController"),
            y = e("../model/AdModel"),
            M = e("../model/BossModel"),
            I = e("../model/BusinessModel"),
            b = e("../model/ChatModel"),
            L = e("../model/ItemInfoModel"),
            w = e("../model/JingJieModel"),
            S = e("../model/MagicModel"),
            E = e("../model/MakeEquipModel"),
            k = e("../model/MapStatisticsModel"),
            T = e("../model/PrivilegeModel"),
            N = e("../model/RoleInfoModel"),
            R = e("../model/SkillModel"),
            B = e("../model/TaskModel"),
            P = e("../sdk/SdkHelper"),
            A = e("../utils/UIHelper"),
            O = e("../config/BagConfig"),
            x = e("../model/SettingModel"),
            V = e("../model/FightModel"),
            U = e("../model/TopUpModel"),
            H = e("../config/MagicNameConfig"),
            D = e("../prefab/GameManager"),
            G = e("../model/FangShiModel"),
            q = e("../view/Discount/DisCountModel"),
            j = e("../model/SkillEffectModel"),
            F = e("../manager/MonsterManager"),
            J = e("../model/ShenBinModel"),
            Z = e("../model/ShenBinSkillModel"),
            W = e("../model/SpiritsModel"),
            Y = function() {
                function e() {}
                return e.init = function() {
                    n.EventManager.instance.on(v.CommonEvent.Event_SocketRespMsg, this.onSocketRespMsg, this)
                }, e.test = function() {
                    var e = r.ProtoUtils.Create(s.ProtoConfig.PB_MESSAGE),
                        t = r.ProtoUtils.Create(s.ProtoConfig.c_update_item_info);
                    t.setDeleteItemIdListList([6]), t.setAdditemlistList([]), t.setUpdateitemlistList([]), t.setUpdateEquipList([]), e.setHead(11), e.setData(t.serializeBinary())
                }, e.onSocketRespMsg = function(t, i) {
                    if (a.Logger.log("SocketClient.onSocketRespMsg", t, i), t == s.ProtoConfig.c_user_login) {
                        var d = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_user_login, i)).getRet();
                        k.getScuKey();
                        if (1 == d) {
                            var p = k.getRsp();
                            a.Logger.log("c_user_login \u767b\u5f55\u8fd4\u56de=======================", p);
                            try {
                                V.default.preFight = 0;
                                var b = JSON.parse(p);
                                P.default.loginRsp = b, P.default.gameId = b.content.data.gameId, P.default.appId = b.content.data.appId, P.default.channelId = b.content.data.channelId, P.default.uId = b.content.data.userId, P.default.sdkLoginRsp(p), o.default.getInstance().closeSocket(!1)
                            } catch (e) {
                                a.Logger.warn("c_user_login json parse error", e)
                            }
                        } else
                            2 == d && (o.default.getInstance().ping(), o.default.getInstance().isReconnecting || _.default.instance.gotoLogin(), e.reqRoleList())
                    } else if (t == s.ProtoConfig.c_req_role_list) {
                        var k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_role_list, i);
                        a.Logger.log("c_req_role_list===", k), N.default.proto2BaseModelList(k), N.default.instance && o.default.getInstance().isReconnecting && e.req_start_game(N.default.instance)
                    } else if (t == s.ProtoConfig.c_req_start_game) {
                        (d = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_start_game, i)).getRet()) == h.GameConst.RET.SUC ? (o.default.getInstance().isReconnecting = !1, o.default.getInstance().isLogin = !0, P.default.sdkGetAppInfo(), e.req_role_info(N.default.instance.roleId), e.s_seq_fangbuy_info(), e.s_seq_limitshopbuy_info()) : A.UIHelper.showTip("\u5f00\u59cb\u6e38\u620f\u5931\u8d25!")
                    } else if (t == s.ProtoConfig.c_req_role_info)
                        try {
                            k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_role_info, i);
                            a.Logger.log("c_req_role_info resp====", k), N.default.proto2Model(k)
                        } catch (e) {
                            a.Logger.warn("c_req_role_info error====", e, i)
                        }
                    else if (t == s.ProtoConfig.c_tell_direct) {
                        var H = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_tell_direct, i)).getMsg();
                        A.UIHelper.showTip(H)
                    } else if (t == s.ProtoConfig.c_req_item_list) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_item_list, i);
                        a.Logger.log("c_req_item_list==================", k), L.default.req_item_listByServer(k)
                    } else if (t == s.ProtoConfig.c_update_item_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_update_item_info, i);
                        a.Logger.log("c_update_item_info==================", k), L.default.updateItemInfoByServer(k)
                    } else if (t == s.ProtoConfig.c_kill_monster)
                        this.onKillMonsterSuc(i);
                    else if (t == s.ProtoConfig.c_add_res_list) {
                        var D = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_add_res_list, i)).getReslistList();
                        N.default.instance.addResList(D)
                    } else if (t == s.ProtoConfig.c_req_charge) {
                        var Y = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_charge, i)).getProductId(),
                            Q = k.getOrderid(),
                            z = k.getUrl(),
                            K = c.ChongZhiConfig.getConfigById(Y);
                        P.default.sdkPay(Q, 100 * K.money, K.name, Y, z, K)
                    } else if (t == s.ProtoConfig.c_req_enter_scene) {
                        (d = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_enter_scene, i)).getRet()) == h.GameConst.RET.SUC ? N.default.instance.switchMap(!1) : A.UIHelper.showTip("\u670d\u52a1\u5668\u5207\u6362\u5730\u56fe\u5931\u8d25!")
                    } else if (t == s.ProtoConfig.c_req_equip) {
                        var X = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_equip, i)).getItemid(),
                            $ = k.getGridid(),
                            ee = L.default.getItemByid(X + "");
                        ee.gridId = $, a.Logger.log("\u7a7f\u6234\u88c5\u5907+==", ee, N.default.instance.itemInfoList, X, $, k), $ > 0 ? N.default.instance.decItemToBag(ee, 1) : N.default.instance.addItemToBag(ee, 1), n.EventManager.instance.dispatch(h.EVENT_NAME.BAG_CUT, ee), N.default.saveToLocalStorage()
                    } else if (t == s.ProtoConfig.c_property_list_update) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_property_list_update, i);
                        N.default.instance.attrList = S.default.proto2ModelList(k.getAttrListList()), V.default.proto2ModelList(k), a.Logger.log("c_property_list_update=================", N.default.instance.attrList), N.default.saveToLocalStorage()
                    } else if (t == s.ProtoConfig.c_resource_list_update) {
                        var te = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_resource_list_update, i)).getUpdateResourceListList();
                        N.default.proto2ResList(te, N.default.instance)
                    } else if (t == s.ProtoConfig.c_error_code) {
                        var ie = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_error_code, i)).getCode();
                        a.Logger.warn("c_error_code===", ie), C.WordConfig.showWord(ie), 60122 != ie && 60132 != ie && 60144 != ie || _.default.instance.showServerFail(ie)
                    } else if (t == s.ProtoConfig.c_req_boss_fresh_time) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_boss_fresh_time, i);
                        M.BossModel.proto2BossModelList(k)
                    } else if (t == s.ProtoConfig.c_req_shop_fresh_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_shop_fresh_info, i);
                        I.BusinessModel.instance.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_req_buy) {
                        1 == (d = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_buy, i)).getRet()) && (C.WordConfig.showWord(60127), n.EventManager.instance.dispatch(v.CommonEvent.Event_Buy_Suc))
                    } else if (t == s.ProtoConfig.c_req_advertisement_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_advertisement_info, i);
                        y.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_req_skill) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_skill, i);
                        R.SkillModel.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_req_realm_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_realm_info, i);
                        w.JingJieModel.proto2JingJieList(k)
                    } else if (t == s.ProtoConfig.c_req_get_vip_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_get_vip_info, i);
                        a.Logger.log("c_req_get_vip_info=====", k), T.default.proto2ModelList(k.getVipInfoList())
                    } else if (t == s.ProtoConfig.c_req_task) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_task, i);
                        B.TaskModel.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_req_make_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_make_info, i);
                        E.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_req_bags_add_num) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_bags_add_num, i);
                        N.default.addBagTimes = k.getAddNum();
                        var ne = O.BagConfig.getConfigById(N.default.addBagTimes);
                        N.default.instance.bagAMount = ne.bag, N.default.instance.bagRemainingnumber = N.default.instance.bagAMount - N.default.instance.getBagHadItemNum(), n.EventManager.instance.dispatch(h.EVENT_NAME.BAG_ADD_AMOUNT)
                    } else if (t == s.ProtoConfig.c_off_line_reward_info) {
                        var oe = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_off_line_reward_info, i),
                            ae = N.default.instance;
                        ae.last_off_line_time = oe.getLastOffLineTime();
                        for (var se = oe.getOffLineReward(), re = se.getOffLineNeedListList(), le = se.getOffLineRewardListList(), ce = 0; ce < re.length; ce++)
                            re[ce].getK() == h.GameConst.RES_TYPE.YUAN_BAO && (ae.off_line_need_gold = re[ce].getV());
                        for (ce = 0; ce < le.length; ce++)
                            le[ce].getK() == h.GameConst.RES_TYPE.EXP ? ae.off_line_exp = le[ce].getV() : le[ce].getK() == h.GameConst.RES_TYPE.CREAM ? ae.off_line_cream = le[ce].getV() : le[ce].getK() == h.GameConst.RES_TYPE.COIN && (ae.off_line_coin = le[ce].getV())
                    } else if (t == s.ProtoConfig.c_req_first_rechard_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_req_first_rechard_info, i);
                        N.default.instance.has_reward = k.getHasReward(), 1 == N.default.instance.has_reward && P.default.sdkCustomAction(3, 1), n.EventManager.instance.dispatch(v.CommonEvent.Event_has_reward)
                    } else if (t == s.ProtoConfig.c_get_item_tip) {
                        var ge = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_get_item_tip, i)).getType();
                        for (D = k.getReslistList(), ce = 0; ce < D.length; ce++) {
                            var fe = D[ce].getK(),
                                de = D[ce].getV();
                            fe == h.GameConst.RES_TYPE.COIN ? A.UIHelper.showTip("\u91d1\u5e01X" + de) : fe == h.GameConst.RES_TYPE.CREAM ? A.UIHelper.showTip("\u7cbe\u534eX" + de) : fe == h.GameConst.RES_TYPE.YUAN_BAO ? A.UIHelper.showTip("\u5143\u5b9dX" + de) : fe == h.GameConst.RES_TYPE.EXP && A.UIHelper.showTip("\u7ecf\u9a8cX" + de)
                        }
                        var he = k.getItemlistList();
                        a.Logger.log("c_get_item_tip=======", k);
                        for (ce = 0; ce < he.length; ce++) {
                            var ue = he[ce].getItemkind(),
                                pe = he[ce].getItemtype(),
                                me = he[ce].getItemcnt(),
                                Ce = he[ce].getQuality();
                            if (ue == h.GameConst.ITEM_KIND.ITEM) {
                                var ve = u.ITemsConfig.getITemsConfigById(pe);
                                A.UIHelper.showTip(ve.name + "X" + me, 1, g.ColorConfig.getQualityColor(ve.quality))
                            } else if (ue == h.GameConst.ITEM_KIND.EQUIP) {
                                var _e = f.EquipConfig.getEquipConfigById(pe);
                                A.UIHelper.showTip(_e.name + "X" + me, 1, g.ColorConfig.getQualityColor(Ce))
                            }
                        }
                    } else if (t == s.ProtoConfig.c_charge_suc) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_charge_suc, i);
                        this.onChargeSuc(k)
                    } else if (t == s.ProtoConfig.c_seq_charge_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_charge_info, i);
                        U.TopUpModel.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_kick) {
                        ie = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_kick, i)).getCode();
                        a.Logger.log("\u8e22\u73a9\u5bb6\u4e0b\u7ebf", k), _.default.instance.showServerFail(ie)
                    } else if (t == s.ProtoConfig.c_seq_act_info)
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_act_info, i);
                    else if (t == s.ProtoConfig.c_seq_fangbuy_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_fangbuy_info, i);
                        a.Logger.log("c_seq_fangbuy_info====", k), G.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_fangbuy) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_fangbuy, i);
                        a.Logger.log("c_seq_fangbuy====", k);
                        var ye = k.getProductid(),
                            Me = k.getProdrepo();
                        G.default.updateNum(ye, Me)
                    } else if (t == s.ProtoConfig.c_seq_limitshop) {
                        ye = (k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_limitshop, i)).getProductid(), Me = k.getProdrepo();
                        q.default.updateNum(ye, Me)
                    } else if (t == s.ProtoConfig.c_seq_limitshopbuy_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_limitshopbuy_info, i);
                        q.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_rune_gift) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_rune_gift, i);
                        a.Logger.log("c_seq_rune_gift====", k);
                        var Ie = k.getCheckRuneGift();
                        a.Logger.log("c_seq_rune_gift====", Ie), 0 == Ie ? N.default.instance.changeWorld(2) : 1 == Ie && l.default.instance.createView(m.default.gameView.ChangeWorldGiftView)
                    } else if (t == s.ProtoConfig.c_seq_compensate_info) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_compensate_info, i);
                        a.Logger.log("c_seq_compensate_info====", k);
                        var be = k.getCompResourceListList(),
                            Le = [];
                        C.WordConfig.getWord(60149);
                        for (ce = 0; ce < be.length; ce++) {
                            var we = be[ce].getActivitytype();
                            Le.push(we)
                        }
                        var Se = Le.filter(function(e, t, i) {
                                return i.indexOf(e) === t
                            }),
                            Ee = [];
                        for (ce = 0; ce < Se.length; ce++)
                            for (var ke = 0; ke < be.length; ke++) {
                                ge = be[ke].getResourcetype(), Me = be[ke].getResourcenum();
                                var Te = [];
                                if ((we = be[ke].getActivitytype()) == Se[ce]) {
                                    var Ne = {
                                        type: ge,
                                        num: Me
                                    };
                                    Te.push(Ne);
                                    var Re = {
                                        activeType: Se[ce],
                                        itemlist: Te
                                    };
                                    Ee.push(Re)
                                }
                            }
                        a.Logger.log("c_seq_compensate_info====", Ee), Ee.length > 0 && l.default.instance.createView(m.default.gameView.ComoensationView, null, Ee)
                    } else if (t == s.ProtoConfig.c_seq_all_skill_sin) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_all_skill_sin, i);
                        a.Logger.log("c_seq_all_skill_sin====", k), j.default.proto2BossModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_swap_skill_sin) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_swap_skill_sin, i);
                        a.Logger.log("c_seq_swap_skill_sin====", k);
                        var Be = new j.default;
                        Be.skillId = k.getSkillid(), Be.id = k.getSkinid(), Be.isBought = k.getIsBought(), Be.isEquipped = k.getIsEquipped(), Be.isTryed = k.getIsTryed(), Be.expireTime = k.getExpireTime(), Be.tryExpireTime = k.getTryExpireTime(), j.default.refreshModelById(Be.id, Be)
                    } else if (t == s.ProtoConfig.c_refresh_monster)
                        a.Logger.log("c_refresh_monster====", i), F.default.instance.onServerRefresh(i);
                    else if (t == s.ProtoConfig.c_seq_shenbing) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_shenbing, i);
                        a.Logger.log("c_seq_shenbing====", k), J.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_shenbing_skill) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_shenbing_skill, i);
                        a.Logger.log("c_seq_shenbing_skill====", k), Z.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_spirits) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seq_spirits, i);
                        a.Logger.log("c_seq_spirits====", k), W.default.proto2ModelList(k)
                    } else if (t == s.ProtoConfig.c_seq_spirits)
                        ;
                    else if (t == s.ProtoConfig.c_seckill_monster) {
                        k = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_seckill_monster, i);
                        a.Logger.log("c_seckill_monster====", k)
                    } else
                        t == s.ProtoConfig.c_recycle_options && x.SettingModel.onSeverRefresh(i)
                }, e.onChargeSuc = function(e) {
                    var t = e.getId(),
                        i = e.getDiamond();
                    a.Logger.log("onChargeSuc===============", t, i), U.TopUpModel.setCharge(t), 2 != t && 4 != t && 6 != t || P.default.sdkCustomAction(1, 1), 3 != t && 5 != t && 6 != t || P.default.sdkCustomAction(2, 1), i > 0 && P.default.sdkCustomAction(4, i), t >= 201 && t <= 502 ? n.EventManager.instance.dispatch(v.CommonEvent.Event_ChargeActivityOk, t) : l.default.instance.createView(m.default.gameView.ChargeSucView, null, t, i)
                }, e.onKillMonsterSuc = function(t) {
                    var i = r.ProtoUtils.DeserializeBinary(s.ProtoConfig.c_kill_monster, t),
                        o = i.getMonsterinfo(),
                        c = o.getId();
                    a.Logger.log("onKillMonsterSuc===", c, i);
                    var d = o.getType();
                    if (F.default.instance.onServerKillMonster(c), "0" != d) {
                        var C = p.MonsterConfig.getMonsterConfigById(parseInt(d)),
                            _ = o.getQuality();
                        _ == h.GameConst.QUALITY.WHITE ? k.default.instance.killWhiteMonsterNum++ : _ == h.GameConst.QUALITY.GREEN ? k.default.instance.killGreenMonsteNum++ : _ == h.GameConst.QUALITY.BLUE ? k.default.instance.killBlueMonsterNum++ : _ == h.GameConst.QUALITY.PURPLE ? k.default.instance.killPurpleMonsterNum++ : k.default.instance.killBossMonsterNum++;
                        for (var y = i.getReslistList(), M = 0, I = 0, L = 0, w = 0; w < y.length; w++) {
                            var S = y[w].getK(),
                                E = y[w].getV();
                            S == h.GameConst.RES_TYPE.EXP ? M += E : S == h.GameConst.RES_TYPE.COIN ? I += E : S == h.GameConst.RES_TYPE.CREAM ? L += E : S == h.GameConst.RES_TYPE.YUAN_BAO && E
                        }
                        var T = "<color=" + g.ColorConfig.ShenGreenColor + ">" + N.default.instance.roleName + "</color>\u6740\u6b7b<color=" + g.ColorConfig.getQualityHexColor(_) + ">" + C.name + "</color>",
                            R = "\u6210\u529f\u79d2\u6740<color=" + g.ColorConfig.getQualityHexColor(_) + ">" + C.name + "</color>";
                        M > 0 && (k.default.instance.exp += M, T += "\uff0c\u7ecf\u9a8c+" + M, R += "\uff0c\u7ecf\u9a8c+" + M), I > 0 && (T += "\uff0c\u91d1\u5e01+" + I, R += "\uff0c\u91d1\u5e01+" + I), L > 0 && (T += "\uff0c\u7cbe\u534e+" + L, R += "\uff0c\u7cbe\u534e+" + L), P.default.sdkCustomAction(14, I);
                        var B = i.getItemlistList();
                        B.sort(function(e, t) {
                            return e.getQuality() - t.getQuality()
                        });
                        var A = [],
                            O = 0,
                            x = 0;
                        for (w = 0; w < B.length; w++) {
                            0 == w && (T += "\uff0c\u83b7\u5f97", R += "\uff0c\u83b7\u5f97");
                            var V = B[w].getType(),
                                U = B[w].getNum(),
                                H = B[w].getKind(),
                                D = B[w].getQuality();
                            B[w].getId();
                            if (H == h.GameConst.ITEM_KIND.EQUIP) {
                                var G = f.EquipConfig.getEquipConfigById(V);
                                D == h.GameConst.QUALITY.WHITE ? k.default.instance.equipWhiteNum++ : D == h.GameConst.QUALITY.GREEN ? k.default.instance.equipGreenNum++ : D == h.GameConst.QUALITY.BLUE ? k.default.instance.equipBlueNum++ : D == h.GameConst.QUALITY.PURPLE ? k.default.instance.equipPurpleNum++ : k.default.instance.equipYellowNum++;
                                0 != w && (T += "\uff0c", R += "\uff0c"), U >= 2 ? (T += "<color=" + g.ColorConfig.getQualityHexColor(D) + ">\u3010" + G.name + "X" + U + "\u3011</color>", R += "<color=" + g.ColorConfig.getQualityHexColor(D) + ">\u3010" + G.name + "X" + U + "\u3011</color>") : (T += "<color=" + g.ColorConfig.getQualityHexColor(D) + ">\u3010" + G.name + "\u3011</color>", R += "<color=" + g.ColorConfig.getQualityHexColor(D) + ">\u3010" + G.name + "\u3011</color>")
                            } else {
                                (G = u.ITemsConfig.getITemsConfigById(V)).id == h.ItemId.Book && O++, G.id == h.ItemId.SkillDan && x++, 0 != w && (T += "\uff0c", R += "\uff0c"), U >= 2 ? (T += "<color=" + g.ColorConfig.getQualityHexColor(G.quality) + ">\u3010" + G.name + "X" + U + "\u3011</color>", R += "<color=" + g.ColorConfig.getQualityHexColor(G.quality) + ">\u3010" + G.name + "X" + U + "\u3011</color>") : (T += "<color=" + g.ColorConfig.getQualityHexColor(G.quality) + ">\u3010" + G.name + "\u3011</color>", R += "<color=" + g.ColorConfig.getQualityHexColor(G.quality) + ">\u3010" + G.name + "\u3011</color>")
                            }
                        }
                        O > 0 && P.default.sdkCustomAction(32, O), x > 0 && P.default.sdkCustomAction(35, O), A.length > 0 && e.req_reback_items(A, 1);
                        var q = 0,
                            j = 0,
                            J = i.getRecycleEquipList();
                        for (w = 0; w < J.length; w++) {
                            V = J[w].getType(), J[w].getKind();
                            var Z = J[w].getQuality(),
                                Y = f.EquipConfig.getEquipConfigById(V);
                            Y || a.Logger.error("\u81ea\u52a8\u56de\u6536\u7269\u54c1\u8fd4\u56de\u9519\u8bef==", V), Z == h.GameConst.QUALITY.WHITE ? k.default.instance.equipWhiteNum++ : Z == h.GameConst.QUALITY.GREEN ? k.default.instance.equipGreenNum++ : Z == h.GameConst.QUALITY.BLUE ? k.default.instance.equipBlueNum++ : Z == h.GameConst.QUALITY.PURPLE ? k.default.instance.equipPurpleNum++ : k.default.instance.equipYellowNum++, 0 == w ? (T += "\uff0c\u81ea\u52a8\u56de\u6536\u4e86<color=" + g.ColorConfig.getQualityHexColor(Z) + ">", R += "\uff0c\u81ea\u52a8\u56de\u6536\u4e86<color=" + g.ColorConfig.getQualityHexColor(Z) + ">") : (T += "\uff0c<color=" + g.ColorConfig.getQualityHexColor(Z) + ">", R += "\uff0c<color=" + g.ColorConfig.getQualityHexColor(Z) + ">"), T += "\u3010" + Y.name + "\u3011</color>", R += "\u3010" + Y.name + "\u3011</color>"
                        }
                        var Q = i.getRecycleListList();
                        for (w = 0; w < Q.length; w++) {
                            var z = Q[w].getK(),
                                K = Q[w].getV();
                            z == h.GameConst.RES_TYPE.COIN ? q += K : z == h.GameConst.RES_TYPE.CREAM && (j += K)
                        }
                        J.length > 0 && (j > 0 && q > 0 ? (T += "\u83b7\u5f97\u91d1\u5e01" + q + ",\u88c5\u5907\u7cbe\u534e" + j, R += "\u83b7\u5f97\u91d1\u5e01" + q + ",\u88c5\u5907\u7cbe\u534e" + j) : q > 0 ? (T += "\u83b7\u5f97\u91d1\u5e01" + q, R += "\u83b7\u5f97\u91d1\u5e01" + q) : j > 0 && (T += "\u88c5\u5907\u7cbe\u534e" + q, R += "\u88c5\u5907\u7cbe\u534e" + q));
                        var X = i.getSpirits(),
                            $ = "#ffffff";
                        $ = X >= W.default.model.max_spirits ? g.ColorConfig.RedHexColor : "#ffffff", X - W.default.model.spirits > 0 && (T += " \u9b42\u9b44+" + (X - W.default.model.spirits) + "<color=" + $ + ">(" + X + "/" + W.default.model.max_spirits + ")"), W.default.model.spirits = X, a.Logger.log("SpiritsModel.model.spirits===", W.default.model.spirits, i.getSpirits()), P.default.sdkCustomAction(14, q), n.EventManager.instance.dispatch(v.CommonEvent.Event_MapStatistic), b.ChatModel.addChatStr(b.ChatType.monsterDead, T), 1 == i.getIfseckill() && (a.Logger.log("\u6740\u602a\u8fd4\u56de====\u79d2\u6740"), l.default.instance.createView(m.default.gameView.KillBossTip, null, 1, R))
                    }
                }, e.login = function(e) {
                    void 0 === e && (e = 2), l.default.instance.showLoadingIcon();
                    var t = r.ProtoUtils.Create(s.ProtoConfig.s_user_login);
                    t.setOpenid("testopenid"), t.setPlatid(cc.sys.platform), t.setName(P.default.uId), t.setGameid(P.default.gameId), t.setChannelid(P.default.channelId), t.setAppid(P.default.appId), t.setSid(P.default.sid), t.setExtra(P.default.extra), t.setLogoinTimes(e), t.setXmlchannelinfo(P.default.xmlChannel), t.setVersion(P.default.getNativeVersion()), o.default.getInstance().sendToSocket(t)
                }, e.reqRoleList = function() {
                    if (d.GameConfig.connectServer) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_role_list);
                        e.setUserId(P.default.uId), console.log("reqRoleList==", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_create_role = function(e, t, i) {
                    var n = r.ProtoUtils.Create(s.ProtoConfig.s_req_create_role);
                    n.setOccupation(e), n.setRolename(t), n.setPos(i), console.log("req_create_role==", n, e, t, i), o.default.getInstance().sendToSocket(n)
                }, e.req_del_role = function(e) {
                    d.GameConfig.connectServer || N.default.deleteRole(e)
                }, e.req_start_game = function(e) {
                    if (d.GameConfig.connectServer) {
                        l.default.instance.showLoadingIcon(), N.default.instance = e;
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_start_game);
                        t.setRoleid(e.roleId), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_role_info = function(e) {
                    var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_role_info);
                    t.setRoleid(e), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                }, e.req_item_list = function() {
                    var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_item_list);
                    o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(e)
                }, e.kill_monster = function(e, t, i, n) {
                    if (d.GameConfig.connectServer) {
                        if (null == n || null == D.default.instance.gameView.myRolePrefab)
                            return;
                        var a = r.ProtoUtils.Create(s.ProtoConfig.t_monster_info);
                        a.setId(e), a.setType(t), a.setQuality(i), a.setScene(N.default.instance.mapId);
                        for (var l = r.ProtoUtils.Create(s.ProtoConfig.s_kill_monster), c = R.SkillModel.getMyActiveSkillList(), g = [], f = 0; f < c.length; f++) {
                            var u = r.ProtoUtils.Create(s.ProtoConfig.t_skill_arg),
                                p = c[f];
                            u.setSkillId(p.id);
                            var m = p.bonus;
                            isNaN(m) && (m = 0), u.setSkillBonus(m);
                            var C = p.parameter;
                            C || (C = []), u.setParameterList(C), g[f] = u
                        }
                        l.setSkillArgListList(g), l.setMonsterinfo(a), N.default.instance.bagRemainingnumber <= 0 ? l.setRestBagNum(-1) : l.setRestBagNum(N.default.instance.bagRemainingnumber);
                        var v = r.ProtoUtils.Create(s.ProtoConfig.t_kill_reback_info);
                        x.SettingModel.notItselfEq || x.SettingModel.ordinaryEq || x.SettingModel.excellentEq || x.SettingModel.excellentEqs ? v.setReback(1) : v.setReback(2), x.SettingModel.notItselfEq ? v.setProf(1) : v.setProf(2);
                        var _ = [];
                        x.SettingModel.ordinaryEq && _.push(h.GameConst.QUALITY.WHITE), x.SettingModel.excellentEq && _.push(h.GameConst.QUALITY.GREEN), x.SettingModel.excellentEqs && _.push(h.GameConst.QUALITY.BLUE), v.setQualityListList(_), l.setRebackInfo(v);
                        var y = [];
                        for (f = 0; f < N.default.instance.attrList.length; f++) {
                            var M = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                            M.setK(N.default.instance.attrList[f].magicId), M.setV(Math.ceil(N.default.instance.attrList[f].magicValue)), y.push(M)
                        }
                        var I = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        I.setK(H.MagicNameConfig.MagicId.atk), I.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.attack)), y.push(I);
                        var b = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        b.setK(H.MagicNameConfig.MagicId.def), b.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.def)), y.push(b);
                        var L = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        L.setK(H.MagicNameConfig.MagicId.spt), L.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.spt)), y.push(L);
                        var w = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        w.setK(H.MagicNameConfig.MagicId.mag), w.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.mag)), y.push(w);
                        var S = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        S.setK(H.MagicNameConfig.MagicId.hp), S.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.getHp())), y.push(S);
                        var E = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        E.setK(H.MagicNameConfig.MagicId.maxHp), E.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.getMaxHp())), y.push(E);
                        var k = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        k.setK(H.MagicNameConfig.MagicId.mp), k.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.getMp())), y.push(k);
                        var T = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        T.setK(H.MagicNameConfig.MagicId.maxMp), T.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.getMaxMp())), y.push(T);
                        var B = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        B.setK(H.MagicNameConfig.MagicId.lucky), B.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.lucky)), y.push(B);
                        var P = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        P.setK(H.MagicNameConfig.MagicId.BonusDamage), P.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.BonusDamage)), y.push(P);
                        var A = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        A.setK(H.MagicNameConfig.MagicId.DamageReduction), A.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.DamageReduction)), y.push(A);
                        var O = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        O.setK(H.MagicNameConfig.MagicId.BonusDamage_p), O.setV(Math.ceil(1e4 * D.default.instance.gameView.myRolePrefab.roleInfo.BonusDamage_p)), y.push(O);
                        var V = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        V.setK(H.MagicNameConfig.MagicId.DamageReduction_p), V.setV(Math.ceil(1e4 * D.default.instance.gameView.myRolePrefab.roleInfo.DamageReduction_p)), y.push(V);
                        var U = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        U.setK(H.MagicNameConfig.MagicId.HpDrain), U.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.shengmingXiQu)), y.push(U);
                        var G = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        G.setK(H.MagicNameConfig.MagicId.MpDrain), G.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.faliXiQu)), y.push(G);
                        var q = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        q.setK(H.MagicNameConfig.MagicId.speed), q.setV(Math.ceil(D.default.instance.gameView.myRolePrefab.roleInfo.attackSpeed)), y.push(q);
                        var j = [],
                            F = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        F.setK(H.MagicNameConfig.MagicId.atk), F.setV(Math.ceil(n.roleInfo.attack)), j.push(F);
                        var J = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        J.setK(H.MagicNameConfig.MagicId.def), J.setV(Math.ceil(n.roleInfo.def) + n.yeManChongZhuang_decDef), j.push(J);
                        var Z = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        Z.setK(H.MagicNameConfig.MagicId.spt), Z.setV(Math.ceil(n.roleInfo.spt)), j.push(Z);
                        var W = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        W.setK(H.MagicNameConfig.MagicId.mag), W.setV(Math.ceil(n.roleInfo.mag)), j.push(W);
                        var Y = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        Y.setK(H.MagicNameConfig.MagicId.hp), Y.setV(Math.ceil(n.totalHurtBlood)), j.push(Y);
                        var Q = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        Q.setK(H.MagicNameConfig.MagicId.maxHp), Q.setV(Math.ceil(n.roleInfo.getMaxHp())), j.push(Q);
                        var z = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        z.setK(H.MagicNameConfig.MagicId.mp), z.setV(Math.ceil(n.roleInfo.getMp())), j.push(z);
                        var K = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        K.setK(H.MagicNameConfig.MagicId.maxMp), K.setV(Math.ceil(n.roleInfo.getMaxMp())), j.push(K);
                        var X = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        X.setK(H.MagicNameConfig.MagicId.lucky), X.setV(Math.ceil(n.roleInfo.lucky)), j.push(X);
                        var $ = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        $.setK(H.MagicNameConfig.MagicId.BonusDamage), $.setV(Math.ceil(n.roleInfo.BonusDamage)), j.push($);
                        var ee = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        ee.setK(H.MagicNameConfig.MagicId.DamageReduction), ee.setV(Math.ceil(n.roleInfo.DamageReduction)), j.push(ee);
                        var te = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        te.setK(H.MagicNameConfig.MagicId.BonusDamage_p), te.setV(Math.ceil(1e4 * n.roleInfo.BonusDamage_p)), j.push(te);
                        var ie = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        ie.setK(H.MagicNameConfig.MagicId.DamageReduction_p), ie.setV(Math.ceil(1e4 * n.roleInfo.DamageReduction_p)), j.push(ie);
                        var ne = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        ne.setK(H.MagicNameConfig.MagicId.HpDrain), ne.setV(Math.ceil(n.roleInfo.shengmingXiQu)), j.push(ne);
                        var oe = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        oe.setK(H.MagicNameConfig.MagicId.MpDrain), oe.setV(Math.ceil(n.roleInfo.faliXiQu)), j.push(oe);
                        var ae = r.ProtoUtils.Create(s.ProtoConfig.t_property_info);
                        ae.setK(H.MagicNameConfig.MagicId.speed), ae.setV(Math.ceil(n.roleInfo.attackSpeed)), j.push(ae), l.setHeroattrlistList(y), l.setMonsterattrlistList(j);
                        var se = [];
                        for (f = 0; f < N.default.instance.skillModelList.length; f++) {
                            var re = N.default.instance.skillModelList[f],
                                le = r.ProtoUtils.Create(s.ProtoConfig.t_skill);
                            le.setK(re.id), re.isActive ? le.setV(re.getTotalLevel()) : le.setV(0), le.setExp(re.exp), le.setUse(re.isSelect), se[f] = le
                        }
                        l.setSkillListList(se), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(l)
                    }
                }, e.req_switch_map = function(e) {
                    if (d.GameConfig.connectServer) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_enter_scene);
                        t.setSceneId(e), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_charge = function(e) {
                    var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_charge);
                    t.setProductId(e), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                }, e.req_equip = function(e, t, i) {
                    if (void 0 === i && (i = 1), d.GameConfig.connectServer) {
                        var n = r.ProtoUtils.Create(s.ProtoConfig.s_req_equip);
                        n.setItemid(parseInt(e)), n.setGridid(t), n.setAction(i), a.Logger.log("req_equip==", e, t, i, L.default.getItemByid(e)), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(n)
                    }
                }, e.req_fresh_equip = function(e, t) {
                    var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_fresh_equip);
                    i.setItemId(parseInt(e)), i.setLockIndexListList(t), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(i)
                }, e.req_save_property = function(e) {
                    var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_save_property);
                    t.setItemId(parseInt(e)), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                }, e.req_strength = function(e) {
                    var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_strength);
                    t.setPos(e), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                }, e.req_boss_fresh_time = function() {
                    if (d.GameConfig.connectServer) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_boss_fresh_time);
                        o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_buy = function(e, t, i, n, l, c, g, f) {
                    if (void 0 === c && (c = ""), void 0 === g && (g = 1), void 0 === f && (f = null), d.GameConfig.connectServer) {
                        this.nowbuyType = e;
                        var h = r.ProtoUtils.Create(s.ProtoConfig.s_req_buy);
                        h.setBuyType(e), h.setShopItemId(t), h.setShopItemNum(i), h.setResourceType(n), h.setIndex(l), h.setItemType(c), h.setMulti(g), o.default.getInstance().isLogin && (a.Logger.log("s_req_buy==", e, t, i, n, c, l, h), o.default.getInstance().sendToSocket(h))
                    }
                }, e.req_advertisement_info = function(e) {
                    if (d.GameConfig.connectServer) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_advertisement_info);
                        t.setId(e), o.default.getInstance().isLogin && o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_advertisement = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_advertisement);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_shop_fresh = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_shop_fresh);
                        t.setIsFresh(e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_shop_fresh_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_shop_fresh_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_reback_items = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_reback_items);
                        i.setIdListList(e), i.setType(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_reback_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_reback_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.resh_reback_info = function(e, t) {
                    if (void 0 === t && (t = 2), d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_resh_reback_info);
                        i.setType(e), i.setIsFresh(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_skill = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_skill);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_skill_lev_up = function(t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        e.req_skill_add_exp();
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_skill_lev_up);
                        i.setSkillId(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_skill_add_exp = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        for (var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_skill_add_exp), t = [], i = !1, n = 0; n < N.default.instance.skillModelList.length; n++) {
                            var a = N.default.instance.skillModelList[n],
                                l = r.ProtoUtils.Create(s.ProtoConfig.t_skill);
                            l.setK(a.id), l.setV(a.level), a.exp != a.preExp && (i = !0), a.exp > 0 ? l.setExp(a.exp) : l.setExp(-1), a.isSelect ? l.setUse(1) : l.setUse(2), t[n] = l
                        }
                        i && (e.setSkillListList(t), o.default.getInstance().sendToSocket(e))
                    }
                }, e.req_skill_use = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_skill_use);
                        i.setSkillId(e), i.setSet(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_use_item = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_use_item);
                        i.setId(parseInt(e)), i.setNum(t), i.setBagcapcity(N.default.instance.bagRemainingnumber), a.Logger.log("req_use_item==", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_break_item = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_break_item);
                        i.setId(parseInt(e)), i.setNum(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_lev_up = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_lev_up);
                        a.Logger.log("req_lev_up==", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_realm_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_realm_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_up_realm = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_up_realm);
                        t.setId(e), a.Logger.log("s_req_up_realm==", t), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_get_vip_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_get_vip_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_get_vip_diamond = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_get_vip_diamond);
                        t.setType(e), P.default.sdkCustomAction(5, 100), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_get_offline_reward = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_get_offline_reward);
                        t.setType(e), a.Logger.log("req_get_offline_reward==", t), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_task = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_task);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_finish_task = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_finish_task);
                        i.setTaskId(e), i.setStep(t), o.default.getInstance().sendToSocket(i)
                    }
                }, e.req_make_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_make_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.refresh_make = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_refresh_make);
                        t.setType(e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_make_equip = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_make_equip);
                        t.setIndex(e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.req_first_rechard_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_first_rechard_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.req_get_first_rechard_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_req_get_first_rechard_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.seq_charge_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_seq_charge_info);
                        o.default.getInstance().sendToSocket(e)
                    }
                }, e.s_equip_lock = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_equip_lock);
                        i.setItemid(parseInt(e)), t ? i.setIslock(1) : i.setIslock(2), o.default.getInstance().sendToSocket(i)
                    }
                }, e.sendGm = function(e, t) {
                    void 0 === e && (e = "charge"), void 0 === t && (t = "2");
                    var i = r.ProtoUtils.Create(s.ProtoConfig.s_req_gm_code);
                    i.setCode(e), i.setArgListList(t.split(",")), a.Logger.log("sendGm=====", e, t), o.default.getInstance().sendToSocket(i)
                }, e.sendCode = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_req_code);
                        t.setCode(e), a.Logger.log("sendCode==", e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.sendComplex = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_compose);
                        i.setComposeId(e), i.setNum(t), a.Logger.log("sendComplex===", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_start_adv_status = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_seq_start_adv_status);
                        t.setStatus(e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.s_seq_embed = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_seq_embed);
                        t.setItemid(e), o.default.getInstance().sendToSocket(t)
                    }
                }, e.s_seq_quench = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_quench);
                        i.setItemid(parseInt(e)), a.Logger.log("s_seq_quench", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_saverune = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_seq_saverune);
                        t.setItemid(parseInt(e)), a.Logger.log("s_seq_saverune", t), o.default.getInstance().sendToSocket(t)
                    }
                }, e.s_seq_fangbuy = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_fangbuy);
                        i.setProductid(e.toString()), i.setBuynumber(t), a.Logger.log("s_seq_fangbuy", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_fangbuy_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_seq_fangbuy_info);
                        a.Logger.log("s_seq_fangbuy_info", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e.s_seq_limitshop = function(e, t, i) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var n = r.ProtoUtils.Create(s.ProtoConfig.s_seq_limitshop);
                        n.setProductid(e.toString()), n.setBuynumber(t), n.setChargeid(i), a.Logger.log("s_seq_limitshop", n), o.default.getInstance().sendToSocket(n)
                    }
                }, e.s_seq_limitshopbuy_info = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_seq_limitshopbuy_info);
                        a.Logger.log("s_seq_limitshopbuy_info", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e.s_seq_xianji = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_xianji);
                        i.setItemid1(e), i.setItemid2(t), a.Logger.log("s_seq_xianji", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_xianji_save = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_xianji_save);
                        i.setItemid1(e), i.setItemid2(t), a.Logger.log("s_seq_xianji_save", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_xianji_regret = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_seq_xianji_regret);
                        t.setItemid(e), a.Logger.log("s_seq_xianji_regret", t), o.default.getInstance().sendToSocket(t)
                    }
                }, e.s_seq_rune_gift = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_seq_rune_gift);
                        a.Logger.log("s_seq_rune_gift", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e.s_seq_all_skill_sin = function() {}, e.s_seq_swap_skill_sin = function(e, t, i) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var n = r.ProtoUtils.Create(s.ProtoConfig.s_seq_swap_skill_sin);
                        a.Logger.log("s_seq_swap_skill_sin", n), n.setSkillid(e), n.setOldskinid(t), n.setNewskinid(i), o.default.getInstance().sendToSocket(n)
                    }
                }, e.s_seq_try_item = function(e) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var t = r.ProtoUtils.Create(s.ProtoConfig.s_seq_try_item);
                        t.setProdid(e), a.Logger.log("s_seq_try_item", t), o.default.getInstance().sendToSocket(t)
                    }
                }, e.s_seq_shenbing = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_shenbing);
                        i.setCurrentid(e + 1), i.setShenbingtype(t), a.Logger.log("s_seq_shenbing", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seq_shenbing_skill = function(e, t) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var i = r.ProtoUtils.Create(s.ProtoConfig.s_seq_shenbing_skill);
                        i.setCurrentid(e), i.setShenbingtype(t), a.Logger.log("s_seq_shenbing_skill", i), o.default.getInstance().sendToSocket(i)
                    }
                }, e.s_seckill_monster = function(e, t, i) {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var n = r.ProtoUtils.Create(s.ProtoConfig.s_seckill_monster),
                            l = r.ProtoUtils.Create(s.ProtoConfig.t_monster_info);
                        l.setId(-1), l.setType(e.toString()), l.setQuality(t), l.setScene(i), n.setMonsterinfo(l), N.default.instance.bagRemainingnumber <= 0 ? n.setRestBagNum(-1) : n.setRestBagNum(N.default.instance.bagRemainingnumber);
                        var c = r.ProtoUtils.Create(s.ProtoConfig.t_kill_reback_info);
                        x.SettingModel.notItselfEq || x.SettingModel.ordinaryEq || x.SettingModel.excellentEq || x.SettingModel.excellentEqs ? c.setReback(1) : c.setReback(2), x.SettingModel.notItselfEq ? c.setProf(1) : c.setProf(2);
                        var g = [];
                        x.SettingModel.ordinaryEq && g.push(h.GameConst.QUALITY.WHITE), x.SettingModel.excellentEq && g.push(h.GameConst.QUALITY.GREEN), x.SettingModel.excellentEqs && g.push(h.GameConst.QUALITY.BLUE), c.setQualityListList(g), n.setRebackInfo(c), a.Logger.log("s_seq_seckill_boss", n), o.default.getInstance().sendToSocket(n)
                    }
                }, e.s_recycle_options = function() {
                    if (d.GameConfig.connectServer && o.default.getInstance().isLogin) {
                        var e = r.ProtoUtils.Create(s.ProtoConfig.s_recycle_options);
                        e.setRecycleSelfEquip(x.SettingModel.recycle_self_equip), e.setRecycleWhite(x.SettingModel.recycle_white), e.setRecycleGreen(x.SettingModel.recycle_green), e.setRecycleBlue(x.SettingModel.recycle_blue), e.setRecyclePurple(x.SettingModel.recycle_purple), e.setRecycleNormalLevel(x.SettingModel.recycle_normal_level), e.setRecycleNirvanaReam(x.SettingModel.recycle_nirvana_ream), e.setRecycleUltimateP(x.SettingModel.recycle_ultimate_p), a.Logger.log("s_recycle_options", e), o.default.getInstance().sendToSocket(e)
                    }
                }, e
            }();
        i.default = Y, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/GameSocket": "GameSocket",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/UIManager": "UIManager",
        "../GameController": "GameController",
        "../config/BagConfig": "BagConfig",
        "../config/ChongZhiConfig": "ChongZhiConfig",
        "../config/ColorConfig": "ColorConfig",
        "../config/EquipConfig": "EquipConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ITemsConfig": "ITemsConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/MonsterConfig": "MonsterConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../manager/MonsterManager": "MonsterManager",
        "../model/AdModel": "AdModel",
        "../model/BossModel": "BossModel",
        "../model/BusinessModel": "BusinessModel",
        "../model/ChatModel": "ChatModel",
        "../model/FangShiModel": "FangShiModel",
        "../model/FightModel": "FightModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/JingJieModel": "JingJieModel",
        "../model/MagicModel": "MagicModel",
        "../model/MakeEquipModel": "MakeEquipModel",
        "../model/MapStatisticsModel": "MapStatisticsModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/SettingModel": "SettingModel",
        "../model/ShenBinModel": "ShenBinModel",
        "../model/ShenBinSkillModel": "ShenBinSkillModel",
        "../model/SkillEffectModel": "SkillEffectModel",
        "../model/SkillModel": "SkillModel",
        "../model/SpiritsModel": "SpiritsModel",
        "../model/TaskModel": "TaskModel",
        "../model/TopUpModel": "TopUpModel",
        "../prefab/GameManager": "GameManager",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper",
        "../view/Discount/DisCountModel": "DisCountModel"
    }],
    SocketRequestData: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d0384L3+jRBorC55uMRHuBi", "SocketRequestData"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            return function() {}
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    SoundPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d262fKyivZNubHkDAhJPvoQ", "SoundPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../game/config/MusicConfig"),
            s = e("./Logger"),
            r = e("./LocalStorage"),
            l = e("./EventManager"),
            c = e("../game/event/CommonEvent"),
            g = e("./ComponentBase"),
            f = e("../game/model/SettingModel"),
            d = cc._decorator,
            h = d.ccclass,
            u = (d.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.audioName = "", t.audioUrl = "", t
                }
                var i;
                return n(t, e), i = t, t.getAudioNode = function() {
                    return cc.instantiate(this.prefab)
                }, t.play = function(e) {
                    var t = this;
                    if (f.SettingModel.soundEffects) {
                        var n = a.default.musicKey2Path.get(e);
                        n ? cc.loader.loadRes(n, cc.AudioClip, function(o, a) {
                            if (o)
                                s.Logger.warn(t, "load sound error===", o.message);
                            else if (a) {
                                var r = t.getAudioNode();
                                r && (r.getComponent(cc.AudioSource).clip = a, r.getComponent(cc.AudioSource).volume = i.soundVolumn, r.getComponent(cc.AudioSource).loop = !1, r.getComponent(cc.AudioSource).rewind(), r.getComponent(cc.AudioSource).play(), r.getComponent(i).audioName = e, r.getComponent(i).audioUrl = n, t.nowAudioNodeList.push(r))
                            }
                        }) : s.Logger.warn(this, "\u64ad\u653e\u4e0d\u5b58\u5728\u7684music=", e)
                    }
                }, t.changeVolumn = function(e) {
                    this.soundVolumn = e;
                    for (var t = 0; t < this.nowAudioNodeList.length; t++) {
                        var n = this.nowAudioNodeList[t].getComponent(cc.AudioSource);
                        n.isPlaying && (n.volume = e)
                    }
                    r.default.setItem(i.SOUND_VOLUMN_KEY, i.soundVolumn.toString())
                }, t.preInit = function() {
                    l.EventManager.instance.on(c.CommonEvent.Event_FrameUpdate, this.updateFrame, this), i.soundVolumn = parseFloat(r.default.getItem(i.SOUND_VOLUMN_KEY)), isNaN(i.soundVolumn) && (i.soundVolumn = 1)
                }, t.updateFrame = function() {
                    for (var e = 0; e < this.nowAudioNodeList.length; e++) {
                        this.nowAudioNodeList[e].getComponent(cc.AudioSource).isPlaying || i.nowAudioNodeList.splice(e, 1)
                    }
                }, t.preLoad = function() {
                    var e = this;
                    return new Promise(function(t, n) {
                        cc.loader.loadRes("share/uicomponent/SoundPrefab", function(n, o) {
                            n ? s.Logger.warn(e, "\u8f7d\u5165Prefab\u5931\u8d25, \u539f\u56e0:", n.message) : o instanceof cc.Prefab ? (i.prefab = o, e.preInit(), t()) : s.Logger.warn(e, "\u4f60\u8f7d\u5165\u7684\u4e0d\u662fPrefab, \u4f60\u505a\u4e86\u4ec0\u4e48\u4e8b?")
                        })
                    })
                }, t.destory = function() {
                    l.EventManager.instance.off(c.CommonEvent.Event_FrameUpdate, this.updateFrame, this);
                    for (var e = 0; e < this.nowAudioNodeList.length; e++) {
                        var t = this.nowAudioNodeList[e];
                        t.getComponent(cc.AudioSource).stop(), t.getComponent(cc.AudioSource).destroy()
                    }
                    this.nowAudioNodeList = [], this.pool.clear()
                }, t.prefab = null, t.SOUND_VOLUMN_KEY = "soundVolumn", t.soundVolumn = 1, t.Pool_Init_Num = 30, t.pool = new cc.NodePool, t.nowAudioNodeList = [], t = i = o([h], t)
            }(g.default));
        i.default = u, cc._RF.pop()
    }, {
        "../game/config/MusicConfig": "MusicConfig",
        "../game/event/CommonEvent": "CommonEvent",
        "../game/model/SettingModel": "SettingModel",
        "./ComponentBase": "ComponentBase",
        "./EventManager": "EventManager",
        "./LocalStorage": "LocalStorage",
        "./Logger": "Logger"
    }],
    SpiritsModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "64f55PdvY9P7aXgPd1xP9qC", "SpiritsModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/EventManager"),
            o = e("../event/CommonEvent"),
            a = e("../../engine/Logger"),
            s = function() {
                function e() {}
                return e.proto2ModelList = function(e) {
                    this.model.spirits = e.getSpirits(), this.model.spirits_eff = e.getSpiritsEff(), this.model.max_spirits = e.getMaxSpirits(), a.Logger.log("c_seq_spirits====", this.model), n.EventManager.instance.dispatch(o.CommonEvent.Event_RefreshShenbin)
                }, e.model = new e, e
            }();
        i.default = s, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../event/CommonEvent": "CommonEvent"
    }],
    SpriteFrameConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "032a3nu5LBPzI26T6ny/eqX", "SpriteFrameConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.occupation_spriteframe = new Map, e.fight_frame = [], e.skill_frame = new Map, e
        }();
        i.SpriteFrameConfig = n, cc._RF.pop()
    }, {}],
    StatisticsManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "cfc90y+Qp9ElLl+u8ptHbR5", "StatisticsManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            return function() {}
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    StrengthenInfoView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b851ceaZUpDza43kqsC6hIR", "StrengthenInfoView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../utils/UIHelper"),
            r = cc._decorator,
            l = r.ccclass,
            c = (r.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onInitChild = function(e, t) {
                    this.nowConfig = e, this.nextConfig = t
                }, t.prototype.onShow = function() {
                    var e = this.getChild(this.node, "view/panel/txtNow", cc.Label),
                        t = this.getChild(this.node, "view/panel/txtNowAdd", cc.Label),
                        i = this.getChild(this.node, "view/panel/txtNextAdd", cc.Label),
                        n = this.getChild(this.node, "view/panel/txtNextTarget", cc.Label);
                    this.nowConfig ? (e.string = "\u5168\u8eab\u5f3a\u5316+" + this.nowConfig.level, t.string = "\u4f24\u5bb3\u63d0\u9ad8+" + s.UIHelper.toFixStr(this.nowConfig.BonusDamage_p[1] / 100, 1) + "%\n\u4f24\u5bb3\u51cf\u514d+" + s.UIHelper.toFixStr(this.nowConfig.DamageReduction_p[1] / 100, 1) + "%\n\u751f\u547d\u503c+" + s.UIHelper.toFixStr(this.nowConfig.hp_p[1] / 100, 1) + "%\n\u6cd5\u529b\u503c+" + s.UIHelper.toFixStr(this.nowConfig.mp_p[1] / 100, 1) + "%") : (e.string = "\u5168\u8eab\u5f3a\u5316+0", t.string = "\u65e0"), this.nextConfig ? (n.string = "\u5168\u8eab\u5f3a\u5316+" + this.nextConfig.level, i.string = "\u4f24\u5bb3\u63d0\u9ad8+" + s.UIHelper.toFixStr(this.nextConfig.BonusDamage_p[1] / 100, 1) + "%\n\u4f24\u5bb3\u51cf\u514d+" + s.UIHelper.toFixStr(this.nextConfig.DamageReduction_p[1] / 100, 1) + "%\n\u751f\u547d\u503c+" + s.UIHelper.toFixStr(this.nextConfig.hp_p[1] / 100, 1) + "%\n\u6cd5\u529b\u503c+" + s.UIHelper.toFixStr(this.nextConfig.mp_p[1] / 100, 1) + "%") : i.string = "\u65e0"
                }, t.prototype.onHide = function() {}, t = o([l], t)
            }(a.default));
        i.default = c, cc._RF.pop()
    }, {
        "../../engine/ViewBase": "ViewBase",
        "../utils/UIHelper": "UIHelper"
    }],
    StrengthenView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0d14fFOfnNCBbh1JzTNhId+", "StrengthenView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../model/EquipGridModel"),
            s = e("../model/RoleInfoModel"),
            r = e("../../engine/ViewBase"),
            l = e("../../engine/Logger"),
            c = e("../utils/MusicHelper"),
            g = e("../config/IntensifyConfig"),
            f = e("../config/GameConst"),
            d = e("../../engine/UIManager"),
            h = e("../config/ViewConfig"),
            u = e("../utils/UIHelper"),
            p = e("../../engine/EventManager"),
            m = e("../event/CommonEvent"),
            C = e("../config/GameConfig"),
            v = e("../network/SocketClient"),
            _ = e("../../engine/ProtoConfig"),
            y = e("../../engine/ProtoUtils"),
            M = e("../config/MagicNameConfig"),
            I = e("../model/MagicModel"),
            b = e("../sdk/SdkHelper"),
            L = e("../model/AdModel"),
            w = cc._decorator,
            S = w.ccclass,
            E = w.property,
            k = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.equipSpriteList = [], t.equipIndex = 0, t
                }
                return n(t, e), t.prototype.onLoad = function() {
                    this.btnStart = this.getChild(this.node, "view/panel/start"), this.btnStart.on(cc.Node.EventType.TOUCH_END, this.onClickStart.bind(this)), this.getChild(this.node, "view/panel/all").on(cc.Node.EventType.TOUCH_END, this.onClickAll.bind(this))
                }, t.prototype.onEnable = function() {
                    p.EventManager.instance.on(m.CommonEvent.Event_SocketRespMsg, this.onSocketRespMsg, this), p.EventManager.instance.on(m.CommonEvent.Event_StrengthSwitch, this.onStrengthSwitch, this), p.EventManager.instance.on(m.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this), this.equipIndex = 1, this.onShow()
                }, t.prototype.onUserInfoRefresh = function() {
                    this.refresh()
                }, t.prototype.onShow = function() {
                    l.Logger.log("\u5f37\u5316\u754c\u9762\u3001\u3001\u3001\u3001\u3001"), this.txtAllTarget = this.getChild(this.node, "view/panel/all/txtAllTarget", cc.Label), this.icon = this.getChild(this.node, "view/panel/icon/name", cc.Sprite), this.maxLevelNode = this.getChild(this.node, "view/panel/maxLevel"), this.pan = this.getChild(this.node, "view/panel/pan"), this.txtLevel = this.getChild(this.node, "view/panel/icon/lvl", cc.Label), this.txtPro = this.getChild(this.node, "view/panel/pan/pro", cc.Label), this.txtNowInfo = this.getChild(this.node, "view/panel/pan/txtNowInfo", cc.Label), this.txNextInfo = this.getChild(this.node, "view/panel/pan/txNextInfo", cc.Label), this.txtCoin = this.getChild(this.node, "view/panel/pan/txtCoin", cc.Label), this.refresh()
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == _.ProtoConfig.c_req_strength) {
                        var i = y.ProtoUtils.DeserializeBinary(_.ProtoConfig.c_req_strength, t),
                            n = i.getRet();
                        if (l.Logger.log("c_req_strength \u9762\u677f\u8fd4\u56de+==", n), 1 == n) {
                            u.UIHelper.showTip("\u5f3a\u5316\u6210\u529f!");
                            var o = i.getPos(),
                                s = i.getLev();
                            l.Logger.log("\u5f3a\u5316\u6210\u529f=", o, s), a.EquipGridModel.levelUpEquipGrid(o, s), this.refresh()
                        } else
                            u.UIHelper.showTip("\u5f3a\u5316\u5931\u8d25!")
                    }
                }, t.prototype.onStrengthSwitch = function(e) {
                    this.equipIndex = e + 1, this.refresh()
                }, t.prototype.onClickAll = function() {
                    c.MusicHelper.play_click(), d.default.instance.createView(h.default.gameView.strengtheninfo, null, this.nowConfig, this.nextConfig)
                }, t.prototype.refresh = function() {
                    this.icon.spriteFrame = this.equipSpriteList[this.equipIndex - 1];
                    var e = s.default.instance.getEquipGridList(),
                        t = a.EquipGridModel.getNowIntensifyLevelConfig(),
                        i = a.EquipGridModel.getNextIntensifyLevelConfig();
                    this.nowConfig = t, this.nextConfig = i;
                    var n,
                        o,
                        r = a.EquipGridModel.getEquipGridModel(this.equipIndex);
                    if (l.Logger.log("equipGridModel=", r), this.txtLevel.string = r ? "+" + r.strengthenNum : "", r ? (n = g.IntensifyConfig.getIntensifyConfigById(r.strengthenNum), o = g.IntensifyConfig.getIntensifyConfigById(r.strengthenNum + 1)) : (n = g.IntensifyConfig.getIntensifyConfigById(0), o = g.IntensifyConfig.getIntensifyConfigById(1)), this.nowIntens = n, this.nextIntens = o, o) {
                        var c = this.equipIndex;
                        c == f.GridType.WEAPON ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.weapon.magicId) + "+" + I.default.formatMagicValue(n.weapon.magicId, n.weapon.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.weapon.magicId, o.weapon.magicValue) + "") : c == f.GridType.CORSELET ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.corselet.magicId) + "+" + I.default.formatMagicValue(n.corselet.magicId, n.corselet.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.corselet.magicId, o.corselet.magicValue) + "") : c == f.GridType.HELMET ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.helmet.magicId) + "+" + I.default.formatMagicValue(n.helmet.magicId, n.helmet.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.helmet.magicId, o.helmet.magicValue) + "") : c == f.GridType.NECK_LACE ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.necklace.magicId) + "+" + I.default.formatMagicValue(n.necklace.magicId, n.necklace.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.necklace.magicId, o.necklace.magicValue) + "") : c == f.GridType.BRACELET_lEFT ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.bracelet_left.magicId) + "+" + I.default.formatMagicValue(n.bracelet_left.magicId, n.bracelet_left.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.bracelet_left.magicId, o.bracelet_left.magicValue) + "") : c == f.GridType.BRACELET_RIGHT ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.bracelet_right.magicId) + "+" + I.default.formatMagicValue(n.bracelet_right.magicId, n.bracelet_right.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.bracelet_right.magicId, o.bracelet_right.magicValue) + "") : c == f.GridType.RING_LEFT ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.ring_left.magicId) + "+" + I.default.formatMagicValue(n.ring_left.magicId, n.ring_left.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.ring_left.magicId, o.ring_left.magicValue) + "") : c == f.GridType.RING_RIGHT ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.ring_right.magicId) + "+" + I.default.formatMagicValue(n.ring_right.magicId, n.ring_right.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.ring_right.magicId, o.ring_right.magicValue) + "") : c == f.GridType.BELT ? (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.helmet.magicId) + "+" + I.default.formatMagicValue(n.helmet.magicId, n.helmet.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.helmet.magicId, o.helmet.magicValue) + "") : c == f.GridType.SHOE && (this.txtNowInfo.string = M.MagicNameConfig.getDesc(n.shoe.magicId) + "+" + I.default.formatMagicValue(n.shoe.magicId, n.shoe.magicValue), this.txNextInfo.string = I.default.formatMagicValue(o.shoe.magicId, o.shoe.magicValue) + ""), this.txtCoin.string = n.getCost() + "", this.txtCoin.node.color = n.getCost() <= s.default.instance.getCoin() ? cc.Color.GREEN : cc.Color.RED, this.txtPro.string = Math.floor(n.prob / 100) + "%", this.btnStart.opacity = 255, this.pan.active = !0, this.maxLevelNode.active = !1;
                        for (var d = 0, h = 0; h < e.length; h++) {
                            e[h].strengthenNum >= i.level && d++
                        }
                        this.txtAllTarget.string = "\u5168\u8eab\u5f3a\u5316+" + i.level + "\n(" + d + "/10)", l.Logger.log("\u5237\u65b0\u5f3a\u5316===", this.equipIndex, n, o)
                    } else
                        this.maxLevelNode.active = !0, this.pan.active = !1, this.btnStart.opacity = 50, l.Logger.log("\u5237\u65b0\u5f3a\u5316===", this.equipIndex, n, o);
                    this.txtAllTarget.string = i ? "\u5168\u8eab\u5f3a\u5316+" + i.level + "\n(0/10)" : "\u5df2\u5b8c\u6210\u6240\u6709\u5168\u8eab\u5f3a\u5316"
                }, t.prototype.onClickStart = function() {
                    if (c.MusicHelper.play_click(), this.maxLevelNode.active)
                        u.UIHelper.showTip("\u5df2\u7ecf\u5230\u8fbe\u6700\u5927\u7b49\u7ea7!");
                    else if (l.Logger.log("\u5f3a\u5316==", s.default.instance.level, this.nextIntens), this.nextIntens.level > s.default.instance.level)
                        u.UIHelper.showTip("\u89d2\u8272\u7b49\u7ea7\u4e0d\u8db3!");
                    else {
                        var e = !0;
                        if (s.default.instance.getCoin() < this.nowIntens.getCost() && (e = !1), l.Logger.log("\u70b9\u51fb\u5f3a\u5316+=", this.equipIndex), e)
                            if (C.GameConfig.connectServer)
                                b.default.sdkCustomAction(17, this.nowIntens.getCost()), v.default.req_strength(this.equipIndex);
                            else
                                Math.random() <= this.nextIntens.prob / 1e4 ? (e && u.UIHelper.showTip("\u5f3a\u5316\u6210\u529f\uff01"), s.default.saveToLocalStorage(), this.refresh()) : u.UIHelper.showTip("\u5f3a\u5316\u5931\u8d25\uff01");
                        else
                            C.GameConfig.platform === cc.sys.WECHAT_GAME ? L.default.getAdLostTimes(L.Ad_Type.Coin) > 0 ? d.default.instance.createView(h.default.gameView.buyMoney) : u.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : u.UIHelper.showCoinNoEnough()
                    }
                }, t.prototype.onHide = function() {}, t.prototype.onDisable = function() {
                    p.EventManager.instance.clear(this)
                }, o([E({
                    type: [cc.SpriteFrame]
                })], t.prototype, "equipSpriteList", void 0), t = o([S], t)
            }(r.default);
        i.default = k, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/ProtoConfig": "ProtoConfig",
        "../../engine/ProtoUtils": "ProtoUtils",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/IntensifyConfig": "IntensifyConfig",
        "../config/MagicNameConfig": "MagicNameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/AdModel": "AdModel",
        "../model/EquipGridModel": "EquipGridModel",
        "../model/MagicModel": "MagicModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    SummonedManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "d361fcW47tAVYR3z929F2qc", "SummonedManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../config/MapConfig"),
            o = e("../prefab/GameManager"),
            a = e("../../engine/MathUtils"),
            s = function() {
                function e() {
                    this.isAlive = !1, this.summonedList = [], this.summonedInfoList = []
                }
                return e.prototype.enterMap = function(t) {
                    if (this.gameView = t, this.clear(), this.summonedList = [], n.MapConfig.curMapConfig.type == n.MapConfig.MAP_TYPE.City)
                        ;
                    else {
                        this.isAlive = !0;
                        var i = o.default.instance.gameView.getEmptyGridList();
                        if (i.length <= 0)
                            return;
                        i.sort(function(e, t) {
                            return a.default.distance(e.row, e.col, o.default.instance.gameView.myRolePrefab.gridRow, o.default.instance.gameView.myRolePrefab.gridCol) - a.default.distance(t.row, t.col, o.default.instance.gameView.myRolePrefab.gridRow, o.default.instance.gameView.myRolePrefab.gridCol)
                        });
                        for (var s = 0; s < this.summonedInfoList.length; s++) {
                            var r = i[0],
                                l = o.default.instance.gameView.addSummoned(r);
                            l.setSummonedInfo2(this.summonedInfoList[s]), e.instance.summonedList.push(l)
                        }
                    }
                }, e.prototype.clear = function() {
                    for (var e = this.summonedList.length - 1; e >= 0; e--) {
                        var t = this.summonedList[e];
                        t && t.node && t.node.destroy()
                    }
                    this.summonedList = []
                }, e.prototype.killSummond = function(e) {
                    for (var t = this.summonedList.length - 1; t >= 0; t--) {
                        var i = this.summonedList[t];
                        i && i.node && i.roleInfo.summonedConfig.skillId == e && o.default.instance.gameView.killSummoned(i)
                    }
                }, e.prototype.getSummonedListByDistance = function(e, t, i, n) {
                    for (var o = [], a = this.summonedList.length - 1; a >= 0; a--) {
                        var s = this.summonedList[a];
                        if (s && s.node) {
                            var r = Math.abs(s.gridRow - i),
                                l = Math.abs(s.gridCol - n);
                            if (r <= e && l <= e) {
                                if (!(o.length < t))
                                    break;
                                o.push(s)
                            }
                        }
                    }
                    return o
                }, e.prototype.leaveMap = function() {
                    this.clear(), this.isAlive = !1
                }, e.prototype.canAddSummoned = function() {
                    return this.summonedList.length <= 0
                }, e.prototype.gotoDead = function(e) {
                    for (var t = this.summonedList.length - 1; t >= 0; t--) {
                        var i = this.summonedList[t];
                        if (e.gridRow == i.gridRow && e.gridCol == i.gridCol) {
                            this.summonedList.splice(t, 1);
                            break
                        }
                    }
                }, e.instance = new e, e
            }();
        i.default = s, cc._RF.pop()
    }, {
        "../../engine/MathUtils": "MathUtils",
        "../config/MapConfig": "MapConfig",
        "../prefab/GameManager": "GameManager"
    }],
    TaskModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "33d41h5CMBBb647HCzaHSN6", "TaskModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./GuideModel"),
            o = function() {
                function e() {}
                return e.proto2ModelList = function(t) {
                    var i = t.getTaskListList();
                    this.modelList = [];
                    for (var o = 0; o < i.length; o++) {
                        var a = new e;
                        a.id = i[o].getTaskId(), a.step = i[o].getStep(), this.modelList[o] = a
                    }
                    n.GuideModel.instance.checkGuide(n.GUIDE_TYPE.NOOB)
                }, e.hadFinishTask = function(e) {
                    for (var t = 0; t < this.modelList.length; t++) {
                        var i = this.modelList[t];
                        if (i && i.id == e && i.step >= 1)
                            return !0
                    }
                }, e.modelList = [], e
            }();
        i.TaskModel = o, cc._RF.pop()
    }, {
        "./GuideModel": "GuideModel"
    }],
    TempView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b8347gKs5xKEagOwkl2dPRJ", "TempView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../network/SocketClient"),
            r = e("../sdk/SdkHelper"),
            l = e("../utils/UIHelper"),
            c = e("../config/GameConfig"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    var e = this;
                    this.txtCode = this.getChild(this.node, "txtCode", cc.EditBox), this.txtPassword = this.getChild(this.node, "txtPassword", cc.EditBox), this.onAddEvent(this.findChild(this.node, "btnLogin"), function() {
                        r.default.uId = e.txtCode.string, "cq9527" == e.txtPassword.string || c.GameConfig.environment == c.EnvironmentType.Test ? s.default.login(2) : l.UIHelper.showTip("\u5bc6\u7801\u9519\u8bef\uff01")
                    })
                }, t = o([f], t)
            }(a.default));
        i.default = d, cc._RF.pop()
    }, {
        "../../engine/ViewBase": "ViewBase",
        "../config/GameConfig": "GameConfig",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    TipView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "4c1e11ELbFEv5lHVilGHYji", "TipView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../../engine/UIManager"),
            r = e("../config/ViewConfig"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.pianYiY = -50, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e, t, i, n) {
                    void 0 === t && (t = 1), void 0 === i && (i = cc.Color.WHITE), void 0 === n && (n = cc.v2(0, 100)), this.tips = e, this.color = i, this.time = t, this.pos = n
                }, t.prototype.onShow = function() {
                    var e = this;
                    i.tipCount++, s.default.instance.setTopUI(r.default.gameView.tip), this.node.zIndex = 999, this.findChild(this.node, "panel/content").getComponent(cc.Label).string = this.tips, this.findChild(this.node, "panel/content").color = this.color, this.node.setPosition(0, i.tipCount * this.pianYiY), cc.tween(this.node).by(this.time, {
                        position: this.pos
                    }).to(.2, {
                        opacity: 0
                    }).start(), this.scheduleOnce(function() {
                        e.closeView()
                    }, this.time)
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this), i.tipCount--
                }, t.tipCount = 0, t = i = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ViewConfig": "ViewConfig"
    }],
    TopUpModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0d8c0on4M5MVqwl8i51Pfo/", "TopUpModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/LocalStorage"),
            o = e("./RoleInfoModel"),
            a = e("../../engine/Logger"),
            s = e("./PrivilegeModel"),
            r = function() {
                function e() {}
                return e.saveToLocalStorage = function() {
                    var t = {};
                    for (var i in e)
                        "function" != typeof e[i] && (t[i] = e[i]);
                    var a = e.name + o.default.instance.roleId;
                    n.default.setItem("" + a, JSON.stringify(t)), this.initData()
                }, e.initData = function() {
                    var t = e.name + o.default.instance.roleId,
                        i = JSON.parse(n.default.getItem("" + t));
                    for (var a in i || (this.saveToLocalStorage(), i = n.default.getItem("" + t)), e)
                        "function" != typeof e[a] && (e[a] = i[a])
                }, e.getLostTimeRecycle = function() {
                    return a.Logger.log("getLostTimeRecycle===="), s.default.getRecoveryLeftDay()
                }, e.getLostTimeBattle = function() {
                    return a.Logger.log("getLostTimeBattle===="), s.default.getFightLeftDay()
                }, e.getLostFreeAdv = function() {
                    return a.Logger.log("getLostFreeAdv===="), s.default.getFreeLeftDay()
                }, e.proto2ModelList = function(e) {
                    var t = e.getShopIdListList();
                    this.chargeIdList = [];
                    for (var i = 0; i < t.length; i++)
                        this.chargeIdList[i] = t[i].getShopId();
                    a.Logger.log("chargeIdList======22=====", e, t, this.chargeIdList)
                }, e.hadCharge = function(e) {
                    return -1 != this.chargeIdList.indexOf(e)
                }, e.setCharge = function(e) {
                    -1 == this.chargeIdList.indexOf(e) && this.chargeIdList.push(e)
                }, e.chargeIdList = [], e
            }();
        i.TopUpModel = r, cc._RF.pop()
    }, {
        "../../engine/LocalStorage": "LocalStorage",
        "../../engine/Logger": "Logger",
        "./PrivilegeModel": "PrivilegeModel",
        "./RoleInfoModel": "RoleInfoModel"
    }],
    TopUpView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "48cd51w58pLfomOspgD6zf2", "TopUpView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/EventManager"),
            s = e("../../../engine/Logger"),
            r = e("../../../engine/UIManager"),
            l = e("../../../engine/ViewBase"),
            c = e("../../config/ChongZhiConfig"),
            g = e("../../config/ColorConfig"),
            f = e("../../config/DefaultConfig"),
            d = e("../../config/GameConst"),
            h = e("../../config/ITemsConfig"),
            u = e("../../config/ViewConfig"),
            p = e("../../event/CommonEvent"),
            m = e("../../model/ItemInfoModel"),
            C = e("../../model/PrivilegeModel"),
            v = e("../../model/RedDotModel"),
            _ = e("../../model/RoleInfoModel"),
            y = e("../../model/TopUpModel"),
            M = e("../../network/SocketClient"),
            I = e("../../prefab/ItemPrefab"),
            b = e("../../utils/MusicHelper"),
            L = e("./lngotsItem"),
            w = cc._decorator,
            S = w.ccclass,
            E = w.property,
            k = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.spriteFrameList = [], t.config = [], t.hadGetFirstGiftNode = null, t.spRed = null, t.btnFirst = null, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    r.default.instance.setTopUI(u.default.gameView.topUp), this.content = this.getChild(this.node, "panel/ScrollView/view/content"), this.pnlLngots = this.getChild(this.content, "lngotsView"), this.hadGetFirstGiftNode = this.findChild(this.node, "panel/ScrollView/view/content/firstPunch/hadGetFirstGiftNode"), this.hadGetFirstGiftNode.active = !1, this.spRed = this.findChild(this.node, "panel/ScrollView/view/content/firstPunch/spRed");
                    var e = this.getChild(this.content, "firstPunch");
                    this.btnFirst = this.getChild(e, "btnFirst"), this.btnFirst.on(cc.Node.EventType.TOUCH_END, this.onClickReward.bind(this)), this.xianshiView = this.findChild(this.content, "xianshiView"), this.xianshiRedDot = this.findChild(this.xianshiView, "xianshiRedNode"), this.xianshiRedDot.active = v.default.isXianShiRedDot, this.zhuzhanConfig = c.ChongZhiConfig.getConfigById(7), this.btnBuy1 = this.getChild(this.content, "helpGift/btnBuy"), this.onAddEvent(this.btnBuy1.getChildByName("btn_goumaitequan"), this.onBuyFree.bind(this)), this.onAddEvent(this.xianshiView.getChildByName("btnXianShi"), this.onClickXianShi.bind(this)), this.refreshReward(), this.initData(), this.initLngots(), this.registerEvent(), a.EventManager.instance.on(p.CommonEvent.Event_ChargeActivity, this.onChargeActivity, this), a.EventManager.instance.on(p.CommonEvent.Event_has_reward, this.refreshReward, this), a.EventManager.instance.on(d.EVENT_NAME.REFRESH_PRIVILEGE, this.onEventRefreshPrivilege, this)
                }, t.prototype.initZhuZhan = function() {
                    var e = 0;
                    for (var t in this.zhuzhanConfig.item) {
                        var i = this.content.getChildByName("helpGift").getChildByName("ItemPrefab" + e);
                        e++;
                        var n = h.ITemsConfig.getITemsConfigById(t),
                            o = m.default.create(d.GameConst.ITEM_KIND.ITEM, t, this.zhuzhanConfig.item[t], n.quality);
                        i.getComponent(I.default).init(o), this.onAddEvent(i, this.onClickTip.bind(this, o))
                    }
                    this.getChild(this.content, "helpGift/pnlLbl/lbl3", cc.Label).string = this.zhuzhanConfig.resource[2]
                }, t.prototype.onClickTip = function(e) {
                    s.Logger.log("onClickTip===="), r.default.instance.createView(u.default.gameView.ItemInfo, null, e, -1, !1)
                }, t.prototype.onBuyFree = function() {
                    M.default.req_charge(this.zhuzhanConfig.id)
                }, t.prototype.onChargeActivity = function() {
                    this.xianshiView.active = !1
                }, t.prototype.onClickXianShi = function() {
                    s.Logger.log("onClickXianShi"), v.default.isXianShiRedDot = !1, this.xianshiRedDot.active = v.default.isXianShiRedDot, r.default.instance.createView(u.default.gameView.DiscountView)
                }, t.prototype.onClickReward = function() {
                    M.default.req_get_first_rechard_info()
                }, t.prototype.refreshReward = function() {
                    this.spRed.active = !1, this.btnFirst.active = !1, this.btnFirst.color = g.ColorConfig.WhiteColor, this.spRed.active = !1, this.hadGetFirstGiftNode.active = !1, 1 == _.default.instance.has_reward ? (this.spRed.active = !0, this.btnFirst.active = !0, this.spRed.active = !0) : 0 == _.default.instance.has_reward ? (this.btnFirst.color = (new cc.Color).fromHEX("#717171"), this.btnFirst.active = !0) : 2 == _.default.instance.has_reward && (this.hadGetFirstGiftNode.active = !0)
                }, t.prototype.onClickSpEquip = function() {
                    b.MusicHelper.play_click();
                    var e = new m.default,
                        t = "";
                    _.default.instance.occupation == d.GameConst.OCCUPATION.FA_SHI ? t = "D000002" : _.default.instance.occupation == d.GameConst.OCCUPATION.ZHAN_SHI ? t = "D000001" : _.default.instance.occupation == d.GameConst.OCCUPATION.DAO_SHI && (t = "D000003"), e = m.default.createDingZhiEquip(t), s.Logger.log("onClickSpEquip========2==", e), r.default.instance.createView(u.default.gameView.equipInfo, null, e)
                }, t.prototype.initData = function() {
                    var e = this;
                    this.config.length = 0, c.ChongZhiConfig.configMap.forEach(function(t, i) {
                        (t.id >= 101 && t.id <= 107 || t.id >= 1101 && t.id <= 1107) && e.config.push(t)
                    });
                    var t = this.getChild(this.content, "firstPunch"),
                        i = this.getChild(t, "pnlSp/img_equip");
                    i.on(cc.Node.EventType.TOUCH_END, this.onClickSpEquip.bind(this)), i.getComponent(cc.Sprite).spriteFrame = this.spriteFrameList[_.default.instance.occupation - 1];
                    var n = f.DefaultConfig.getConfigById(13).value[_.default.instance.occupation + ""];
                    this.getChild(t, "pnlLbl/lbl2").getComponent(cc.Label).string = "x" + (n.gem ? n.gem : ""), this.getChild(t, "pnlLbl/lbl3").getComponent(cc.Label).string = "x" + (n.gold ? n.gold : ""), this.getChild(t, "pnlLbl/lbl4").getComponent(cc.Label).string = "x" + (n.recov_cream ? n.recov_cream : "");
                    var o = this.content.getChildByName("helpGift"),
                        a = this.getChild(o, "btnBuy"),
                        r = this.getChild(o, "pnlSp");
                    s.Logger.log("PrivilegeModel.hadFreePrivilege(===", C.default.hadFreePrivilege()), C.default.hadFreePrivilege() ? (s.Logger.log("hadFreePrivilege========="), a.getChildByName("btn_goumaitequan").active = !1, a.getChildByName("img_yigoumai").active = !0, r.getChildByName("img_bimai").active = !1, r.getChildByName("img_jihuo").active = !0, o.zIndex = 1) : (a.getChildByName("btn_goumaitequan").active = !0, a.getChildByName("img_yigoumai").active = !1, r.getChildByName("img_bimai").active = !0, r.getChildByName("img_jihuo").active = !1);
                    var l = this.getChild(this.content, "recycle"),
                        g = this.getChild(l, "btnBuy"),
                        d = this.getChild(l, "pnlSp"),
                        h = this.getChild(l, "pnlLbl/lblDay", cc.RichText);
                    C.default.hadRecoveryPrivilege() ? (g.getChildByName("btn_goumaitequan").active = !1, g.getChildByName("btn_xufeitequan").active = !0, d.getChildByName("img_bimai").active = !1, d.getChildByName("img_jihuo").active = !0, h.node.active = !0, h.string = "<color=#ffffff>\u5269\u4f59\u65f6\u95f4\uff1a</c><color=#00ff00>" + y.TopUpModel.getLostTimeRecycle() + "</color><color=#ffffff>\u5929</color>") : (s.Logger.log("hadRecoveryPrivilege====="), g.getChildByName("btn_goumaitequan").active = !0, g.getChildByName("btn_xufeitequan").active = !1, d.getChildByName("img_bimai").active = !0, d.getChildByName("img_jihuo").active = !1, h.node.active = !1);
                    var u = this.getChild(this.content, "battle"),
                        p = this.getChild(u, "btnBuy"),
                        m = this.getChild(u, "pnlSp"),
                        v = this.getChild(u, "pnlLbl/lblDay", cc.RichText);
                    C.default.hadFightGodPrivilege() ? (p.getChildByName("btn_goumaitequan").active = !1, p.getChildByName("btn_xufeitequan").active = !0, m.getChildByName("img_bimai").active = !1, m.getChildByName("img_jihuo").active = !0, v.node.active = !0, v.string = "<color = ffffff>\u5269\u4f59\u65f6\u95f4: <color=#0CFF00>" + y.TopUpModel.getLostTimeBattle() + "</color><color=#ffffff>\u5929</color>") : (p.getChildByName("btn_goumaitequan").active = !0, p.getChildByName("btn_xufeitequan").active = !1, m.getChildByName("img_bimai").active = !0, m.getChildByName("img_jihuo").active = !1, v.node.active = !1), this.initZhuZhan()
                }, t.prototype.initLngots = function() {
                    var e = this;
                    cc.loader.loadRes("prefab/topUp/lngots", cc.Prefab, function(t, i) {
                        e.lngotsPrefab = i, e.pnlLngots.removeAllChildren();
                        var n = e.config,
                            o = 0;
                        cc.sys.os != cc.sys.OS_IOS && cc.sys.os != cc.sys.OS_OSX || (o = 7);
                        for (var a = o; a <= o + 6; a++) {
                            var r = cc.instantiate(e.lngotsPrefab);
                            s.Logger.log("initLngots====", a, n[a]), n[a].needShow && (r.name = "" + e.lngotsPrefab.name + a, r.getComponent(L.default).init(e, n[a], a), e.pnlLngots.addChild(r))
                        }
                    })
                }, t.prototype.registerEvent = function() {
                    var e = this.getChild(this.content, "recycle/btnBuy"),
                        t = this.getChild(this.content, "battle/btnBuy");
                    this.onAddEvent(e, this.onBuyrecycle.bind(this)), this.onAddEvent(t, this.onBuybattle.bind(this))
                }, t.prototype.onEventRefreshPrivilege = function() {
                    this.initData()
                }, t.prototype.onFirst = function() {
                    b.MusicHelper.play_click(), s.Logger.log("\u70b9\u51fb\u9886\u53d6======")
                }, t.prototype.onBuyrecycle = function() {
                    b.MusicHelper.play_click(), r.default.instance.createView(u.default.gameView.GamePrivilege, null, C.default.Privilege_Type.recovery)
                }, t.prototype.onBuybattle = function() {
                    b.MusicHelper.play_click(), r.default.instance.createView(u.default.gameView.GamePrivilege, null, C.default.Privilege_Type.FightGod)
                }, t.prototype.onClose = function() {
                    r.default.instance.closeView(u.default.gameView.topUp)
                }, o([E({
                    type: [cc.SpriteFrame]
                })], t.prototype, "spriteFrameList", void 0), t = o([S], t)
            }(l.default);
        i.default = k, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/DefaultConfig": "DefaultConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/PrivilegeModel": "PrivilegeModel",
        "../../model/RedDotModel": "RedDotModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/TopUpModel": "TopUpModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../utils/MusicHelper": "MusicHelper",
        "./lngotsItem": "lngotsItem"
    }],
    UIHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "bf86e8InPZGZYyCrxNyW1JT", "UIHelper"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/UIManager"),
            o = e("../config/ColorConfig"),
            a = e("../config/GameConst"),
            s = e("../config/ViewConfig"),
            r = e("../model/RoleInfoModel"),
            l = e("../config/MapConfig"),
            c = e("../config/JingJieConfig"),
            g = e("../model/JingJieModel"),
            f = function() {
                function e() {
                    this.name = "", this.count = 0, this.quality = 0
                }
                return e.create = function(t, i, n) {
                    void 0 === i && (i = 0), void 0 === n && (n = 0);
                    var o = new e;
                    return o.name = t, o.count = i, o.quality = n, o
                }, e
            }();
        i.TipsItem = f;
        var d = function() {
            function e() {}
            return e.showCoinNoEnough = function() {
                n.default.instance.createView(s.default.gameView.buyMoney)
            }, e.showTip = function(e, t, i, o) {
                void 0 === t && (t = 1), void 0 === i && (i = cc.Color.WHITE), void 0 === o && (o = cc.v2(0, 100)), n.default.instance.createView(s.default.gameView.tip, null, e, t, i, o)
            }, e.tranNumber = function(e) {
                var t = e.toString();
                if (t.length < 6)
                    return t;
                if (t.length < 9) {
                    var i,
                        n;
                    n = (n = 4 - (i = Math.floor(e / 1e4)).toString().length) > 0 ? n : 0;
                    var o = t.substring(t.length - 4, t.length - 4 + n);
                    return parseFloat(i + "." + o) + "\u4e07"
                }
                n = (n = 4 - (i = Math.floor(e / 1e8)).toString().length) > 0 ? n : 0;
                o = t.substring(t.length - 8, t.length - 8 + n);
                return parseFloat(i + "." + o) + "\u4ebf"
            }, e.toFixStr = function(e, t) {
                void 0 === t && (t = 2);
                var i = "",
                    n = e.toFixed(t).split(".");
                i = n[0];
                for (var o = n[1], a = o.length - 1; a >= 0; a--)
                    a == o.length - 1 && "0" == o[a] && (o = o.substr(0, o.length - 1));
                return o.length > 0 && (i = i + "." + o), i
            }, e.formatName = function(e) {
                switch (e.length) {
                case 1:
                case 2:
                case 3:
                    return e;
                case 4:
                case 5:
                    return e.slice(0, 2) + "\n" + e.slice(2);
                case 6:
                    return e.slice(0, 3) + "\n" + e.slice(3)
                }
            }, e.showGetItemsTips = function(e, t) {
                void 0 === t && (t = null), this.showTip(t, 2, cc.Color.WHITE, cc.v2(0, 300));
                for (var i = 0; i < e.length; i++) {
                    var n = e[i].name + "x" + e[i].count;
                    this.showTip(n, 2, o.ColorConfig.getQualityColor(e[i].quality), cc.v2(0, 300))
                }
            }, e.formatPart = function(e, t) {
                e.string = a.GameConst.getEquipPositionName(t)
            }, e.formatRoleLevel = function(e, t) {
                t.world == l.MapConfig.WORLD.FanRen ? e.string = t.level + "\u7ea7" : t.world == l.MapConfig.WORLD.LunHui && (e.string = c.JingJieConfig.JingJieNameConfig[t.world - 1][t.reborn]), t.world == l.MapConfig.WORLD.FanRen && r.default.instance.level >= t.level ? e.node.color = cc.Color.WHITE : t.world == l.MapConfig.WORLD.LunHui && g.JingJieModel.getMyLunHuiJingLevel() >= t.reborn ? e.node.color = cc.Color.WHITE : e.node.color = o.ColorConfig.RedColor
            }, e.formatRoleOccupation = function(e, t) {
                t == r.default.instance.occupation || t == a.GameConst.OCCUPATION.None ? e.node.color = cc.Color.WHITE : e.node.color = o.ColorConfig.RedColor, e.string = a.GameConst.OccupationNameMap.get(t)
            }, e.formatQuality = function(e, t) {
                e.string = a.QualityName[t], e.node.color = o.ColorConfig.getQualityColor(t)
            }, e
        }();
        i.UIHelper = d, cc._RF.pop()
    }, {
        "../../engine/UIManager": "UIManager",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConst": "GameConst",
        "../config/JingJieConfig": "JingJieConfig",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/JingJieModel": "JingJieModel",
        "../model/RoleInfoModel": "RoleInfoModel"
    }],
    UIManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "776f2wi01VJrasOpoc4E/mH", "UIManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./ResourcesManager"),
            o = e("./ViewBase"),
            a = e("./Logger"),
            s = e("../game/config/ViewConfig"),
            r = e("./DateUtil"),
            l = function() {
                function e() {
                    this.uiList = new Map, this.cdList = new Map
                }
                return e.prototype.init = function(e) {
                    this.baseRoot = e.getChildByName("baseRoot"), this.topRoot = e.getChildByName("topRoot"), this.loadingIcon = e.getChildByName("loadingIcon"), setInterval(this.checkCd.bind(this), 6e4)
                }, e.prototype.showLoadingIcon = function(e) {
                    void 0 === e && (e = !0), this.loadingIcon.active = !0, this.loadingIcon.getChildByName("icon").active = e
                }, e.prototype.hideLoadingIcon = function() {
                    this.loadingIcon.active = !1
                }, e.prototype.checkCd = function() {
                    var e = this,
                        t = r.default.now();
                    this.cdList.forEach(function(i, n) {
                        t - i >= 12e4 && n != s.default.gameView.bag && n != s.default.gameView.skill && (cc.loader.release(n), e.cdList.delete(n))
                    })
                }, e.prototype.createView = function(e, t) {
                    for (var i = this, l = [], c = 2; c < arguments.length; c++)
                        l[c - 2] = arguments[c];
                    a.Logger.log("createView", e), this.cdList.set(e, r.default.now()), this.uiList.has(e) || (e != s.default.gameView.tip && this.uiList.set(e, new o.default), n.default.instance.addTaskPrefab(e, function(n) {
                        var a = cc.instantiate(n),
                            s = a.getComponent(o.default);
                        s ? (console.log("createView suc", e), i.uiList.set(e, s), s.viewPath = e, a.parent = i.baseRoot, a.setPosition(0, 0), s.onInitBase.apply(s, [e].concat(l)), s.onShow(), t && t(), i.hideLoadingIcon()) : console.warn(e, "\u6ca1\u6709\u6dfb\u52a0ViewBase\u7ec4\u4ef6")
                    }, this))
                }, e.prototype.setTopUI = function(e) {
                    if (this.uiList.has(e)) {
                        var t = this.uiList.get(e).node;
                        this.uiList.get(e).node.parent = this.topRoot, t.setSiblingIndex(t.parent.childrenCount - 1)
                    }
                }, e.prototype.isOpen = function(e) {
                    return this.uiList.has(e)
                }, e.prototype.closeView = function(e) {
                    this.uiList.has(e) && this.uiList.get(e).closeView()
                }, e.prototype.onCloseView = function(e) {
                    (console.log("\u5173\u95ed\u9875\u9762", e), this.uiList.has(e)) && (this.uiList.get(e).onHide(), this.uiList.delete(e))
                }, e.prototype.closeAllView = function() {
                    a.Logger.log("closeAllView"), this.baseRoot.removeAllChildren(), this.topRoot.removeAllChildren(), this.cdList.clear(), this.uiList.clear()
                }, e.instance = new e, e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "../game/config/ViewConfig": "ViewConfig",
        "./DateUtil": "DateUtil",
        "./Logger": "Logger",
        "./ResourcesManager": "ResourcesManager",
        "./ViewBase": "ViewBase"
    }],
    Uint8ArrayHelper: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "a6e1fgU9x1H14GZOMd68h+V", "Uint8ArrayHelper");
        var n = this && this.__decorate || function(e, t, i, n) {
            var o,
                a = arguments.length,
                s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
            if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                s = Reflect.decorate(e, t, i, n);
            else
                for (var r = e.length - 1; r >= 0; r--)
                    (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
            return a > 3 && s && Object.defineProperty(t, i, s), s
        };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./Logger"),
            a = cc._decorator,
            s = a.ccclass,
            r = (a.property, function() {
                function e() {}
                return e.intToUint8Array = function(e) {
                    var t = new ArrayBuffer(4);
                    return new DataView(t).setInt32(0, e, !0), new Uint8Array(t)
                }, e.boolToUint8Array = function(e) {
                    var t = new ArrayBuffer(1),
                        i = new DataView(t);
                    return e ? i.setInt8(0, 1) : i.setInt8(0, 0), new Uint8Array(t)
                }, e.floatToUint8Array = function(e) {
                    var t = new ArrayBuffer(4);
                    return new DataView(t).setFloat32(0, e, !0), new Uint8Array(t)
                }, e.doubleToUint8Array = function(e) {
                    var t = new ArrayBuffer(8);
                    return new DataView(t).setFloat64(0, e, !0), new Uint8Array(t)
                }, e.uint8ArrayToInt = function(e) {
                    var t = new Uint32Array(1);
                    return t[0] = (255 & e[3]) << 24, t[0] = t[0] | (255 & e[2]) << 16, t[0] = t[0] | (255 & e[1]) << 8, t[0] = t[0] | 255 & e[0], t[0]
                }, e.uint8ArrayToBool = function(e) {
                    return 1 == this.uint8ArrayToInt(e)
                }, e.longFrom8Bytes = function(e) {
                    for (var t = 0, i = 0; i < 8; ++i) {
                        var n = i;
                        t |= 255 << n & e[i] << n
                    }
                    return t
                }, e.arrayBufferToBigInt64 = function(e) {}, e.arrayBufferToFloat = function(e) {
                    return new DataView(e).getFloat32(0, !0)
                }, e.arrayBufferToDouble = function(e) {
                    return new DataView(e).getFloat64(0, !0)
                }, e.stringToUint8Array = function(e) {
                    for (var t = 2 * e.length, i = new Uint8Array(t), n = 0; n < e.length; n++) {
                        var o = e.charCodeAt(n),
                            a = this.intToUint8Array(o);
                        i.set(a.subarray(0, 2), 2 * n)
                    }
                    return i
                }, e.uint8ArrayToString = function(e, t) {
                    void 0 === t && (t = !1);
                    var i = "";
                    t && o.Logger.log("uint8ArrayToString=11==", i, e.length);
                    for (var n = 0; n < e.length;) {
                        var a = this.uint8ArrayToInt(e.subarray(n, n + 2)),
                            s = String.fromCharCode(a);
                        t && o.Logger.log("uint8ArrayToString==22=", a, s, n), 0 != a && (i += s), n += 2
                    }
                    return t && o.Logger.log("uint8ArrayToString==res=", i), i
                }, e = n([s], e)
            }());
        i.default = r, cc._RF.pop()
    }, {
        "./Logger": "Logger"
    }],
    UserInfoView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f28a1ptV+ZJBZQm2d3zwfN8", "UserInfoView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = e("../../engine/EventManager"),
            r = e("../../engine/UIManager"),
            l = e("../config/GameConfig"),
            c = e("../config/GameConst"),
            g = e("../config/HeroConfig"),
            f = e("../config/ViewConfig"),
            d = e("../event/CommonEvent"),
            h = e("../model/EquipGridModel"),
            u = e("../model/JingJieModel"),
            p = e("../model/RoleInfoModel"),
            m = e("../prefab/ItemPrefab"),
            C = e("../utils/MusicHelper"),
            v = e("../utils/UIHelper"),
            _ = e("../model/FightModel"),
            y = e("../../engine/Logger"),
            M = e("../config/MapConfig"),
            I = e("../config/WordConfig"),
            b = cc._decorator,
            L = b.ccclass,
            w = (b.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.txtExp = null, t.gridNodeList = [], t.curSelect = 0, t.btnJingJieList = [], t.gridOffest = 100, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), this.roleNode = this.getChild(this.node, "role"), this.infoNode = this.getChild(this.node, "info"), this.btnGm = this.roleNode.getChildByName("btnGm"), l.GameConfig.environment == l.EnvironmentType.Test ? (this.btnGm.active = !0, this.btnGm.on(cc.Node.EventType.TOUCH_END, this.onClickGm.bind(this))) : this.btnGm.active = !1, this.getChild(this.node, "role/btnInfo").off(cc.Node.EventType.TOUCH_END, this.onShowInfo.bind(this)), this.getChild(this.node, "role/btnInfo").on(cc.Node.EventType.TOUCH_END, this.onShowInfo.bind(this)), this.getChild(this.node, "info/btnRole").off(cc.Node.EventType.TOUCH_END, this.onShowRole.bind(this)), this.getChild(this.node, "info/btnRole").on(cc.Node.EventType.TOUCH_END, this.onShowRole.bind(this)), this.getChild(this.node, "exp/btnUpLevel").off(cc.Node.EventType.TOUCH_END, this.onClickLevelUp.bind(this)), this.getChild(this.node, "exp/btnUpLevel").on(cc.Node.EventType.TOUCH_END, this.onClickLevelUp.bind(this)), this.txtExp = this.getChild(this.node, "exp/txtExp", cc.Label), this.txtLevel = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtLevel", cc.Label), this.txtRoleType = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtRoleType", cc.Label), this.txtTotalFight = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtTotalFight", cc.Label), this.txtJingJie = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtJingJie", cc.Label), this.txtFanRenZhiLi = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtFanRenZhiLi", cc.Label), this.txtLunHuiZhiLi = this.getChild(this.node, "info/scrollview/view/content/baseNode/txtLunHuiZhiLi", cc.Label), this.txtLife = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtLife", cc.Label), this.txtFaLi = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtFaLi", cc.Label), this.txtAttack = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtAttack", cc.Label), this.txtMoFa = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtMoFa", cc.Label), this.txtDaoShu = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtDaoShu", cc.Label), this.txtDefend = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtDefend", cc.Label), this.txtSpeed = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtSpeed", cc.Label), this.txtLucky = this.getChild(this.node, "info/scrollview/view/content/fightNode/txtLucky", cc.Label), this.txtGuDingShangHai = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtGuDingShangHai", cc.Label), this.txtGuDingJianShang = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtGuDingJianShang", cc.Label), this.txtShangHaiZengJia = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtShangHaiZengJia", cc.Label), this.txtShangHaiJianMian = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtShangHaiJianMian", cc.Label), this.txtShengMingXiQu = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtShengMingXiQu", cc.Label), this.txtFaLiXiQu = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtFaLiXiQu", cc.Label), this.txtJiPinGaiLv = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtJiPinGaiLv", cc.Label), this.txtZhuangBeiDiaoLv = this.getChild(this.node, "info/scrollview/view/content/specialNode/txtZhuangBeiDiaoLv", cc.Label), this.txtpetspeed = this.findChild(this.node, "info/scrollview/view/content/specialNode/txtpetspeed"), this.txtpetdamage = this.findChild(this.node, "info/scrollview/view/content/specialNode/txtpetdamage"), this.txtpetdamage_p = this.findChild(this.node, "info/scrollview/view/content/specialNode/txtpetdamage_p"), this.txtignoredef_p = this.findChild(this.node, "info/scrollview/view/content/specialNode/txtignoredef_p"), this.gridNodeList = [];
                    for (var t = 0; t < 10; t++)
                        this.gridNodeList[t] = this.node.getChildByName("" + t), this.gridNodeList[t].on(cc.Node.EventType.TOUCH_END, this.onSelectGrid.bind(this, t));
                    for (t = 0; t < 2; t++)
                        this.btnJingJieList[t] = this.node.getChildByName("btnJingJie" + t), this.btnJingJieList[t].on(cc.Node.EventType.TOUCH_END, this.onClickJingJie.bind(this, t));
                    this.infoNode.getChildByName("btnIntro").on(cc.Node.EventType.TOUCH_END, this.onClickIntro.bind(this)), M.MapConfig.curJingJieIndex = M.MapConfig.curMapConfig.world == M.MapConfig.WORLD.FanRen ? 0 : 1
                }, t.prototype.onClickIntro = function() {
                    C.MusicHelper.play_click(), r.default.instance.createView(f.default.gameView.introduce)
                }, t.prototype.onEnable = function() {
                    var e = this;
                    s.EventManager.instance.on(d.CommonEvent.Event_JingJie_Change, function(t) {
                        M.MapConfig.curJingJieIndex = t - 1, e.refreshJingJie()
                    }, this), s.EventManager.instance.on(d.CommonEvent.Event_userinfoViewSwitch, this.onSwitchTab, this), s.EventManager.instance.on(d.CommonEvent.Event_UserInfoRefresh, this.refreshInfo, this), this.refreshInfo(), this.refreshSelect(), this.onShowInfo(), this.refreshJingJie()
                }, t.prototype.onShow = function() {}, t.prototype.onClickJingJie = function(e) {
                    C.MusicHelper.play_click(), y.Logger.log("onClickJingJie===", e), u.JingJieModel.hadOpenJingJie(e + 1) ? (M.MapConfig.curJingJieIndex = e, this.refreshJingJie(), this.refreshInfo()) : v.UIHelper.showTip("\u8f6e\u56de\u5883\u5f00\u542f\u540e\u5f00\u653e\u8f6e\u56de\u88c5\u5907!")
                }, t.prototype.refreshJingJie = function() {
                    for (var e = 0; e < this.btnJingJieList.length; e++) {
                        var t = this.btnJingJieList[e].getChildByName("selectNode"),
                            i = this.btnJingJieList[e].getChildByName("noSelectNode");
                        M.MapConfig.curJingJieIndex == e ? (t.active = !0, i.active = !1) : (t.active = !1, i.active = !0)
                    }
                }, t.prototype.onClickGm = function() {
                    r.default.instance.createView(f.default.gameView.GmView)
                }, t.prototype.onShowInfo = function() {
                    this.roleNode.active = !1, this.infoNode.active = !0
                }, t.prototype.onShowRole = function() {
                    this.roleNode.active = !0, this.infoNode.active = !1
                }, t.prototype.onClickLevelUp = function() {
                    C.MusicHelper.play_click();
                    var e = g.HeroConfig.getMaxExp(p.default.instance.occupation, p.default.instance.level);
                    y.Logger.log("onClickLevelUp==", e), e > 0 ? p.default.instance.levelUp() : I.WordConfig.showWord(60148)
                }, t.prototype.onSwitchTab = function() {
                    this.curSelect = 0, this.refreshInfo()
                }, t.prototype.refreshInfo = function() {
                    var e = g.HeroConfig.getMaxExp(p.default.instance.occupation, p.default.instance.level);
                    this.txtExp.string = v.UIHelper.tranNumber(p.default.instance.getExp()) + "/" + v.UIHelper.tranNumber(e), this.txtRoleType.string = c.GameConst.OccupationNameMap.get(p.default.instance.occupation), this.txtLevel.string = p.default.instance.level + "", this.txtTotalFight.string = _.default.totalFight + "", this.txtJingJie.string = u.JingJieModel.getJingJieName(), this.txtFanRenZhiLi.string = _.default.getFanRenZhiLi() + "", this.txtLunHuiZhiLi.string = _.default.getLunHuiZhiLi() + "", this.txtLife.string = p.default.instance.getMaxHp() + "", this.txtFaLi.string = p.default.instance.getMaxMp() + "", this.txtAttack.string = p.default.instance.getAttack() + "", this.txtMoFa.string = p.default.instance.getMofa() + "", this.txtDaoShu.string = p.default.instance.getDaoShu() + "", this.txtDefend.string = p.default.instance.getDefend() + "", this.txtSpeed.string = v.UIHelper.toFixStr(p.default.instance.getAttackSpeed() / 1e3) + "/s", this.txtLucky.string = p.default.instance.getLucky() + "", this.txtGuDingShangHai.string = p.default.instance.getGuDingShangHai() + "", this.txtGuDingJianShang.string = p.default.instance.getGuDingJianShang() + "", this.txtShangHaiZengJia.string = v.UIHelper.toFixStr(100 * p.default.instance.getShangHaiZengJia()) + "%", this.txtShangHaiJianMian.string = v.UIHelper.toFixStr(100 * p.default.instance.getShangHaiJianMian()) + "%", this.txtShengMingXiQu.string = p.default.instance.getShengMingXiQu() + "", this.txtFaLiXiQu.string = p.default.instance.getFaLiXiQu() + "", this.txtJiPinGaiLv.string = v.UIHelper.toFixStr(100 * p.default.instance.getJinPiGaiLv()) + "%", this.txtZhuangBeiDiaoLv.string = v.UIHelper.toFixStr(100 * p.default.instance.getZhuangBeiDiaoLv()) + "%", this.txtpetspeed.active = p.default.instance.getpetspeed() > 0, this.txtpetspeed.getComponent(cc.Label).string = 1 + p.default.instance.getpetspeed() / 1e3 + "/s", this.txtpetdamage.active = p.default.instance.getpetdamage() > 0, this.txtpetdamage.getComponent(cc.Label).string = v.UIHelper.toFixStr(p.default.instance.getpetdamage()), this.txtpetdamage_p.active = p.default.instance.getpetdamage_p() > 0, this.txtpetdamage_p.getComponent(cc.Label).string = v.UIHelper.toFixStr(100 * p.default.instance.getpetdamage_p()) + "%", this.txtignoredef_p.active = p.default.instance.getignoredef_p() > 0, this.txtignoredef_p.getComponent(cc.Label).string = v.UIHelper.toFixStr(100 * p.default.instance.getignoredef_p()) + "%";
                    for (var t = 0; t < this.gridNodeList.length; t++) {
                        var i = this.gridNodeList[t],
                            n = i.getChildByName("add").getComponent(cc.Label),
                            o = i.getChildByName("contetn"),
                            a = i.getChildByName("no"),
                            s = this.gridOffest * M.MapConfig.curJingJieIndex + t + 1,
                            r = p.default.instance.getEquipModelByGrid(s),
                            l = h.EquipGridModel.getEquipGridModel(t + 1);
                        l && l.strengthenNum > 0 ? (n.node.active = !0, n.string = "+" + l.strengthenNum) : n.node.active = !1, r ? (o.active = !0, a.active = !1, o.getComponent(m.default).init(r)) : (o.active = !1, a.active = !0)
                    }
                    this.refreshSelect()
                }, t.prototype.onSelectGrid = function(e) {
                    if (this.curSelect = parseInt(e), C.MusicHelper.play_click(), this.refreshSelect(), 0 == i.panelIndex) {
                        var t = this.gridOffest * M.MapConfig.curJingJieIndex + e + 1,
                            n = p.default.instance.getEquipModelByGrid(t);
                        n && r.default.instance.createView(f.default.gameView.equipInfo, null, n)
                    } else
                        1 == i.panelIndex && s.EventManager.instance.dispatch(d.CommonEvent.Event_StrengthSwitch, e)
                }, t.prototype.refreshSelect = function() {
                    for (var e = 0; e < this.gridNodeList.length; e++) {
                        var t = this.gridNodeList[e].getChildByName("select");
                        this.curSelect == e && 1 == i.panelIndex ? t.active = !0 : t.active = !1
                    }
                }, t.prototype.onDestroy = function() {
                    e.prototype.onDestroy.call(this)
                }, t.panelIndex = 0, t = i = o([L], t)
            }(a.default));
        i.default = w, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/HeroConfig": "HeroConfig",
        "../config/MapConfig": "MapConfig",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/EquipGridModel": "EquipGridModel",
        "../model/FightModel": "FightModel",
        "../model/JingJieModel": "JingJieModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../prefab/ItemPrefab": "ItemPrefab",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    VersionManager: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "247d9eJfahODpTboAQai8HW", "VersionManager"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("./Logger"),
            o = e("./EventManager"),
            a = e("./HotUpdate"),
            s = e("./ManifestConfig"),
            r = e("./DateUtil"),
            l = function() {
                function e() {
                    this.iosStoreUrl = "", this.apkStoreUrl = "", this.nowVersion = "1.0.10", this.targetVersion = "1.0.0", this.isOpenHotUpdate = !0, this.hotUpdateList = [], this.writablePath = "", this.noUpdateIndex = -1
                }
                return e.prototype.init = function() {
                    this.reInitAll()
                }, e.prototype.reInitAll = function() {
                    this.releaseAll();
                    for (var t = 0; t < e.Config_Key.length; t++)
                        this.reInit(t)
                }, e.prototype.releaseAll = function() {
                    for (var t = 0; t < e.Config_Key.length; t++)
                        this.hotUpdateList[t] && this.hotUpdateList[t].disposeUpdate()
                }, e.prototype.reInit = function(t) {
                    this.hotUpdateList[t] || (this.hotUpdateList[t] = new a.default), this.hotUpdateList[t].init(t, e.Config_Key[t], e.Config_ManifestName), this.isOpenHotUpdate || (this.hotUpdateList[t].isCheck = !0, this.hotUpdateList[t].isFinishUpdate = !0)
                }, e.prototype.reSetHotUpdateUrl = function(t) {
                    if (void 0 === t && (t = !0), cc.sys.isNative) {
                        for (var i = 0; i < e.Config_Key.length; i++) {
                            var r;
                            this.writablePath = jsb.fileUtils.getWritablePath();
                            var l = this.writablePath + "" + e.Config_Key[i] + "/";
                            jsb.fileUtils.isDirectoryExist(l) ? n.Logger.log("mulu \u5df2\u5b58\u5728====", l) : (jsb.fileUtils.createDirectory(l), n.Logger.log("mulu \u4e0d\u5b58\u5728====", l)), r = l + "project.manifest", n.Logger.log("projectManifestPath===", r);
                            var c,
                                g = {};
                            if (jsb.fileUtils.isFileExist(r)) {
                                var f = jsb.fileUtils.getStringFromFile(r);
                                try {
                                    g = JSON.parse(f)
                                } catch (e) {
                                    (g = {}).version = "1.0.0"
                                }
                                n.Logger.log("nowVersion222===", g.version), n.Logger.log("reSetHotUpdateUrl \u8bfb\u53d6\u70ed\u66f4\u6587\u4ef6======" + r)
                            } else {
                                var d = e.Config_Url_Key[i];
                                n.Logger.log("tempKey======", d);
                                f = s.default.getManifestStr(d);
                                g = JSON.parse(f), n.Logger.log("reSetHotUpdateUrl \u8bfb\u53d6\u672c\u5730\u6bcd\u5305\u6587\u4ef6======", f);
                                var h = g.version;
                                g.version = h, n.Logger.log("\u6bcd\u5305version===", g.version), n.Logger.log("reSetHotUpdateUrl \u8bfb\u53d6\u672c\u5730\u6bcd\u5305\u6587\u4ef6222======", g.remoteVersionUrl), n.Logger.log("reSetHotUpdateUrl \u8bfb\u53d6\u672c\u5730\u6bcd\u5305\u6587\u4ef6333======", g.remoteManifestUrl)
                            }
                            c = JSON.stringify(g), jsb.fileUtils.writeStringToFile(c, r), n.Logger.log("reSetHotUpdateUrl projectmainfest packageUrl====", g.packageUrl), n.Logger.log("reSetHotUpdateUrl projectmainfest remoteVersionUrl====", g.remoteVersionUrl), n.Logger.log("reSetHotUpdateUrl projectmainfest remoteManifestUrl====", g.remoteManifestUrl), n.Logger.log("realVersion====", g.version), jsb.fileUtils.isFileExist(r) ? n.Logger.log("\u91cd\u5199\u672c\u5730\u7248\u672c\u6587\u4ef6\u6210\u529f") : n.Logger.log("\u91cd\u5199\u672c\u5730\u7248\u672c\u6587\u4ef6\u4e0d\u6210\u529f")
                        }
                        t && (this.reInitAll(), o.EventManager.instance.dispatch(a.default.Event_CheckUpdate))
                    }
                }, e.prototype.checkUpdate = function(t) {
                    if (cc.sys.platform !== cc.sys.WECHAT_GAME) {
                        if (cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX) {
                            var i = new Date(1990, 1, 1),
                                n = new Date(2020, 6, 5);
                            r.default.getLeftDay(n.getTime());
                            if (r.default.betweenTime(i.getTime(), n.getTime()))
                                return void o.EventManager.instance.dispatch(a.default.Event_On_ALREADY_UP_TO_DATE, e.Config_Key[t])
                        }
                        if (t < this.hotUpdateList.length) {
                            var s = this.hotUpdateList[t];
                            cc.sys.isNative ? t == this.noUpdateIndex ? (s.isCheck = !0, s.isFinishUpdate = !0, o.EventManager.instance.dispatch(a.default.Event_On_ALREADY_UP_TO_DATE, e.Config_Key[t])) : s.checkUpdate() : (s.isCheck = !0, s.isFinishUpdate = !0, o.EventManager.instance.dispatch(a.default.Event_On_ALREADY_UP_TO_DATE, e.Config_Key[t]))
                        } else
                            o.EventManager.instance.dispatch(a.default.Event_On_ALREADY_UP_TO_DATE, e.Config_Key[t])
                    } else
                        o.EventManager.instance.dispatch(a.default.Event_On_ALREADY_UP_TO_DATE, e.Config_Key[t])
                }, e.prototype.startUpdate = function(e) {
                    this.hotUpdateList[e].startUpdate()
                }, e.prototype.isCheck = function(e) {
                    if (e < this.hotUpdateList.length) {
                        var t = this.hotUpdateList[e];
                        return e == this.noUpdateIndex || t.isCheck
                    }
                    return !0
                }, e.prototype.needUpdate = function(e) {
                    if (e < this.hotUpdateList.length) {
                        var t = this.hotUpdateList[e];
                        return e != this.noUpdateIndex && t.needUpdate
                    }
                    return !1
                }, e.prototype.isUpdating = function(e) {
                    return e < this.hotUpdateList.length && this.hotUpdateList[e].isUpdating
                }, e.prototype.isFinishUpdate = function(e) {
                    if (e < this.hotUpdateList.length) {
                        var t = this.hotUpdateList[e];
                        return e == this.noUpdateIndex || t.isFinishUpdate
                    }
                    return !0
                }, e.instance = new e, e.Config_Game_Name = ["\u6e38\u620f"], e.Config_Key = ["main-remote-asset"], e.Config_ManifestName = "project.manifest", e.Config_Url_Key = ["main"], e
            }();
        i.default = l, cc._RF.pop()
    }, {
        "./DateUtil": "DateUtil",
        "./EventManager": "EventManager",
        "./HotUpdate": "HotUpdate",
        "./Logger": "Logger",
        "./ManifestConfig": "ManifestConfig"
    }],
    ViewBase: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "8e7e7rUYe5L1YJ326tz/SLE", "ViewBase");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a,
            s = e("../game/event/CommonEvent"),
            r = e("./ComponentBase"),
            l = e("./EventManager"),
            c = e("./UIManager"),
            g = e("../game/utils/MusicHelper");
        (function(e) {
            e[e.none = 0] = "none", e[e.fadeIn = 1] = "fadeIn", e[e.scaleX = 2] = "scaleX", e[e.scaleY = 3] = "scaleY", e[e.top = 4] = "top", e[e.scale = 5] = "scale"
        })(a || (a = {}));
        var f = cc._decorator,
            d = f.ccclass,
            h = f.property,
            u = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.aniType = a.none, t.viewPath = null, t
                }
                return n(t, e), t.prototype.onInitBase = function(e) {
                    for (var t = this, i = [], n = 1; n < arguments.length; n++)
                        i[n - 1] = arguments[n];
                    this.viewUrl = e, this.showAni(), l.EventManager.instance.on(s.CommonEvent.Event_SocketRespMsg, this.onSocketRespMsg, this), l.EventManager.instance.on(s.CommonEvent.Event_UserInfoRefresh, this.onUserInfoRefresh, this);
                    var o = this.node.getChildByName("darkLayer");
                    o && o.on(cc.Node.EventType.TOUCH_END, function() {
                        g.MusicHelper.play_click(), t.closeView()
                    });
                    var a = this.node.getChildByName("btnClose");
                    a && a.on(cc.Node.EventType.TOUCH_END, function() {
                        g.MusicHelper.play_click(), t.closeView()
                    }), this.onInitChild.apply(this, i)
                }, t.prototype.onInitChild = function() {
                    for (var e = [], t = 0; t < arguments.length; t++)
                        e[t] = arguments[t]
                }, t.prototype.onShow = function() {}, t.prototype.onHide = function() {}, t.prototype.onSocketRespMsg = function(e, t) {}, t.prototype.onUserInfoRefresh = function() {}, t.prototype.setTopUI = function() {
                    c.default.instance.setTopUI(this.viewPath)
                }, t.prototype.showAni = function() {
                    if (this.node)
                        switch (this.aniType) {
                        case a.fadeIn:
                            this.fadeIn();
                            break;
                        case a.scaleX:
                            this.scaleAni(cc.v2(0, 1));
                            break;
                        case a.scaleY:
                            this.scaleAni(cc.v2(1, 0));
                            break;
                        case a.top:
                            this.topShow();
                            break;
                        case a.scale:
                            this.scaleShowAni()
                        }
                }, t.prototype.hideAni = function(e) {
                    if (this.node)
                        switch (this.aniType) {
                        case a.fadeIn:
                            this.fadeOut(e);
                            break;
                        case a.scaleX:
                            this.hideScaleAni(cc.v2(0, 1), e);
                            break;
                        case a.scaleY:
                            this.hideScaleAni(cc.v2(1, 0), e);
                            break;
                        case a.top:
                            this.topHide(e);
                            break;
                        case a.scale:
                            this.hideScaleShowAni();
                        default:
                            e()
                        }
                    else
                        e()
                }, t.prototype.fadeIn = function(e) {
                    this.node.stopAllActions(), this.node.opacity = 0, cc.tween(this.node).to(.2, {
                        opacity: 255
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.fadeOut = function(e) {
                    this.node.stopAllActions(), this.node.opacity = 255, cc.tween(this.node).to(.2, {
                        opacity: 0
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.scaleAni = function(e, t) {
                    this.node.stopAllActions(), this.node.setScale(e.x, e.y), cc.tween(this.node).to(.2, {
                        scale: 1
                    }).call(function() {
                        t && t()
                    }).start()
                }, t.prototype.hideScaleAni = function(e, t) {
                    this.node.stopAllActions(), this.node.setScale(1), cc.tween(this.node).to(.2, {
                        scale: e
                    }).call(function() {
                        t && t()
                    }).start()
                }, t.prototype.scaleShowAni = function(e) {
                    this.node.stopAllActions(), this.node.setScale(.1), cc.tween(this.node).to(.2, {
                        scale: 1.2
                    }, {
                        easing: "quintIn"
                    }).to(.1, {
                        scale: 1
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.hideScaleShowAni = function(e) {
                    this.node.stopAllActions(), cc.tween(this.node).to(.2, {
                        scale: .2
                    }, {
                        easing: "quintOut"
                    }).to(.05, {
                        scale: .1
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.topShow = function(e) {
                    this.node.stopAllActions(), this.node.y = cc.winSize.height, cc.tween(this.node).to(.2, {
                        position: cc.v2(0, 0)
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.topHide = function(e) {
                    this.node.stopAllActions(), this.node.y = 0, cc.tween(this.node).to(.2, {
                        position: cc.v2(0, cc.winSize.height)
                    }).call(function() {
                        e && e()
                    }).start()
                }, t.prototype.closeView = function() {
                    var e = this;
                    this.isMving || (this.isMving = !0, this.hideAni(function() {
                        e.node && e.node.destroy(), c.default.instance.onCloseView(e.viewUrl)
                    }))
                }, t.prototype.onAddEvent = function(e, t, i) {
                    void 0 === i && (i = cc.Button.Transition.NONE), e.getComponent(cc.Button) || e.addComponent(cc.Button), e.getComponent(cc.Button).transition = i, e.targetOff(e), e.on(cc.Node.EventType.TOUCH_END, function() {
                        e.getComponent(cc.Button).enabled && (g.MusicHelper.play_click(), t && t())
                    }, e)
                }, o([h({
                    type: cc.Enum(a),
                    displayName: "\u52a8\u753b\u7c7b\u578b"
                })], t.prototype, "aniType", void 0), t = o([d], t)
            }(r.default);
        i.default = u, cc._RF.pop()
    }, {
        "../game/event/CommonEvent": "CommonEvent",
        "../game/utils/MusicHelper": "MusicHelper",
        "./ComponentBase": "ComponentBase",
        "./EventManager": "EventManager",
        "./UIManager": "UIManager"
    }],
    ViewConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "136bfachlVGwLhHgyCdAfPl", "ViewConfig"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = function() {
            function e() {}
            return e.gameView = {
                loading: "prefab/loading",
                login: "prefab/login",
                register: "prefab/register",
                game: "prefab/game",
                gameui: "prefab/gameui",
                zoneServer: "prefab/zoneServer",
                guide: "prefab/guide",
                msgInfo: "prefab/msgInfo",
                city: "prefab/city",
                tip: "prefab/tip",
                revive: "prefab/revive",
                userinfo: "prefab/userinfo",
                mapView: "prefab/mapView",
                skillView: "prefab/skillView",
                concise: "prefab/concise",
                strengthen: "prefab/strengthen",
                strengtheninfo: "prefab/strengtheninfo",
                mapInfoView: "prefab/mapInfoView",
                settingView: "prefab/settingView",
                notity: "prefab/notity",
                setting: "prefab/setting",
                map: "prefab/map",
                mapInfo: "prefab/mapInfo",
                skill: "prefab/skill/skill",
                skillStudy: "prefab/skill/skillStudy",
                skillUp: "prefab/skill/skillUp",
                bag: "prefab/roles/bag",
                bagAdd: "prefab/roles/bagAdd",
                ItemInfo: "prefab/roles/ItemInfo",
                equipInfo: "prefab/roles/equipInfo",
                business: "prefab/business",
                buyItem: "prefab/buyItem",
                buyMoney: "prefab/buyMoney",
                FightRoleInfo: "prefab/FightRoleInfo",
                shop: "prefab/shop",
                BuyShopView: "prefab/BuyShopView",
                EquipMakeView: "prefab/EquipMakeView",
                equipContrastView: "prefab/equipContrastView",
                topUp: "prefab/topUp/topUp",
                refine: "prefab/refine/refine",
                RefineHelp: "prefab/refine/RefineHelp",
                RefineRule: "prefab/refine/RefineRule",
                WeaponView: "prefab/weaponView",
                CheckDeleteRoleView: "prefab/CheckDeleteRoleView",
                guideView: "prefab/guideTips",
                NoBossPrivilege: "prefab/NoBossPrivilege",
                GmView: "prefab/GmView",
                PrivilegeRecovery: "prefab/privilege/PrivilegeRecovery",
                PrivilegeFightGodView: "prefab/privilege/PrivilegeFightGodView",
                GamePrivilege: "prefab/privilege/gamePrivilege",
                TempView: "prefab/TempView",
                OfflineView: "prefab/OfflineView",
                OfflineGiftView: "prefab/OfflineGiftView",
                FightChangeView: "prefab/FightChangeView",
                ChargeSucView: "prefab/ChargeSucView",
                XianShiGoldView: "prefab/xianshi/XianShi_Gold",
                XianShi_XiLianShi: "prefab/xianshi/XianShi_XiLianShi",
                XianShiActivityView: "prefab/xianshi/XianShiActivityView",
                ZuiQiangFangYuGiftView: "prefab/xianshi/ZuiQiangFangYuGiftView",
                ServerWeiHuView: "prefab/ServerWeiHuView",
                introduce: "prefab/introduce",
                BossDropIntroduce: "prefab/BossDropIntroduce",
                complex: "prefab/complex",
                complexView: "prefab/complexView ",
                cuilian: "prefab/refine/cuilian",
                cuilianHelpView: "prefab/refine/cuilianHelp",
                cuilianRuleView: "prefab/refine/cuilianRule",
                DialogCheck: "prefab/DialogCheck",
                fangshiView: "prefab/fangshiView",
                Explain: "prefab/Explain",
                DiscountView: "prefab/discount/DiscountView",
                ChangeWorldGiftView: "prefab/ChangeWorldGiftView",
                ZuiQiangJiNengGiftView: "prefab/xianshi/ZuiQiangJiNengGiftView",
                ComoensationView: "prefab/CompensationView",
                SkillEffectView: "prefab/skill/skillEffectView",
                ZhenBaoDes: "prefab/zhenBaoDes",
                LoadingTipView: "prefab/LoadingTipView",
                ShenBinRuleView: "prefab/roles/shenbinRule",
                KillBossTip: "prefab/roles/killBossTipView"
            }, e
        }();
        i.default = n, cc._RF.pop()
    }, {}],
    WeaponView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "583810KPexPNLpFdTo6AVM2", "WeaponView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ComponentBase"),
            s = e("../../../engine/EventManager"),
            r = e("../../utils/MusicHelper"),
            l = e("../../model/MagicModel"),
            c = e("../../config/MagicNameConfig"),
            g = e("../../config/ShenbingskillAllConfig"),
            f = e("../../model/RoleInfoModel"),
            d = e("../../model/FightModel"),
            h = e("../../../engine/Logger"),
            u = e("../../../engine/UIManager"),
            p = e("../../config/ViewConfig"),
            m = e("../../config/ColorConfig"),
            C = e("../../config/ChiXueMoJianConfig"),
            v = e("../../config/ITemsConfig"),
            _ = e("../../network/SocketClient"),
            y = e("../../model/ShenBinModel"),
            M = e("../../model/ShenBinSkillModel"),
            I = e("../../event/CommonEvent"),
            b = e("../../model/SpiritsModel"),
            L = e("../../model/ItemInfoModel"),
            w = e("../../config/MingYunZhiRenConfig"),
            S = e("../../utils/UIHelper"),
            E = cc._decorator,
            k = E.ccclass,
            T = E.property,
            N = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.curTabIndex = 0, t.attributeNodeList = [], t.skillNodeList = [], t.currShenBinType = 0, t.IconList = [], t.shenbinNameList = [], t.shenbinSkillNameList = [], t.preModelList = [], t.currAttrbuteArr = [], t.currProGress = 0, t.currgress = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onLoad = function() {
                    this.btnupLevel = this.findChild(this.node, "btnupLevel"), this.maxTip = this.findChild(this.node, "maxTip"), this.btnHelp = this.findChild(this.node, "btnHelp"), this.btnNext = this.findChild(this.node, "btnNext"), this.btnLast = this.findChild(this.node, "btnLast"), this.btnLast = this.findChild(this.node, "btnLast"), this.upLeveltap = this.findChild(this.node, "upLeveltap"), this.skilltap = this.findChild(this.node, "skilltap"), this.weaponLevelAndName = this.findChild(this.node, "weaponLevelAndName"), this.skillLevelAndName = this.findChild(this.node, "skillLevelAndName"), this.weaponIcon = this.findChild(this.node, "weaponIcon"), this.skillDes = this.findChild(this.node, "skillDes"), this.attributeDes = this.findChild(this.node, "attributeDes"), this.expBar = this.findChild(this.node, "expBar"), this.exp = this.findChild(this.node, "exp"), this.goldCost = this.findChild(this.node, "goldCost"), this.cost1 = this.findChild(this.node, "cost1"), this.levelLimit = this.findChild(this.node, "levelLimit"), this.attributeItem = this.findChild(this.attributeDes, "scrollView/view/content/attributeDes/attributeItem"), this.attributeItem.active = !1, this.skillItem = this.findChild(this.skillDes, "scrollView/view/content/skillDes/skillItem"), this.skillItem.active = !1, this.addevent()
                }, t.prototype.addevent = function() {
                    this.btnupLevel.on(cc.Node.EventType.TOUCH_END, this.onClickUplevel.bind(this)), this.skilltap.on(cc.Node.EventType.TOUCH_END, this.onClickTab.bind(this, i.SKILL_TYPE)), this.upLeveltap.on(cc.Node.EventType.TOUCH_END, this.onClickTab.bind(this, i.UPLEVEL_TYPE)), this.btnHelp.on(cc.Node.EventType.TOUCH_END, this.onClickHelp.bind(this, this.currShenBinType)), this.btnLast.on(cc.Node.EventType.TOUCH_END, this.onClickLast.bind(this)), this.btnNext.on(cc.Node.EventType.TOUCH_END, this.onClickNext.bind(this))
                }, t.prototype.onEnable = function() {
                    this.curTabIndex = i.UPLEVEL_TYPE, this.currShenBinType = y.default.CHIXUEMOJIAN, s.EventManager.instance.on(I.CommonEvent.Event_RefreshShenbin, this.onServerRefresh, this), this.refreshPage()
                }, t.prototype.onServerRefresh = function(e) {
                    var t = this;
                    void 0 === e && (e = 0);
                    var n,
                        o = y.default.getShenBinModelByType(this.currShenBinType);
                    this.currShenBinType == y.default.CHIXUEMOJIAN ? n = C.ChiXueMoJianConfig.getChixuemojianConfigById(o.shenbingId) : this.currShenBinType == y.default.MINGYUNZHIREN && (n = w.MingYunZhiRenConfig.getConfigById(o.shenbingId)), this.curTabIndex == i.UPLEVEL_TYPE ? (cc.tween(this.expBar.getComponent(cc.ProgressBar)).to(this.currProGress, {
                        progress: n.curr_progress / n.all_progress
                    }).start(), n.curr_progress / n.all_progress != 0 && S.UIHelper.showTip("\u8fdb\u5ea6\u63d0\u5347"), n.curr_progress / n.all_progress == 0 && S.UIHelper.showTip("\u795e\u5175\u5347\u7ea7\u63d0\u5347"), n.curr_progress > this.currgress && (this.exp.getChildByName("addexp").active = !0, this.exp.getChildByName("addexp").getComponent(cc.Label).string = "+" + (n.curr_progress - this.currgress), cc.tween(this.exp.getChildByName("addexp")).to(1, {
                        y: 30
                    }).call(function() {
                        t.exp.getChildByName("addexp").active = !1, t.exp.getChildByName("addexp").y = 0
                    }).start())) : this.curTabIndex == i.SKILL_TYPE && 2 == e && S.UIHelper.showTip("\u6280\u80fd\u5347\u7ea7\u6210\u529f");
                    var a = [];
                    this.currShenBinType == y.default.CHIXUEMOJIAN ? a = C.ChiXueMoJianConfig.getMagicModelList(n) : this.currShenBinType == y.default.MINGYUNZHIREN && (a = w.MingYunZhiRenConfig.getMagicModelList(n)), this.flyFont(this.preModelList, a), this.refreshPage()
                }, t.prototype.refreshPage = function() {
                    this.currProGress = this.expBar.getComponent(cc.ProgressBar).progress;
                    var e,
                        t = y.default.getShenBinModelByType(this.currShenBinType),
                        n = M.default.getModelByShenbinType(this.currShenBinType);
                    this.weaponIcon.getComponent(cc.Sprite).spriteFrame = this.IconList[this.currShenBinType - 1], this.weaponLevelAndName.getChildByName("shenbin1").getComponent(cc.Sprite).spriteFrame = this.shenbinNameList[this.currShenBinType - 1], h.Logger.log("skillmodel====", n), this.currShenBinType == y.default.CHIXUEMOJIAN ? e = C.ChiXueMoJianConfig.getChixuemojianConfigById(t.shenbingId) : this.currShenBinType == y.default.MINGYUNZHIREN && (e = w.MingYunZhiRenConfig.getConfigById(t.shenbingId)), this.currgress = e.curr_progress, this.weaponLevelAndName.getChildByName("shenbinlevel").getComponent(cc.Label).string = e.level + "";
                    var o = g.ShenbingskillAllConfig.getSkillConfigById(n.id);
                    if (this.skillLevelAndName.getChildByName("skill1").getComponent(cc.Sprite).spriteFrame = this.shenbinSkillNameList[this.currShenBinType - 1], this.skillLevelAndName.getChildByName("shenbinSkilllevel").getComponent(cc.Label).string = o.level + "", this.levelLimit.getChildByName("value").color = m.ColorConfig.WhiteColor, this.cost1.getChildByName("value").color = m.ColorConfig.WhiteColor, this.goldCost.getChildByName("value").color = m.ColorConfig.WhiteColor, this.curTabIndex == i.UPLEVEL_TYPE) {
                        this.findChild(this.upLeveltap, "1").active = !1, this.findChild(this.upLeveltap, "2").active = !0, this.findChild(this.skilltap, "1").active = !0, this.findChild(this.skilltap, "2").active = !1, this.skillDes.active = !1, this.attributeDes.active = !0, this.exp.active = !0, this.expBar.active = !0, this.refreshAttributeDes(e), this.levelLimit.getComponent(cc.Label).string = "\u6240\u9700\u73a9\u5bb6\u7b49\u7ea7\uff1a";
                        var a = g.ShenbingskillAllConfig.getkeyAndValue(e.cost1),
                            s = 0;
                        (r = L.default.getItem(a[0][0] + "")) && (s = r.itemCnt), this.cost1.getComponent(cc.Label).string = v.ITemsConfig.getITemsConfigById(a[0][0]).name + "\u6d88\u8017\uff1a", this.exp.getComponent(cc.Label).string = e.curr_progress + "/" + e.all_progress, this.expBar.getComponent(cc.ProgressBar).progress = e.curr_progress / e.all_progress, e.curr_progress == e.all_progress ? (this.exp.getComponent(cc.Label).string = "MAX", this.btnupLevel.active = !1, this.levelLimit.getChildByName("value").getComponent(cc.Label).string = "--", this.cost1.getChildByName("value").getComponent(cc.Label).string = "--", this.goldCost.getChildByName("value").getComponent(cc.Label).string = "--", this.maxTip.active = !0) : (this.btnupLevel.active = !0, this.maxTip.active = !1, this.formatLabel(this.levelLimit.getChildByName("value"), f.default.instance.level, e.need_level, 0), this.formatLabel(this.cost1.getChildByName("value"), s, a[0][1]), this.formatLabel(this.goldCost.getChildByName("value"), f.default.instance.getCoin(), e.cost2[1], 0))
                    } else if (this.curTabIndex == i.SKILL_TYPE) {
                        this.findChild(this.upLeveltap, "1").active = !0, this.findChild(this.upLeveltap, "2").active = !1, this.findChild(this.skilltap, "1").active = !1, this.findChild(this.skilltap, "2").active = !0, this.skillDes.active = !0, this.attributeDes.active = !1, this.exp.active = !1, this.expBar.active = !1, this.refreshSkillDes(n.id), this.levelLimit.getComponent(cc.Label).string = "\u6240\u9700\u795e\u5175\u7b49\u7ea7\uff1a", this.cost1.getComponent(cc.Label).string = v.ITemsConfig.getITemsConfigById(g.ShenbingskillAllConfig.getkeyAndValue(o.cost2)[0][0]).name + "\u6d88\u8017\uff1a";
                        var r;
                        s = 0;
                        (r = L.default.getItem(g.ShenbingskillAllConfig.getkeyAndValue(o.cost2)[0][0])) && (s = r.itemCnt), 1 == o.max_level ? (this.maxTip.active = !0, this.btnupLevel.active = !1, this.levelLimit.getChildByName("value").getComponent(cc.Label).string = "--", this.cost1.getChildByName("value").getComponent(cc.Label).string = "--", this.goldCost.getChildByName("value").getComponent(cc.Label).string = "--") : (this.maxTip.active = !1, this.btnupLevel.active = !0, this.formatLabel(this.levelLimit.getChildByName("value"), e.level, o.shenbinglv[this.currShenBinType + ""], 0), this.formatLabel(this.cost1.getChildByName("value"), s, g.ShenbingskillAllConfig.getkeyAndValue(o.cost2)[0][1]), this.formatLabel(this.goldCost.getChildByName("value"), f.default.instance.getCoin(), o.cost1[1], 0))
                    }
                }, t.prototype.onClickTab = function(e) {
                    r.MusicHelper.play_click(), this.curTabIndex != e && (this.curTabIndex = e, this.refreshPage())
                }, t.prototype.refreshAttributeDes = function(e) {
                    var t = [];
                    if (this.currShenBinType == y.default.CHIXUEMOJIAN ? t = C.ChiXueMoJianConfig.getMagicModelList(e) : this.currShenBinType == y.default.MINGYUNZHIREN && (t = w.MingYunZhiRenConfig.getMagicModelList(e)), this.preModelList = t, this.attributeNodeList.length == t.length)
                        ;
                    else
                        for (var i = 0; i < t.length; i++) {
                            var n = void 0;
                            (n = cc.instantiate(this.attributeItem)).parent = this.attributeItem.parent, n.active = !0, this.attributeNodeList.push(n)
                        }
                    for (i = 0; i < this.attributeNodeList.length; i++) {
                        var o = this.attributeNodeList[i].getChildByName("attributeName").getComponent(cc.Label),
                            a = t[i];
                        o.string = c.MagicNameConfig.getDesc(a.magicId) + ":", this.attributeNodeList[i].getChildByName("attributeValue").getComponent(cc.Label).string = l.default.formatMagicValue(a.magicId, a.magicValue) + ""
                    }
                }, t.prototype.refreshSkillDes = function(e) {
                    var t = g.ShenbingskillAllConfig.getSkillConfigById(e);
                    if (this.skillNodeList.length != t.name.length) {
                        for (var i = 0; i < this.skillNodeList.length; i++)
                            this.skillNodeList[i].destroy();
                        this.skillNodeList = [];
                        for (i = 0; i < t.name.length; i++) {
                            var n = void 0;
                            (n = cc.instantiate(this.skillItem)).parent = this.skillItem.parent, n.active = !0, this.skillNodeList.push(n)
                        }
                    }
                    if (100001 == t.skill_id) {
                        var o = b.default.model.spirits || 0,
                            a = b.default.model.spirits_eff || 0,
                            s = b.default.model.max_spirits || 0,
                            r = m.ColorConfig.GreenHexColor;
                        o >= s && (r = m.ColorConfig.RedHexColor);
                        for (i = 0; i < this.skillNodeList.length; i++) {
                            this.skillNodeList[i].getChildByName("skillName").getComponent(cc.Label).string = t.name[i] + ":";
                            var l = this.skillNodeList[i].getChildByName("skillDes").getComponent(cc.RichText);
                            0 == i ? l.string = "\u6bcf\u51fb\u8d25\u4e00\u4e2a\u602a\u7269\u4f1a\u5438\u53d6\u76ee\u6807\u7684\u7075\u9b42\uff0c\u83b7\u5f97" + a + "\u70b9\u9b42\u9b44\u503c!\u5f53\u524d\u9b42\u9b44\uff1a<color=" + r + ">(" + o + "/" + s + ")</c>" : 1 == i && (l.string = "\u6d88\u8017\u9b42\u9b44\u76f4\u63a5\u79d2\u6740\u6218\u529b\u9700\u6c42\u4f4e\u4e8e\u81ea\u8eab\u6218\u529b<color=" + m.ColorConfig.GreenHexColor + ">" + t.parameter[2] / 100 + "%\uff08" + Math.floor(d.default.totalFight * t.parameter[2] / 1e4) + "\uff09</c>\u7684BOSS\uff01")
                        }
                    } else if (200001 == t.skill_id)
                        for (i = 0; i < this.skillNodeList.length; i++) {
                            this.skillNodeList[i].getChildByName("skillName").getComponent(cc.Label).string = t.name[i] + ":", (l = this.skillNodeList[i].getChildByName("skillDes").getComponent(cc.RichText)).string = "\u653b\u51fb\u65f6\u6709<color=" + m.ColorConfig.GreenHexColor + ">" + t.parameter[0] / 100 + "%</c>\u51e0\u7387\u9020\u6210\u76ee\u6807\u5f53\u524d\u8840\u91cf<color=" + m.ColorConfig.GreenHexColor + ">" + t.parameter[1] / 100 + "%</c>\u7684\u771f\u5b9e\u4f24\u5bb3\u3002"
                        }
                }, t.prototype.onClickUplevel = function() {
                    if (r.MusicHelper.play_click(), this.curTabIndex == i.SKILL_TYPE) {
                        h.Logger.log("\u5347\u7ea7\u795e\u5175\u6280\u80fd", this.currShenBinType);
                        var e = M.default.getModelByShenbinType(this.currShenBinType);
                        _.default.s_seq_shenbing_skill(e.id, this.currShenBinType)
                    } else if (this.curTabIndex == i.UPLEVEL_TYPE) {
                        e = y.default.getShenBinModelByType(this.currShenBinType);
                        _.default.s_seq_shenbing(e.shenbingId, e.shenbingType), h.Logger.log("\u5347\u7ea7\u795e\u5175", e.shenbingId, e.shenbingType)
                    }
                }, t.prototype.formatLabel = function(e, t, i, n) {
                    void 0 === n && (n = 1), t < i ? 0 == n ? (e.getComponent(cc.Label).string = i + "", e.color = m.ColorConfig.RedColor) : (e.getComponent(cc.Label).string = t + "/" + i, e.color = m.ColorConfig.RedColor) : 0 == n ? (e.getComponent(cc.Label).string = i + "", e.color = m.ColorConfig.GreenColor) : (e.getComponent(cc.Label).string = t + "/" + i, e.color = m.ColorConfig.GreenColor)
                }, t.prototype.onClickHelp = function() {
                    r.MusicHelper.play_click(), u.default.instance.createView(p.default.gameView.ShenBinRuleView, null, this.currShenBinType)
                }, t.prototype.onDisable = function() {
                    s.EventManager.instance.clear(this)
                }, t.prototype.onClickNext = function() {
                    r.MusicHelper.play_click(), y.default.count - this.currShenBinType > 0 && (this.currShenBinType += 1, this.refreshPage())
                }, t.prototype.onClickLast = function() {
                    r.MusicHelper.play_click(), y.default.count - this.currShenBinType <= 0 && (this.currShenBinType -= 1, this.refreshPage())
                }, t.prototype.flyFont = function(e, t) {
                    for (var i = this, n = function(n) {
                            e[n].magicId == t[n].magicId && e[n].magicValue < t[n].magicValue && (o.attributeNodeList[n].getChildByName("addValue").active = !0, o.attributeNodeList[n].getChildByName("addValue").getComponent(cc.Label).string = "+" + l.default.formatMagicValue(t[n].magicId, t[n].magicValue - e[n].magicValue), cc.tween(o.attributeNodeList[n].getChildByName("addValue")).to(1, {
                                y: 0
                            }).call(function() {
                                i.attributeNodeList[n].getChildByName("addValue").active = !1, i.attributeNodeList[n].getChildByName("addValue").y = 0
                            }).start())
                        }, o = this, a = 0; a < e.length; a++)
                        n(a)
                }, t.UPLEVEL_TYPE = 0, t.SKILL_TYPE = 1, o([T({
                    type: [cc.SpriteFrame]
                })], t.prototype, "IconList", void 0), o([T({
                    type: [cc.SpriteFrame]
                })], t.prototype, "shenbinNameList", void 0), o([T({
                    type: [cc.SpriteFrame]
                })], t.prototype, "shenbinSkillNameList", void 0), t = i = o([k], t)
            }(a.default);
        i.default = N, cc._RF.pop()
    }, {
        "../../../engine/ComponentBase": "ComponentBase",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../config/ChiXueMoJianConfig": "ChiXueMoJianConfig",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/MingYunZhiRenConfig": "MingYunZhiRenConfig",
        "../../config/ShenbingskillAllConfig": "ShenbingskillAllConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/FightModel": "FightModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/MagicModel": "MagicModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/ShenBinModel": "ShenBinModel",
        "../../model/ShenBinSkillModel": "ShenBinSkillModel",
        "../../model/SpiritsModel": "SpiritsModel",
        "../../network/SocketClient": "SocketClient",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper"
    }],
    WordConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "0a8550X12ZDOKF6GQQLt3uc", "WordConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("../utils/UIHelper"),
            s = e("../model/ChatModel"),
            r = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.id = parseInt(e.id), i.idStr = e.id, i.ch = e.ch, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        t.configMap.set(n.id, n)
                    })
                }, t.getWord = function(e) {
                    var i = "";
                    return this.configMap.forEach(function(n, o) {
                        n.id != e && n.idStr != e.toString() || (i = n[t.nowLanguage])
                    }), "" == i && (i = e + ""), i
                }, t.showWord = function(e) {
                    var t = this.getWord(e);
                    "" == t && (t = e + ""), 60001 == e && s.ChatModel.addBagFull(), a.UIHelper.showTip(t)
                }, t.Config_Name = "Word", t.Languange_Type = {
                    ch: "ch",
                    en: "en"
                }, t.nowLanguage = t.Languange_Type.ch, t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.WordConfig = r, cc._RF.pop()
    }, {
        "../model/ChatModel": "ChatModel",
        "../utils/UIHelper": "UIHelper",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    XianShiActivityView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c8445x4hKhFpq2kyi/L4IxJ", "XianShiActivityView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../model/ChargeActivityModel"),
            r = e("../../../engine/UIManager"),
            l = e("../../config/ViewConfig"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    r.default.instance.setTopUI(l.default.gameView.XianShiActivityView), this.goldView = this.findChild(this.node, "scrollView/view/content/xianshi_gold"), this.coinModel = s.default.getCoinChargeModel(), this.coinModel && this.coinModel.gift_id >= 1 ? this.goldView.active = !0 : this.goldView.active = !1, this.xilianshiView = this.findChild(this.node, "scrollView/view/content/xianshi_xilianshi"), this.xilianshiModel = s.default.getXiLianShiModel(), this.xilianshiModel && this.xilianshiModel.gift_id > 0 ? this.xilianshiView.active = !0 : this.xilianshiView.active = !1, this.xianshi_shuye = this.findChild(this.node, "scrollView/view/content/xianshi_shuye"), this.shuyeModel = s.default.getShuYeModel(), this.shuyeModel && this.shuyeModel.gift_id > 0 ? this.xianshi_shuye.active = !0 : this.xianshi_shuye.active = !1
                }, t.prototype.onHide = function() {}, t = o([g], t)
            }(a.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/ChargeActivityModel": "ChargeActivityModel"
    }],
    XianShiGoldView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "01281e9nYxGMpF1ob4gNp7n", "XianShiGoldView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ChongZhiConfig"),
            r = e("../../../engine/Logger"),
            l = e("../../../engine/DateUtil"),
            c = e("../../model/ChargeActivityModel"),
            g = e("../../sdk/SdkHelper"),
            f = e("../../network/SocketClient"),
            d = e("../../../engine/EventManager"),
            h = e("../../event/CommonEvent"),
            u = e("../../model/RedDotModel"),
            p = e("../../../engine/UIManager"),
            m = e("../../config/ViewConfig"),
            C = cc._decorator,
            v = C.ccclass,
            _ = (C.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 10, t.btnCharge = null, t
                }
                return n(t, e), t.prototype.onInitChild = function() {}, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this), d.EventManager.instance.on(h.CommonEvent.Event_ChargeActivityOk, this.onChargeOk, this), this.initView()
                }, t.prototype.onShow = function() {
                    this.isShowDialog = !0
                }, t.prototype.initView = function() {
                    var e = this;
                    p.default.instance.setTopUI(m.default.gameView.XianShiGoldView);
                    var t = this.node.getChildByName("btnCloseTest");
                    if (t && this.onAddEvent(t, this.onClickCloseTest.bind(this)), this.model = c.default.getCoinChargeModel(), this.leftTime = c.default.getCoinLeftTime(), this.model && !(this.model.gift_id <= 0)) {
                        g.default.isAndroid() ? this.id = 201 + this.model.gift_id - 1 : this.id = 1201 + this.model.gift_id - 1, this.chongzhiConfig = s.ChongZhiConfig.getConfigById(this.id), r.Logger.log("\u91d1\u5e01chongzhiConfig===", this.model, this.chongzhiConfig), this.txtGold = this.getChild(this.node, "txtGold", cc.Label);
                        var i = this.node.getChildByName("btnCharge");
                        this.txtCost = this.getChild(this.node, "btnCharge/txtCost", cc.Label), this.txtDefault = this.getChild(this.node, "txtDefault", cc.Label), this.txtLeftTime = this.getChild(this.node, "txtLeftTime", cc.Label), this.btnCharge = i, this.hadBuy = this.node.getChildByName("hadBuy"), this.hadBuy && (this.hadBuy.active = !1), this.onAddEvent(i, this.onClickCharge.bind(this)), this.schedule(function() {
                            e.leftTime > 0 && (e.leftTime--, e.leftTime <= 0 && e.closeView()), e.refresh()
                        }, 1), this.refresh()
                    }
                }, t.prototype.onClickCloseTest = function() {
                    var e = this;
                    this.isShowDialog && (this.hadBuy.active ? this.closeView() : cc.tween(this.node).to(.2, {
                        scale: .1,
                        position: cc.v2(285, 531)
                    }).call(function() {
                        e.closeView(), u.default.isXianShiRedDot = !0, d.EventManager.instance.dispatch(h.CommonEvent.Event_has_reward, !0)
                    }).start())
                }, t.prototype.onClickCharge = function() {
                    r.Logger.log("onClickCharge====", this.chongzhiConfig), f.default.req_charge(this.chongzhiConfig.id)
                }, t.prototype.onChargeOk = function(e) {
                    this.id == e && (this.leftTime = 0, this.hadBuy.active = !0, this.btnCharge.active = !1)
                }, t.prototype.refresh = function() {
                    this.txtCost.string = this.chongzhiConfig.money + "", this.txtDefault.string = this.chongzhiConfig.o_price + "", this.txtGold.string = "X" + this.chongzhiConfig.resource[1], this.leftTime <= 0 ? this.txtLeftTime.string = "--" : this.txtLeftTime.string = l.default.formatLeftTime2(1e3 * this.leftTime)
                }, t = o([v], t)
            }(a.default));
        i.default = _, cc._RF.pop()
    }, {
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ChargeActivityModel": "ChargeActivityModel",
        "../../model/RedDotModel": "RedDotModel",
        "../../network/SocketClient": "SocketClient",
        "../../sdk/SdkHelper": "SdkHelper"
    }],
    XianShi_XiLianShi: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "fdffeuusipJnZSsAl0a0TiJ", "XianShi_XiLianShi");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ChongZhiConfig"),
            r = e("../../../engine/Logger"),
            l = e("../../../engine/DateUtil"),
            c = e("../../prefab/ItemPrefab"),
            g = e("../../model/ItemInfoModel"),
            f = e("../../config/GameConst"),
            d = e("../../config/ITemsConfig"),
            h = e("../../model/ChargeActivityModel"),
            u = e("../../network/SocketClient"),
            p = e("../../../engine/EventManager"),
            m = e("../../event/CommonEvent"),
            C = e("../../../engine/UIManager"),
            v = e("../../config/ViewConfig"),
            _ = e("../../model/RedDotModel"),
            y = e("../../sdk/SdkHelper"),
            M = cc._decorator,
            I = M.ccclass,
            b = (M.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 20, t.itemType = "I3001", t.buyIds = [], t
                }
                return n(t, e), t.prototype.onInitChild = function() {}, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this)
                }, t.prototype.onShow = function() {
                    this.isShowDialog = !0
                }, t.prototype.onEnable = function() {
                    p.EventManager.instance.on(m.CommonEvent.Event_ChargeActivity, this.onChargeActivity, this), C.default.instance.setTopUI(v.default.gameView.XianShi_XiLianShi), p.EventManager.instance.on(m.CommonEvent.Event_ChargeActivityOk, this.onChargeOk, this), this.model = h.default.getXiLianShiModel();
                    var e = this.node.getChildByName("btnCloseXianShi");
                    e && this.onAddEvent(e, this.onClickCloseXianShi.bind(this)), !this.model || this.model.gift_id <= 0 || this.initView()
                }, t.prototype.initView = function() {
                    var e = this;
                    this.schedule(function() {
                        e.leftTime > 0 && (e.leftTime--, e.leftTime <= 0 && e.closeView()), e.refresh()
                    }, 1), this.model = h.default.getXiLianShiModel();
                    var t = this.node.getChildByName("btnCloseXianShi");
                    if (t && this.onAddEvent(t, this.onClickCloseXianShi.bind(this)), this.model && !(this.model.gift_id <= 0)) {
                        var i,
                            n = d.ITemsConfig.getITemsConfigById(this.itemType);
                        this.txtLeftTime = this.getChild(this.node, "txtLeftTime", cc.Label);
                        for (var o = 0; o < 2; o++) {
                            var a = this.node.getChildByName("btnBuy" + o);
                            i = y.default.isAndroid() ? s.ChongZhiConfig.getConfigById(301 + o) : s.ChongZhiConfig.getConfigById(1301 + o), this.buyIds[o] = i.id, a.getChildByName("txtCost").getComponent(cc.Label).string = i.money + "", this.node.getChildByName("txtDefault" + o).getComponent(cc.Label).string = i.o_price + "";
                            var r = this.node.getChildByName("ItemPrefab" + o).getComponent(c.default),
                                l = g.default.create(f.GameConst.ITEM_KIND.ITEM, this.itemType, i.item[this.itemType], n.quality);
                            r.init(l), this.onAddEvent(a, this.onClickBuy.bind(this, i)), this.node.getChildByName("hadBuy" + o).active = !1
                        }
                        this.leftTime = h.default.getXiLianShiLeftTime(), this.refresh()
                    }
                }, t.prototype.onChargeActivity = function() {
                    this.initView()
                }, t.prototype.onChargeOk = function(e) {
                    var t = this.buyIds.indexOf(e);
                    if (-1 != t) {
                        this.leftTime = 0, this.refresh(), this.unscheduleAllCallbacks();
                        for (var i = 0; i < 2; i++) {
                            var n = this.node.getChildByName("btnBuy" + i),
                                o = this.node.getChildByName("hadBuy" + i);
                            n.active = !1, o.active = !1, i == t && (o.active = !0, this.isHadBuy = !0)
                        }
                    }
                }, t.prototype.onClickBuy = function(e) {
                    r.Logger.log("onClickBuy==", e), u.default.req_charge(e.id)
                }, t.prototype.refresh = function() {
                    this.txtLeftTime.string = l.default.formatLeftTime2(1e3 * this.leftTime)
                }, t.prototype.onClickCloseXianShi = function() {
                    var e = this;
                    this.isShowDialog && (this.isHadBuy ? this.closeView() : cc.tween(this.node).to(.2, {
                        scale: .1,
                        position: cc.v2(285, 531)
                    }).call(function() {
                        e.closeView(), _.default.isXianShiRedDot = !0, p.EventManager.instance.dispatch(m.CommonEvent.Event_has_reward, !0)
                    }).start())
                }, t = o([I], t)
            }(a.default));
        i.default = b, cc._RF.pop()
    }, {
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ChargeActivityModel": "ChargeActivityModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RedDotModel": "RedDotModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper"
    }],
    Xianshi_ShuyeView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3f0c3y2hGNLFr0EKxohwJbA", "Xianshi_ShuyeView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ChongZhiConfig"),
            r = e("../../../engine/Logger"),
            l = e("../../../engine/DateUtil"),
            c = e("../../prefab/ItemPrefab"),
            g = e("../../model/ItemInfoModel"),
            f = e("../../config/GameConst"),
            d = e("../../config/ITemsConfig"),
            h = e("../../model/ChargeActivityModel"),
            u = e("../../network/SocketClient"),
            p = e("../../../engine/EventManager"),
            m = e("../../event/CommonEvent"),
            C = e("../../model/RedDotModel"),
            v = e("../../sdk/SdkHelper"),
            _ = cc._decorator,
            y = _.ccclass,
            M = (_.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 15, t.itemType = "I4001", t.buyIds = [], t
                }
                return n(t, e), t.prototype.onInitChild = function() {}, t.prototype.onLoad = function() {
                    e.prototype.onLoad.call(this)
                }, t.prototype.onEnable = function() {
                    this.initXianShi(), p.EventManager.instance.on(m.CommonEvent.Event_ChargeActivityOk, this.onChargeOk, this)
                }, t.prototype.initShow = function() {
                    this.isShowDialog = !0
                }, t.prototype.initXianShi = function() {
                    var e = this;
                    if (this.model = h.default.getShuYeModel(), this.model && !(this.model.gift_id <= 0)) {
                        var t,
                            i = this.node.getChildByName("btnCloseXianShi");
                        i && this.onAddEvent(i, this.onClickCloseXianShi.bind(this));
                        for (var n = 0; n < 3; n++) {
                            var o = this.node.getChildByName("btnBuy" + n);
                            t = v.default.isAndroid() ? s.ChongZhiConfig.getConfigById(401 + n) : s.ChongZhiConfig.getConfigById(1401 + n), this.onAddEvent(o, this.onClickBuyXianShi.bind(this, t)), this.buyIds[n] = t.id
                        }
                        this.leftTime = h.default.getShuYeLeftTime(), this.schedule(function() {
                            e.leftTime > 0 && (e.leftTime--, e.leftTime <= 0 && e.closeView()), e.refreshXianShi()
                        }, 1), this.refreshXianShi()
                    }
                }, t.prototype.onChargeOk = function(e) {
                    var t = this.buyIds.indexOf(e);
                    r.Logger.log("onChargeOk==================", e, this.buyIds), this.leftTime = 0, this.unscheduleAllCallbacks();
                    for (var i = 0; i < 3; i++) {
                        var n = this.node.getChildByName("btnBuy" + i),
                            o = this.node.getChildByName("hadBuy" + i);
                        n.active = !1, o.active = !1, i == t && (o.active = !0, this.isHadBuy = !0)
                    }
                    this.refreshXianShi()
                }, t.prototype.onClickCloseXianShi = function() {
                    var e = this;
                    this.isShowDialog && (this.isHadBuy ? this.closeView() : cc.tween(this.node).to(.2, {
                        scale: .1,
                        position: cc.v2(285, 531)
                    }).call(function() {
                        C.default.isXianShiRedDot = !0, e.closeView(), p.EventManager.instance.dispatch(m.CommonEvent.Event_has_reward, !0)
                    }).start())
                }, t.prototype.onClickBuyXianShi = function(e) {
                    r.Logger.log("onClickBuyXianShi==", e), u.default.req_charge(e.id)
                }, t.prototype.onDisable = function() {
                    this.isShowDialog && (this.isHadBuy || (C.default.isXianShiRedDot = !0, p.EventManager.instance.dispatch(m.CommonEvent.Event_has_reward, !0)))
                }, t.prototype.refreshXianShi = function() {
                    var e = this.node.getChildByName("txtLeftTime").getComponent(cc.Label);
                    if (this.leftTime > 0) {
                        this.leftTime <= 0 ? e.string = "--" : e.string = l.default.formatLeftTime2(1e3 * this.leftTime);
                        for (var t = d.ITemsConfig.getITemsConfigById("I4001"), i = 0; i < 3; i++) {
                            var n = this.node.getChildByName("ItemPrefab" + i).getComponent(c.default),
                                o = s.ChongZhiConfig.getConfigById(401 + i),
                                a = o.item.I4001,
                                r = g.default.create(f.GameConst.ITEM_KIND.ITEM, "I4001", a, t.quality);
                            n.init(r), this.node.getChildByName("txtDefault" + i).getComponent(cc.Label).string = o.o_price + "", this.getChild(this.node, "btnBuy" + i + "/txtCost", cc.Label).string = o.money + "";
                            this.node.getChildByName("btnBuy" + i);
                            this.node.getChildByName("hadBuy" + i).active = !1
                        }
                    } else
                        this.leftTime <= 0 ? e.string = "--" : e.string = l.default.formatLeftTime2(1e3 * this.leftTime)
                }, t.prototype.onClickBuy = function(e) {
                    r.Logger.log("onClickBuy==", e)
                }, t = o([y], t)
            }(a.default));
        i.default = M, cc._RF.pop()
    }, {
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ChargeActivityModel": "ChargeActivityModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RedDotModel": "RedDotModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper"
    }],
    Xilianexpendconfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "7bdfa/NaJxOVKKprt308did", "Xilianexpendconfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = e("./JsonConfigBase"),
            a = e("./GameConst"),
            s = function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.obj2Config = function(e) {
                    var i = new t;
                    return i.quality2 = e.quality2, i.quality3 = e.quality3, i.quality4 = e.quality4, i.quality5 = e.quality5, i
                }, t.json2Config = function(e) {
                    var t = this;
                    Object.keys(e).forEach(function(i) {
                        var n = t.obj2Config(e[i]);
                        n.level = parseInt(i), t.configMap.set(n.level, n)
                    })
                }, t.getConfigByLevel = function(e) {
                    var t;
                    return this.configMap.forEach(function(i, n) {
                        i.level != e || (t = i)
                    }), t
                }, t.getNeedConfig = function(e, t) {
                    var i = this.getConfigByLevel(e);
                    return t == a.GameConst.QUALITY.GREEN ? i.quality2 : t == a.GameConst.QUALITY.BLUE ? i.quality3 : t == a.GameConst.QUALITY.PURPLE ? i.quality4 : t == a.GameConst.QUALITY.ORANGE ? i.quality5 : void 0
                }, t.configMap = new Map, t
            }(o.JsonConfigBase);
        i.Xilianexpendconfig = s, cc._RF.pop()
    }, {
        "./GameConst": "GameConst",
        "./JsonConfigBase": "JsonConfigBase"
    }],
    YaoShopConfig: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "fff74OxOolMcqFeRWJO0F3/", "YaoShopConfig");
        var n = this && this.__extends || function() {
            var e = function(t, i) {
                return (e = Object.setPrototypeOf || {
                    __proto__: []
                } instanceof Array && function(e, t) {
                    e.__proto__ = t
                } || function(e, t) {
                    for (var i in t)
                        t.hasOwnProperty(i) && (e[i] = t[i])
                })(t, i)
            };
            return function(t, i) {
                function n() {
                    this.constructor = t
                }
                e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
            }
        }();
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var o = function(e) {
            function t() {
                var t = null !== e && e.apply(this, arguments) || this;
                return t.id = 1, t.city = 1, t.item_id = "I1001", t
            }
            return n(t, e), t.obj2Config = function(e) {
                var i = new t;
                return i.city = e.city, i.item_id = e.item_id, i.unit_price = e.unit_price, i.name = e.name, i
            }, t.json2Config = function(e) {
                var t = this;
                Object.keys(e).forEach(function(i) {
                    var n = t.obj2Config(e[i]);
                    t.configMap.set(i, n), n.id = parseInt(i)
                })
            }, t.getShopConfigByCity = function(e) {
                var t = [];
                return this.configMap.forEach(function(i, n) {
                    e == i.city && t.push(i)
                }), t
            }, t.configMap = new Map, t
        }(e("./JsonConfigBase").JsonConfigBase);
        i.YaoShopConfig = o, cc._RF.pop()
    }, {
        "./JsonConfigBase": "JsonConfigBase"
    }],
    ZhenBaoDes: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "7f7c8mLarxC/aGQHzz9mV6M", "ZhenBaoDes");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ViewBase"),
            s = e("../config/ViewConfig"),
            r = e("../../engine/UIManager"),
            l = e("../config/FangShopConfig"),
            c = e("../config/SkillConfig"),
            g = e("../config/SkinConfig"),
            f = e("../config/ColorConfig"),
            d = e("../../engine/Logger"),
            h = e("../model/FangShiModel"),
            u = e("../network/SocketClient"),
            p = e("../../engine/EventManager"),
            m = e("../event/CommonEvent"),
            C = e("../model/SkillModel"),
            v = e("../utils/UIHelper"),
            _ = cc._decorator,
            y = _.ccclass,
            M = (_.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.proNameList = ["\u901a\u7528", "\u6218\u58eb", "\u6cd5\u5e08", "\u9053\u58eb"], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.config = l.default.getConfigById(e), this.shopId = e, d.Logger.log("ZhenBaoDes====", this.config, e, h.default.getNumById(e)), p.EventManager.instance.on(m.CommonEvent.Event_ZHENBAOFangShi_Change, this.refreshView, this)
                }, t.prototype.onShow = function() {
                    r.default.instance.setTopUI(s.default.gameView.ZhenBaoDes), this.node.getChildByName("btnKnow").on(cc.Node.EventType.TOUCH_END, this.closeView.bind(this)), this.node.getChildByName("btnTry").on(cc.Node.EventType.TOUCH_END, this.onClickTry.bind(this)), this.node.getChildByName("btnBuy").on(cc.Node.EventType.TOUCH_END, this.onClickBuy.bind(this)), this.refreshView()
                }, t.prototype.refreshView = function() {
                    if (this.config.type == l.default.TYPE_SKILLEFFECT) {
                        var e = h.default.getNumById(this.shopId),
                            t = g.default.getConfigById(Number(this.config.item_id)),
                            i = c.SkillConfig.getSkillConfigById(t.type_value, 1);
                        this.findChild(this.node, "thingName").getComponent(cc.Label).string = t.name, this.findChild(this.node, "thingName").color = f.ColorConfig.getQualityColor(t.quality), this.findChild(this.node, "thingType").getComponent(cc.Label).string = "\u6280\u80fd\u7279\u6548", this.findChild(this.node, "thingType").color = f.ColorConfig.getQualityColor(t.quality), this.findChild(this.node, "btnTry").active = !(e > 0), this.findChild(this.node, "btnBuy").active = e > 0;
                        var n = this.proNameList[this.config.zhiye] + "\u6280\u80fd\u3010" + i.name + "\u3011\u7684\u7279\u6548\u76ae\u80a4\uff0c\u6548\u679c\u4e3a\u66ff\u6362\u6280\u80fd\u57fa\u7840\u7279\u6548\uff0c\u5e76\u4e14\u4f7f\u3010" + t.des + "\u3011\u3002(\u5728\u6280\u80fd\u754c\u9762\u53ef\u8fdb\u884c\u4f53\u9a8c)";
                        this.findChild(this.node, "thingDes").getComponent(cc.Label).string = n, this.findChild(this.node, "btnBuy/money").getComponent(cc.Label).string = this.config.unit_price + ""
                    }
                }, t.prototype.onClickTry = function() {
                    this.closeView();
                    var e = g.default.getConfigById(Number(this.config.item_id)),
                        t = c.SkillConfig.getSkillConfigById(e.type_value, 1);
                    p.EventManager.instance.dispatch(m.CommonEvent.Event_JumpToSkillEffectView, t.skillId)
                }, t.prototype.onClickBuy = function() {
                    if (h.default.getNumById(this.shopId) > 0) {
                        for (var e = C.SkillModel.getMyActiveSkillList(), t = !1, i = 0; i < e.length; i++)
                            e[i].skillId == g.default.getConfigById(Number(this.config.item_id)).type_value && (t = !0);
                        t ? u.default.s_seq_fangbuy(this.shopId, 1) : v.UIHelper.showTip("\u8fd8\u6ca1\u6709\u5b66\u4f1a\u8be5\u6280\u80fd")
                    }
                }, t = o([y], t)
            }(a.default));
        i.default = M, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/FangShopConfig": "FangShopConfig",
        "../config/SkillConfig": "SkillConfig",
        "../config/SkinConfig": "SkinConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../model/FangShiModel": "FangShiModel",
        "../model/SkillModel": "SkillModel",
        "../network/SocketClient": "SocketClient",
        "../utils/UIHelper": "UIHelper"
    }],
    ZoneModel: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "faff95topBNY53nU1Cbaoxx", "ZoneModel"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var n = e("../../engine/Logger"),
            o = e("../sdk/SdkHelper");
        (function(e) {
            e[e.Normal = 1] = "Normal", e[e.WeiHu = 2] = "WeiHu", e[e.NoOpen = 3] = "NoOpen", e[e.Full = 4] = "Full"
        })(i.ZoneInfoStatus || (i.ZoneInfoStatus = {}));
        var a = function() {
            function e() {
                this.index = 0, this.isRecommend = !1
            }
            return e.json2ZoneModel = function(t) {
                this.zoneModelList = [], this.my_server = [], n.Logger.log("ZoneModel.json2ZoneModel==", t);
                for (var i = t.server_list, a = t.my_server, s = 0; s < a.length; s++) {
                    (r = new e).server_id = i[s].server_id, r.create_time = 1e3 * i[s].create_time, r.server_ip = i[s].server_ip, r.server_name = i[s].server_name, r.server_port = i[s].server_port, r.server_status = i[s].server_status, r.unique_id = i[s].unique_id, r.android_switch = i[s].android_switch, r.ios_switch = i[s].ios_switch, r.isRecommend = Boolean(i[s].recommend), this.my_server.push(r)
                }
                for (s = 0; s < i.length; s++) {
                    var r;
                    (r = new e).server_id = i[s].server_id, r.create_time = 1e3 * i[s].create_time, r.server_ip = i[s].server_ip, r.server_name = i[s].server_name, r.server_port = i[s].server_port, r.server_status = i[s].server_status, r.unique_id = i[s].unique_id, r.android_switch = i[s].android_switch, r.ios_switch = i[s].ios_switch, r.isRecommend = Boolean(i[s].recommend), cc.sys.platform == cc.sys.WECHAT_GAME ? "wss://pmcqcocos06.gzlongrui.cn/wss02" == r.server_ip && this.zoneModelList.push(r) : "wss://pmcqcocos06.gzlongrui.cn/wss02" != r.server_ip && (o.default.isIos() ? 1 == r.ios_switch && this.zoneModelList.push(r) : 1 == r.android_switch && this.zoneModelList.push(r))
                }
                this.zoneModelList.sort(function(e, t) {
                    return e.server_id - t.server_id
                });
                for (s = 0; s < this.zoneModelList.length; s++) {
                    var l = this.zoneModelList[s];
                    if (100007 == l.unique_id) {
                        this.zoneModelList.splice(s, 1), this.zoneModelList.unshift(l);
                        break
                    }
                }
                this.zoneOffestList = [];
                for (s = 0; s < this.zoneModelList.length; s++) {
                    this.zoneModelList[s].index = s + 1;
                    var c = Math.floor(s / this.zone_offest);
                    this.zoneOffestList[c] || (this.zoneOffestList[c] = []), n.Logger.log("zoneModelList realinde=", c), this.zoneOffestList[c].push(this.zoneModelList[s])
                }
                this.zoneOffestList.reverse();
                for (s = 0; s < this.zoneOffestList.length; s++)
                    this.zoneOffestList[s].reverse();
                n.Logger.log("zoneModelList======", this.zoneModelList, this.zoneOffestList)
            }, e.getZoneListByTab = function(e, t) {
                for (var i = [], n = 0; n < this.zoneModelList.length; n++) {
                    var o = this.zoneModelList[n];
                    o.server_id >= e && o.server_id <= t && i.push(o)
                }
                return i
            }, e.zone_offest = 10, e.zoneModelList = [], e.my_server = [], e.zoneOffestList = [], e
        }();
        i.ZoneModel = a, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../sdk/SdkHelper": "SdkHelper"
    }],
    ZoneServerView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "887fa3POT5NV6S5wKZ3cuek", "ZoneServerView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/Logger"),
            s = e("../../engine/ViewBase"),
            r = e("../config/GameConfig"),
            l = e("../GameController"),
            c = e("../model/RoleInfoModel"),
            g = e("../model/ZoneModel"),
            f = e("../utils/MusicHelper"),
            d = e("../config/ColorConfig"),
            h = e("../../engine/UIManager"),
            u = e("../config/ViewConfig"),
            p = e("../network/SocketClient"),
            m = cc._decorator,
            C = m.ccclass,
            v = m.property,
            _ = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.zoneViewSpriteList = [], t
                }
                return n(t, e), t.prototype.onShow = function() {
                    this.view = this.findChild(this.node, "view"), this.myList = this.findChild(this.view, "line/view/content/my"), this.listItem = this.findChild(this.view, "line/view/content/item"), this.listItem.active = !1, this.serverItem = this.findChild(this.view, "server/view/content/item"), this.serverItem.active = !1, this.serverList = [], this.listNode = [], this.myList.on(cc.Node.EventType.TOUCH_END, this.onClickMyList, this), this.currIndex = 0, this.initList()
                }, t.prototype.onHide = function() {}, t.prototype.initList = function() {
                    for (var e = 0; e < g.ZoneModel.zoneOffestList.length; e++) {
                        var t = cc.instantiate(this.listItem);
                        t.parent = this.listItem.parent, t.name = e + "", t.active = !0, t.on(cc.Node.EventType.TOUCH_END, this.onSelectList.bind(this, e), this);
                        var i = g.ZoneModel.zoneOffestList[e];
                        t.getChildByName("name").getComponent(cc.Label).string = i[i.length - 1].index + "-" + i[0].index, this.listNode.push(t)
                    }
                    g.ZoneModel.my_server.length > 0 ? (this.myList.active = !0, this.initServerList(!0)) : (this.myList.active = !1, this.onSelectOneZoneList(0))
                }, t.prototype.initServerList = function(e) {
                    var t;
                    if (g.ZoneModel.my_server.length > 0 ? this.myList.active = !0 : this.myList.active = !1, t = e ? g.ZoneModel.my_server : g.ZoneModel.zoneOffestList[this.currIndex], this.serverList) {
                        for (var i = 0; i < this.serverList.length; i++)
                            this.serverList[i].destroy();
                        this.serverList = []
                    }
                    if (t)
                        for (i = 0; i < t.length; i++) {
                            var n = t[i],
                                o = cc.instantiate(this.serverItem);
                            o.parent = this.serverItem.parent, o.active = !0, o.on(cc.Node.EventType.TOUCH_END, this.onSelectServerList.bind(this, n), this), this.serverList.push(o), o.getChildByName("name").getComponent(cc.Label).string = n.server_name, n.server_status == g.ZoneInfoStatus.WeiHu ? (o.getChildByName("typ").getComponent(cc.Label).string = "\u7ef4\u62a4", o.getChildByName("typ").color = cc.Color.RED, o.getChildByName("name").color = cc.Color.GRAY) : n.isRecommend ? (o.getChildByName("typ").getComponent(cc.Label).string = "\u63a8\u8350", o.getChildByName("typ").color = cc.Color.GREEN, o.getChildByName("name").color = cc.Color.GREEN) : (o.getChildByName("typ").getComponent(cc.Label).string = "\u706b\u7206", o.getChildByName("name").color = cc.Color.RED, o.getChildByName("typ").color = cc.Color.RED)
                        }
                    else
                        h.default.instance.createView(u.default.gameView.DialogCheck, null, "\u83b7\u53d6\u670d\u52a1\u5668\u5217\u8868\u5931\u8d25!", function() {
                            l.default.instance.restartGame()
                        })
                }, t.prototype.onSelectList = function(e) {
                    f.MusicHelper.play_click(), a.Logger.log("onSelectList===", e), this.onSelectOneZoneList(e)
                }, t.prototype.onSelectOneZoneList = function(e) {
                    this.myList.getComponent(cc.Sprite).spriteFrame = this.zoneViewSpriteList[3], this.currIndex = e;
                    for (var t = 0; t < this.listNode.length; t++)
                        t == this.currIndex ? (this.listNode[t].getComponent(cc.Sprite).spriteFrame = this.zoneViewSpriteList[0], this.listNode[t].getChildByName("name").y = -5, this.listNode[t].getChildByName("name").color = d.ColorConfig.YellowColor) : (this.listNode[t].getComponent(cc.Sprite).spriteFrame = this.zoneViewSpriteList[1], this.listNode[t].getChildByName("name").y = 0, this.listNode[t].getChildByName("name").color = d.ColorConfig.WhiteColor);
                    this.initServerList(!1)
                }, t.prototype.onClickMyList = function() {
                    f.MusicHelper.play_click(), this.myList.getComponent(cc.Sprite).spriteFrame = this.zoneViewSpriteList[2];
                    for (var e = 0; e < this.listNode.length; e++)
                        this.listNode[e].getComponent(cc.Sprite).spriteFrame = this.zoneViewSpriteList[1], this.listNode[e].getChildByName("name").y = 0;
                    this.initServerList(!0)
                }, t.prototype.onSelectServerList = function(e) {
                    var t = this;
                    a.Logger.log("==\u9009\u62e9=\u670d\u52a1\u5668===", e), f.MusicHelper.play_click(), g.ZoneModel.nowZoneInfoModel = e, e.server_status != g.ZoneInfoStatus.Full ? (e.server_ip.includes("ws") || e.server_ip.includes("wss") ? r.GameConfig.socketUrl = e.server_ip + "" : r.GameConfig.socketUrl = "ws://" + e.server_ip + ":" + e.server_port, c.default.initRoleInfoByLocalStorage(), r.GameConfig.connectServer ? this.isClickLogin || (this.isClickLogin = !0, this.scheduleOnce(function() {
                        t.isClickLogin = !1
                    }, 3), cc.sys.isNative ? cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_LINUX ? p.default.login(2) : cc.sys.os == cc.sys.OS_IOS || cc.sys.os == cc.sys.OS_OSX ? p.default.login(2) : h.default.instance.createView(u.default.gameView.TempView) : cc.sys.isBrowser && window.location.ancestorOrigins.length > 0 ? p.default.login(2) : h.default.instance.createView(u.default.gameView.TempView)) : l.default.instance.gotoLogin()) : h.default.instance.createView(u.default.gameView.DialogCheck, null, "\u5f53\u524d\u670d\u52a1\u5668\u5df2\u7ecf\u8fbe\u5230\u6ce8\u518c\u4e0a\u9650\uff0c\u8bf7\u66f4\u6362\u5176\u4ed6\u670d\u52a1\u5668\u767b\u5f55!", function() {})
                }, o([v({
                    type: [cc.SpriteFrame]
                })], t.prototype, "zoneViewSpriteList", void 0), t = o([C], t)
            }(s.default);
        i.default = _, cc._RF.pop()
    }, {
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../GameController": "GameController",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../model/ZoneModel": "ZoneModel",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper"
    }],
    ZuiQiangFangYuGiftView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "dacb2kW3stPBKLY/f/gmYco", "ZuiQiangFangYuGiftView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ChongZhiConfig"),
            r = e("../../prefab/ItemPrefab"),
            l = e("../../model/ItemInfoModel"),
            c = e("../../config/GameConst"),
            g = e("../../config/ITemsConfig"),
            f = e("../../../engine/DateUtil"),
            d = e("../../config/EquipConfig"),
            h = e("../../../engine/Logger"),
            u = e("../../../engine/UIManager"),
            p = e("../../config/ViewConfig"),
            m = e("../../network/SocketClient"),
            C = e("../../../engine/EventManager"),
            v = e("../../event/CommonEvent"),
            _ = e("../../model/ServerTime"),
            y = e("../../model/RoleInfoModel"),
            M = e("../../config/WordConfig"),
            I = e("../../sdk/SdkHelper"),
            b = cc._decorator,
            L = b.ccclass,
            w = (b.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 20, t.getItemTypeList = ["D000004", "I3905", "I3906", "I4001"], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.model = e
                }, t.prototype.onShow = function() {
                    var e = this;
                    C.EventManager.instance.on(v.CommonEvent.Event_ChargeActivityOk, this.onChargeOk, this), I.default.isAndroid() ? this.chongzhiConfig = s.ChongZhiConfig.getConfigById(501) : this.chongzhiConfig = s.ChongZhiConfig.getConfigById(1501), this.txtLeftTime = this.node.getChildByName("txtLeftTime").getComponent(cc.Label);
                    var t = this.node.getChildByName("btnBuy");
                    this.btnBuy = t, this.hadBuy = this.node.getChildByName("hadBuy"), this.hadBuy.active = !1, this.onAddEvent(t, this.onClickBuy.bind(this)), this.leftTime = (this.model.end_time - _.ServerTime.getServerTime()) / 1e3, h.Logger.log("\u6700\u5f3a\u793c\u5305=", this.model, this.leftTime, this.chongzhiConfig), this.leftTime <= 0 && (this.leftTime = 0), this.schedule(function() {
                        e.leftTime > 0 && (e.leftTime--, e.leftTime <= 0 && e.closeView()), e.refresh()
                    }, 1), this.refresh();
                    for (var i = 0; i < this.getItemTypeList.length; i++) {
                        var n = this.node.getChildByName("ItemPrefab" + i),
                            o = this.getItemTypeList[i],
                            a = void 0;
                        if (0 == i)
                            a = l.default.create(c.GameConst.ITEM_KIND.EQUIP, o, 1, c.GameConst.QUALITY.ORANGE), this.onAddEvent(n, this.onClickItemPrefab.bind(this, a));
                        else {
                            var f = g.ITemsConfig.getITemsConfigById(o);
                            h.Logger.log("ItemInfoModel.create====", o, this.chongzhiConfig.item, this.chongzhiConfig.item[o]), a = l.default.create(c.GameConst.ITEM_KIND.ITEM, o, this.chongzhiConfig.item[o], f.quality)
                        }
                        n.getComponent(r.default).init(a)
                    }
                }, t.prototype.onClickItemPrefab = function(e) {
                    e = l.default.createDingZhiEquip(e.itemType), u.default.instance.createView(p.default.gameView.equipInfo, null, e)
                }, t.prototype.onChargeOk = function(e) {
                    e == this.chongzhiConfig.id && (this.hadBuy.active = !0, this.btnBuy.active = !1, this.leftTime = 0, this.refresh())
                }, t.prototype.onClickBuy = function() {
                    var e = new Array;
                    for (var t in this.chongzhiConfig.item) {
                        var i = d.EquipConfig.getEquipConfigById(t);
                        if (i) {
                            var n = l.AddItemParamStruct.create(y.default.instance, i.kind, i.id, 1);
                            e.push(n)
                        } else {
                            var o = g.ITemsConfig.getITemsConfigById(t);
                            e.push(l.AddItemParamStruct.create(y.default.instance, o.kind, o.id, this.chongzhiConfig.item[t], o.quality))
                        }
                    }
                    h.Logger.log("\u5c1d\u8bd5\u8d2d\u4e70\u795e\u88c5=", e), y.default.instance.tryAddItemsToBag(e) ? m.default.req_charge(this.chongzhiConfig.id) : M.WordConfig.showWord(60001)
                }, t.prototype.refresh = function() {
                    this.leftTime <= 0 ? this.txtLeftTime.string = "--" : this.txtLeftTime.string = f.default.formatLeftTime2(1e3 * this.leftTime)
                }, t = o([L], t)
            }(a.default));
        i.default = w, cc._RF.pop()
    }, {
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../config/WordConfig": "WordConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/ServerTime": "ServerTime",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper"
    }],
    ZuiQiangJiNengGiftView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "06ddcNMXApBrL0er5/6jkFu", "ZuiQiangJiNengGiftView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ChongZhiConfig"),
            r = e("../../prefab/ItemPrefab"),
            l = e("../../model/ItemInfoModel"),
            c = e("../../config/GameConst"),
            g = e("../../config/ITemsConfig"),
            f = e("../../../engine/DateUtil"),
            d = e("../../config/EquipConfig"),
            h = e("../../../engine/Logger"),
            u = e("../../../engine/UIManager"),
            p = e("../../config/ViewConfig"),
            m = e("../../network/SocketClient"),
            C = e("../../../engine/EventManager"),
            v = e("../../event/CommonEvent"),
            _ = e("../../model/ServerTime"),
            y = e("../../model/RoleInfoModel"),
            M = e("../../config/WordConfig"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.leftTime = 20, t.getItemTypeList = ["D000005", "I3903", "I3007", "I8001", "I8002", "I8005", "I8009", "I8012"], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.model = e, this.scrollView = this.findChild(this.node, "ScrollView").getComponent(cc.ScrollView), this.itemPrefab = this.findChild(this.node, "ItemPrefab0")
                }, t.prototype.onShow = function() {
                    var e = this;
                    C.EventManager.instance.on(v.CommonEvent.Event_ChargeActivityOk, this.onChargeOk, this), this.chongzhiConfig = s.ChongZhiConfig.getConfigById(502), this.txtLeftTime = this.node.getChildByName("txtLeftTime").getComponent(cc.Label);
                    var t = this.node.getChildByName("btnBuy");
                    this.btnBuy = t, this.btnBuy.getChildByName("txtCost").getComponent(cc.Label).string = this.chongzhiConfig.money + "", this.hadBuy = this.node.getChildByName("hadBuy"), this.hadBuy.active = !1, this.onAddEvent(t, this.onClickBuy.bind(this)), this.leftTime = (this.model.end_time - _.ServerTime.getServerTime()) / 1e3, h.Logger.log("\u6700\u5f3a\u6280\u80fd\u793c\u5305=", this.model, this.leftTime, this.chongzhiConfig), this.leftTime <= 0 && (this.leftTime = 0), this.schedule(function() {
                        e.leftTime > 0 && (e.leftTime--, e.leftTime <= 0 && e.closeView()), e.refresh()
                    }, 1), this.refresh(), this.scrollView.content.removeAllChildren();
                    for (var i = 0; i < this.getItemTypeList.length; i++) {
                        var n = cc.instantiate(this.itemPrefab);
                        n.active = !0;
                        var o = this.getItemTypeList[i],
                            a = void 0;
                        if (0 == i)
                            a = l.default.createFuWenEquip(o), this.onAddEvent(n, this.onClickItemPrefab.bind(this, a)), n.getChildByName("fontclib_shenzhuang_biaoshi").active = !0;
                        else {
                            var f = g.ITemsConfig.getITemsConfigById(o);
                            a = l.default.create(c.GameConst.ITEM_KIND.ITEM, o, this.chongzhiConfig.item[o], f.quality), n.getChildByName("fontclib_shenzhuang_biaoshi").active = !1
                        }
                        n.getComponent(r.default).init(a), this.scrollView.content.addChild(n)
                    }
                }, t.prototype.onClickItemPrefab = function(e) {
                    u.default.instance.createView(p.default.gameView.equipInfo, null, e)
                }, t.prototype.onChargeOk = function(e) {
                    e == this.chongzhiConfig.id && (this.hadBuy.active = !0, this.btnBuy.active = !1, this.leftTime = 0, this.refresh())
                }, t.prototype.onClickBuy = function() {
                    var e = new Array;
                    for (var t in this.chongzhiConfig.item) {
                        var i = d.EquipConfig.getEquipConfigById(t);
                        if (i) {
                            var n = l.AddItemParamStruct.create(y.default.instance, i.kind, i.id, 1);
                            e.push(n)
                        } else {
                            var o = g.ITemsConfig.getITemsConfigById(t);
                            e.push(l.AddItemParamStruct.create(y.default.instance, o.kind, o.id, this.chongzhiConfig.item[t], o.quality))
                        }
                    }
                    h.Logger.log("\u5c1d\u8bd5\u8d2d\u4e70\u6280\u80fd=", e, this.chongzhiConfig.id), y.default.instance.tryAddItemsToBag(e) ? m.default.req_charge(this.chongzhiConfig.id) : M.WordConfig.showWord(60001)
                }, t.prototype.refresh = function() {
                    this.leftTime <= 0 ? this.txtLeftTime.string = "--" : this.txtLeftTime.string = f.default.formatLeftTime(1e3 * this.leftTime)
                }, t = o([b], t)
            }(a.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../../engine/DateUtil": "DateUtil",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ChongZhiConfig": "ChongZhiConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/GameConst": "GameConst",
        "../../config/ITemsConfig": "ITemsConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../config/WordConfig": "WordConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../model/ServerTime": "ServerTime",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab"
    }],
    buyItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "b7d7bcONDhJs4SneRGHVTW6", "buyItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/UIManager"),
            s = e("../../engine/ViewBase"),
            r = e("../config/ViewConfig"),
            l = e("../utils/UIHelper"),
            c = e("../model/RoleInfoModel"),
            g = e("../model/ItemInfoModel"),
            f = e("../config/ColorConfig"),
            d = e("../config/GameConst"),
            h = e("../../engine/EventManager"),
            u = e("../event/CommonEvent"),
            p = e("../model/AdModel"),
            m = e("../sdk/SdkHelper"),
            C = e("../config/WordConfig"),
            v = e("../config/GameConfig"),
            _ = e("../network/SocketClient"),
            y = e("../../engine/Logger"),
            M = e("../miniGameTools/tttool"),
            I = e("../model/PrivilegeModel"),
            b = function() {
                return function() {
                    this.amount = 3, this.type = 1
                }
            }();
        i.buyItemParams = b;
        var L = cc._decorator,
            w = L.ccclass,
            S = (L.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.params = {
                        itemId: "",
                        desc: "",
                        amount: 3,
                        type: 1
                    }, t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.params = e
                }, t.prototype.onShow = function() {
                    h.EventManager.instance.on(u.CommonEvent.Event_ad_end, this.onAdEnd, this), this.setTopUI();
                    var e = this.getChild(this.node, "btnFree"),
                        t = this.getChild(this.node, "btnBuy"),
                        i = this.getChild(this.node, "btnClose");
                    this.onAddEvent(e, this.onAd.bind(this)), this.onAddEvent(t, this.onGold.bind(this)), this.onAddEvent(i, this.onClose.bind(this)), this.params.itemId == d.ItemId.ANTIQUE ? this.getChild(this.node, "btnFree/nums", cc.Label).string = p.default.getAdLostTimes(p.Ad_Type.Antique) + "" : (e.active = !1, t.x = 0), v.GameConfig.platform === cc.sys.WECHAT_GAME && (t.active = !1, e.x = 0), this.initLbl(), this.refreshInfo()
                }, t.prototype.refreshInfo = function() {
                    I.default.hadFreePrivilege() && (this.node.getChildByName("btnFree").getChildByName("button_mianfeihuoqu_gkgg").active = !1)
                }, t.prototype.initLbl = function() {
                    var e = this.getChild(this.node, "btnBuy/nums", cc.Label),
                        t = this.getChild(this.node, "pnlItem"),
                        i = this.getChild(this.node, "pnlItem/itemName", cc.Label),
                        n = this.getChild(this.node, "pnlItem/itemAmount", cc.Label),
                        o = g.default.getConfigById(this.params.itemId),
                        a = this.getChild(this.node, "itemDesc", cc.Label);
                    this.config = o, this.gold = o.gem * this.params.amount, t.color = i.node.color = f.ColorConfig.getQualityColor(o.quality), i.string = "" + o.name, n.string = "+" + this.params.amount, a.string = "" + this.params.desc, e.string = "" + this.gold
                }, t.prototype.onAd = function() {
                    c.default.instance.getAddItemMaxNum(g.AddItemParamStruct.create(c.default.instance, this.config.kind, this.config.id, 3, this.config.quality, !0)) < 3 ? C.WordConfig.showWord(60001) : p.default.getAdLostTimes(p.Ad_Type.Antique) > 0 ? I.default.hadFreePrivilege() ? this.onAdEnd() : v.GameConfig.platform === cc.sys.WECHAT_GAME ? M.tttool.OpenAD() : m.default.sdkAd() : l.UIHelper.showTip("\u514d\u8d39\u6b21\u6570\u4e0d\u8db3!")
                }, t.prototype.onAdEnd = function() {
                    p.default.getAdLostTimes(p.Ad_Type.Antique) > 0 && v.GameConfig.connectServer && (m.default.sdkCustomAction(26, this.params.amount), _.default.req_advertisement_info(p.Ad_Type.Antique), this.closeView())
                }, t.prototype.onGold = function() {
                    c.default.instance.getAddItemMaxNum(g.AddItemParamStruct.create(c.default.instance, this.config.kind, this.config.id, this.params.amount, this.config.quality, !0)) < this.params.amount ? C.WordConfig.showWord(60001) : c.default.instance.getGold() >= this.gold ? v.GameConfig.connectServer && (1 == this.params.type ? m.default.sdkCustomAction(7, this.params.amount) : m.default.sdkCustomAction(8, this.params.amount), m.default.sdkCustomAction(25, this.params.amount), y.Logger.log("\u8d2d\u4e70\u53e4\u8463====", this.params), _.default.req_buy(3, 1, this.params.amount, 2, 1, this.params.itemId), this.onClose()) : l.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3")
                }, t.prototype.onClose = function() {
                    h.EventManager.instance.dispatch(d.EVENT_NAME.REFRESH_REFINE), a.default.instance.closeView(r.default.gameView.buyItem)
                }, t = o([w], t)
            }(s.default));
        i.default = S, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/ColorConfig": "ColorConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/ViewConfig": "ViewConfig",
        "../config/WordConfig": "WordConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/AdModel": "AdModel",
        "../model/ItemInfoModel": "ItemInfoModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    buyMoney: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "50958xB4K5OQLuGF9CptpwM", "buyMoney");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/UIManager"),
            s = e("../../engine/ViewBase"),
            r = e("../config/ViewConfig"),
            l = e("../utils/UIHelper"),
            c = e("../config/DefaultConfig"),
            g = e("../config/GoldsConfig"),
            f = e("../model/RoleInfoModel"),
            d = e("../../engine/EventManager"),
            h = e("../event/CommonEvent"),
            u = e("../model/AdModel"),
            p = e("../sdk/SdkHelper"),
            m = e("../network/SocketClient"),
            C = e("../config/GameConst"),
            v = e("../config/GameConfig"),
            _ = e("../miniGameTools/tttool"),
            y = e("../model/PrivilegeModel"),
            M = cc._decorator,
            I = M.ccclass,
            b = (M.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.multiNum = 10, t
                }
                return n(t, e), t.prototype.onShow = function() {
                    d.EventManager.instance.on(h.CommonEvent.Event_ad_end, this.onAdEnd, this), this.setTopUI(), this.initData();
                    this.getChild(this.node, "pnlBtn/btnFree/nums", cc.Label);
                    var e = this.getChild(this.node, "pnlBtn/btnBuy/nums", cc.Label),
                        t = this.getChild(this.node, "pnlBtn/btnBuyMulti/nums", cc.Label),
                        i = this.getChild(this.node, "pnlLbl/lblCoin", cc.Label);
                    this.getChild(this.node, "pnlBtn/btnFree/nums", cc.Label).string = u.default.getAdLostTimes(u.Ad_Type.Coin) + "", e.string = "" + this.gold, t.string = this.gold * this.multiNum + "", i.string = "" + this.coin, this.getChild(this.node, "pnlLbl/txtYuanBaoGet", cc.Label).string = this.coin + "", this.getChild(this.node, "pnlLbl/txtYuanBaoGetMulti", cc.Label).string = l.UIHelper.tranNumber(this.coin * this.multiNum) + "";
                    var n = this.getChild(this.node, "pnlBtn/btnFree"),
                        o = this.getChild(this.node, "pnlBtn/btnBuy"),
                        a = this.getChild(this.node, "pnlBtn/btnBuyMulti");
                    this.onAddEvent(n, this.onAd.bind(this)), this.onAddEvent(o, this.onGold.bind(this)), this.onAddEvent(a, this.onClickMultiGold.bind(this)), v.GameConfig.platform === cc.sys.WECHAT_GAME && (o.active = !1, a.active = !1, n.x = 0, this.getChild(this.node, "pnlLbl/lblCoin").x = -20.482, this.getChild(this.node, "pnlLbl/icon_tongqian").x = -39.898, this.getChild(this.node, "pnlLbl/icon_tongqiancopy1").active = !1, this.getChild(this.node, "pnlLbl/txtYuanBaoGet").active = !1, this.getChild(this.node, "pnlLbl/icon_tongqiancopy2").active = !1, this.getChild(this.node, "pnlLbl/txtYuanBaoGetMulti").active = !1), this.refreshInfo()
                }, t.prototype.refreshInfo = function() {
                    y.default.hadFreePrivilege() && (this.node.getChildByName("pnlBtn").getChildByName("btnFree").getChildByName("button_mianfeihuoqu_gkgg").active = !1)
                }, t.prototype.initData = function() {
                    var e = c.DefaultConfig.getConfigById(15),
                        t = g.GoldsConfig.getConfigById(f.default.instance.level);
                    this.coin = t.gold, this.gold = this.coin / (1e4 / e.value.gem_p) || 5, this.times = e.value.times || 5
                }, t.prototype.onAd = function() {
                    u.default.getAdLostTimes(u.Ad_Type.Coin) > 0 ? y.default.hadFreePrivilege() ? this.onAdEnd() : v.GameConfig.platform === cc.sys.WECHAT_GAME ? _.tttool.OpenAD() : p.default.sdkAd() : l.UIHelper.showTip("\u514d\u8d39\u6b21\u6570\u4e0d\u8db3!")
                }, t.prototype.onAdEnd = function() {
                    u.default.getAdLostTimes(u.Ad_Type.Coin) > 0 && (p.default.sdkCustomAction(16, this.coin), this.closeView(), m.default.req_advertisement_info(u.Ad_Type.Coin))
                }, t.prototype.onGold = function() {
                    f.default.instance.getGold() >= this.gold ? (p.default.sdkCustomAction(10, this.gold), p.default.sdkCustomAction(15, this.coin), v.GameConfig.connectServer ? m.default.req_buy(4, C.GameConst.RES_TYPE.COIN, this.coin, 2, 1, "abc") : (f.default.instance.decGold(this.gold), f.default.instance.addCoin(this.coin)), this.onClose()) : l.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3")
                }, t.prototype.onClickMultiGold = function() {
                    f.default.instance.getGold() >= this.gold * this.multiNum ? (p.default.sdkCustomAction(10, this.gold * this.multiNum), p.default.sdkCustomAction(15, this.coin * this.multiNum), v.GameConfig.connectServer ? m.default.req_buy(4, C.GameConst.RES_TYPE.COIN, this.coin * this.multiNum, 2, 1, "abc", this.multiNum) : (f.default.instance.decGold(this.gold), f.default.instance.addCoin(this.coin)), this.onClose()) : l.UIHelper.showTip("\u5143\u5b9d\u4e0d\u8db3")
                }, t.prototype.onClose = function() {
                    a.default.instance.closeView(r.default.gameView.buyMoney)
                }, t = o([I], t)
            }(s.default));
        i.default = b, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/UIManager": "UIManager",
        "../../engine/ViewBase": "ViewBase",
        "../config/DefaultConfig": "DefaultConfig",
        "../config/GameConfig": "GameConfig",
        "../config/GameConst": "GameConst",
        "../config/GoldsConfig": "GoldsConfig",
        "../config/ViewConfig": "ViewConfig",
        "../event/CommonEvent": "CommonEvent",
        "../miniGameTools/tttool": "tttool",
        "../model/AdModel": "AdModel",
        "../model/PrivilegeModel": "PrivilegeModel",
        "../model/RoleInfoModel": "RoleInfoModel",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    cuilianHelpView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "3c640ghBANFsZzW7xzbDfft", "cuilianHelpView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/MagicNameConfig"),
            r = e("../../../engine/UIManager"),
            l = e("../../config/ViewConfig"),
            c = e("../../model/MagicModel"),
            g = cc._decorator,
            f = g.ccclass,
            d = (g.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.itemList = [], t
                }
                return n(t, e), t.prototype.onInitChild = function(e) {
                    this.init(e)
                }, t.prototype.init = function(e) {
                    r.default.instance.setTopUI(l.default.gameView.cuilianHelpView), this.onAddEvent(this.findChild(this.node, "btnClose"), this.onClickClose.bind(this)), this.node.x = 0, this.node.active = !0, this.scrollContent = this.getChild(this.node, "ScrollView/view/content");
                    for (var t = "", i = "", n = "", o = 0, a = 0; a < this.itemList.length; a++)
                        this.itemList[a].destroy();
                    this.itemList = [];
                    var g = e.fuwenAtriList;
                    for (a = 0; a < g.length; a++)
                        i = s.MagicNameConfig.getDesc(g[a].magicId), t = c.default.formatMagicValue(g[a].magicId, g[a].max), n = c.default.formatMagicValue(g[a].magicId, g[a].min), this.initItem(i, t, n, o++)
                }, t.prototype.initItem = function(e, t, i, n) {
                    var o = this.getChild(this.node, "ScrollView/view/content/item");
                    o.active = !1;
                    var a = cc.instantiate(o);
                    a.active = !0;
                    var s = this.getChild(a, "bg"),
                        r = this.getChild(a, "lblAttName", cc.Label),
                        l = this.getChild(a, "lblMax", cc.Label),
                        c = this.getChild(a, "lblMin", cc.Label);
                    r.string = e, l.string = t + "", c.string = i + "", n % 2 == 0 && (s.active = !1), this.scrollContent.addChild(a), this.itemList.push(a)
                }, t.prototype.onClickClose = function() {
                    this.node.active = !1
                }, t = o([f], t)
            }(a.default));
        i.default = d, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/MagicModel": "MagicModel"
    }],
    cuilianRuleView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c509cHD98JE8pYG/vq3jN29", "cuilianRuleView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/ViewBase"),
            s = e("../../config/ViewConfig"),
            r = e("../../../engine/UIManager"),
            l = cc._decorator,
            c = l.ccclass,
            g = (l.property, function(e) {
                function t() {
                    return null !== e && e.apply(this, arguments) || this
                }
                return n(t, e), t.prototype.onShow = function() {
                    r.default.instance.setTopUI(s.default.gameView.cuilianRuleView)
                }, t = o([c], t)
            }(a.default));
        i.default = g, cc._RF.pop()
    }, {
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ViewConfig": "ViewConfig"
    }],
    cuilianView: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5cd68k+MR5Ik6Ebtl2jo19h", "cuilianView");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/EventManager"),
            s = e("../../../engine/UIManager"),
            r = e("../../../engine/ViewBase"),
            l = e("../../config/EquipConfig"),
            c = e("../../config/GameConst"),
            g = e("../../config/MagicNameConfig"),
            f = e("../../config/ViewConfig"),
            d = e("../../model/ItemInfoModel"),
            h = e("../../model/MagicModel"),
            u = e("../../model/RoleInfoModel"),
            p = e("../../utils/MusicHelper"),
            m = e("../../utils/UIHelper"),
            C = e("../../../engine/Logger"),
            v = e("../../config/ColorConfig"),
            _ = e("../../network/SocketClient"),
            y = e("../../../engine/ProtoConfig"),
            M = e("../../../engine/ProtoUtils"),
            I = e("../../config/GameConfig"),
            b = e("../../prefab/ItemPrefab"),
            L = (e("../BuyShopView"), e("../../sdk/SdkHelper"), e("../../model/ChargeActivityModel"), e("../../model/AdModel")),
            w = e("../../config/RuneConfig"),
            S = e("../../config/QuenchingCostConfig"),
            E = e("../../config/MapConfig"),
            k = e("./xianjiPrefab"),
            T = cc._decorator,
            N = T.ccclass,
            R = (T.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.isNotTips = !1, t.isSave = !0, t.refineRan = [], t.stoneAmount = 0, t.coin = 0, t.useGold = !1, t.canLockNum = 0, t.lockList = [], t.lockNodeList = [], t.suoNodeList = [], t.showId = 0, t.wantList = [], t.txtNowFight = null, t.txtWantFight = null, t.clickingRefine = !1, t.pageType = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.onInitChild = function(e) {
                    this.model = e, this.canLockNum = this.model.fuwenAtriList.length - 2, this.config = l.EquipConfig.getEquipConfigById(this.model.itemType), this.quenchingCostConfig = S.QuenchingCostConfig.getConfigByLevel(this.config.level), C.Logger.log("RefineView===", this.model)
                }, t.prototype.onShow = function() {
                    s.default.instance.setTopUI(this.viewPath), this.cuilianPanel = this.getChild(this.node, "panel/cuilianPanel"), this.xianjiPanel = this.getChild(this.node, "panel/xianjiPanel"), this.initData(), this.onEvent(), this.refreshLbl(), I.GameConfig.platform == cc.sys.WECHAT_GAME && (this.findChild(this.cuilianPanel, "pnlPanel/pnlLbl/pnlGold").active = !1, this.findChild(this.node, "panel/cuilianPanel/pnlBtn/btnUseGold").active = !1), this.btnTab0 = this.findChild(this.node, "btnTab0"), this.btnTab1 = this.findChild(this.node, "btnTab1"), this.pageType = i.TYPE_REFINE, this.changePage()
                }, t.prototype.onUserInfoRefresh = function() {
                    this.refreshLbl()
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (e == y.ProtoConfig.c_seq_quench) {
                        this.clickingRefine = !1;
                        var i = M.ProtoUtils.DeserializeBinary(y.ProtoConfig.c_seq_quench, t);
                        C.Logger.log("c_seq_quench=======", i);
                        for (var n = i.getTruneinfo().getPropertyListList(), o = [], a = 0; a < n.length; a++) {
                            var s = new h.default;
                            s.pos = n[a].getPos(), s.magicId = n[a].getK(), s.magicValue = n[a].getV(), s.min = n[a].getMinV(), s.max = n[a].getMaxV(), s.color = n[a].getColor(), o.push(s)
                        }
                        o.sort(function(e, t) {
                            return e.pos - t.pos
                        }), this.wantList = o, this.refreshWantAttri(), this.refreshLbl()
                    } else if (e == y.ProtoConfig.c_seq_saverune) {
                        i = M.ProtoUtils.DeserializeBinary(y.ProtoConfig.c_seq_saverune, t);
                        C.Logger.log("c_seq_saverune=======", i), 1 == i.getRet() && (this.model.fuwenAtriList = this.wantList, this.initLeftRandomAttr(), this.wantList = [], this.scrollViewRight.content.removeAllChildren(), this.refreshLbl(), this.findChild(this.cuilianPanel, "pnlPanel/pnlName").getComponent(b.default).init(this.model))
                    } else if (e == y.ProtoConfig.c_req_buy) {
                        1 == (i = M.ProtoUtils.DeserializeBinary(y.ProtoConfig.c_req_buy, t)).getRet() && this.useGold && this.onRefine()
                    }
                }, t.prototype.onEvent = function() {
                    var e = this;
                    this.onAddEventOnly(this.node, "panel/btnDisplay", this.onDisplay.bind(this)), this.onAddEventOnly(this.node, "panel/btnClose", this.onClose.bind(this)), this.findChild(this.node, "bg").on(cc.Node.EventType.TOUCH_END, this.onClose.bind(this)), this.onAddEventOnly(this.node, "panel/cuilianPanel/pnlBtn/btnRefine", this.onClickRefine.bind(this)), this.onAddEventOnly(this.node, "panel/cuilianPanel/pnlBtn/btnSave", this.onSave.bind(this)), this.onAddEventOnly(this.node, "panel/cuilianPanel/pnlBtn/btnUseGold", this.onUseGold.bind(this)), this.onAddEventOnly(this.node, "btnTab0", this.changePageType.bind(this, "btnTab0")), this.onAddEventOnly(this.node, "btnTab1", this.changePageType.bind(this, "btnTab1")), a.EventManager.instance.on(c.EVENT_NAME.REFRESH_REFINE, this.refreshLbl, this), this.onAddEvent(this.findChild(this.node, "panel/cuilianPanel/pnlPanel/btnEye"), function() {
                        s.default.instance.createView(f.default.gameView.cuilianHelpView, null, e.model)
                    }), this.initTipFrame()
                }, t.prototype.changePageType = function(e) {
                    if (C.Logger.log("this.pageType===", e), "btnTab0" == e) {
                        if (this.xianjiPanel.getComponent(k.default).xianjistate != k.default.xianji_IDLE && this.xianjiPanel.getComponent(k.default).wantList.length > 0)
                            return void this.showTips(3);
                        this.pageType = i.TYPE_REFINE
                    } else if ("btnTab1" == e) {
                        if (!this.isSave && !this.isNotTips && this.wantList.length > 0)
                            return void this.showTips(2);
                        this.pageType = i.TYPE_XIANJI
                    }
                    this.changePage()
                }, t.prototype.changePage = function() {
                    this.pageType == i.TYPE_REFINE ? (this.cuilianPanel.active = !0, this.xianjiPanel.active = !1, this.findChild(this.btnTab0, "isSelet").active = !0, this.findChild(this.btnTab0, "noSelet").active = !1, this.findChild(this.btnTab1, "isSelet").active = !1, this.findChild(this.btnTab1, "noSelet").active = !0, this.xianjiPanel.getComponent(k.default).initNoSeletModel()) : this.pageType == i.TYPE_XIANJI && (this.cuilianPanel.active = !1, this.xianjiPanel.active = !0, this.findChild(this.btnTab0, "isSelet").active = !1, this.findChild(this.btnTab0, "noSelet").active = !0, this.findChild(this.btnTab1, "isSelet").active = !0, this.findChild(this.btnTab1, "noSelet").active = !1, this.wantList = [], this.scrollViewRight.content.removeAllChildren(), this.isSave = !0, this.refreshLbl())
                }, t.prototype.initData = function() {
                    this.findChild(this.cuilianPanel, "pnlPanel/pnlName").getComponent(b.default).init(this.model), this.findChild(this.cuilianPanel, "pnlPanel/fuwenName").getComponent(cc.Label).string = w.RuneConfig.getRuneById(this.model.fuwenId).name, this.scrollViewLeft = this.getChild(this.cuilianPanel, "pnlPanel/scrollViewLeft", cc.ScrollView), this.scrollViewRight = this.getChild(this.cuilianPanel, "pnlPanel/scrollViewRight", cc.ScrollView), this.scrollViewLeft.content.removeAllChildren(), this.scrollViewRight.content.removeAllChildren(), this.itemNode = this.findChild(this.cuilianPanel, "pnlPanel/item"), this.itemNode.active = !1, this.txtNowFight = this.getChild(this.cuilianPanel, "pnlPanel/pnlLbl/txtNowFight", cc.Label), this.txtWantFight = this.getChild(this.cuilianPanel, "pnlPanel/pnlLbl/txtWantFight", cc.Label), this.initLeftRandomAttr(), this.xianjiPanel.getComponent("xianjiPrefab").init(this.model)
                }, t.prototype.initLeftRandomAttr = function() {
                    this.lockList = [], this.lockNodeList = [], this.suoNodeList = [], this.scrollViewLeft.content.removeAllChildren();
                    for (var e = 0; e < this.model.fuwenAtriList.length; e++) {
                        var t = cc.instantiate(this.itemNode);
                        t.active = !0, this.scrollViewLeft.content.addChild(t);
                        var i = t.getChildByName("lockItem").getChildByName("lockNode");
                        i.active = !1, this.lockNodeList[e] = i;
                        var n = this.lockNodeList[e].getChildByName("suoNode");
                        n.active = !1, this.suoNodeList[e] = n, t.setPosition(0, 0), i.on(cc.Node.EventType.TOUCH_END, this.onClickLock.bind(this, e));
                        var o = this.model.fuwenAtriList[e],
                            a = (l.EquipConfig.getEquipConfigById(this.model.itemType), t.getChildByName("txtDesc").getComponent(cc.Label));
                        a.string = g.MagicNameConfig.getDesc(o.magicId) + ":" + h.default.formatMagicValue(o.magicId, o.magicValue), a.node.color = l.EquipConfig.getColorByCurrAndMax(o.magicValue, o.max)
                    }
                }, t.prototype.onClickLock = function(e) {
                    var t = this.lockList.indexOf(e);
                    if (-1 == t) {
                        if (this.lockList.push(e), this.suoNodeList[e].active = !0, this.lockList.length >= this.canLockNum)
                            for (var i = 0; i < this.lockNodeList.length; i++) {
                                -1 == this.lockList.indexOf(i) ? this.lockNodeList[i].active = !1 : (this.lockNodeList[i].active = !0, this.suoNodeList[i].active = !0)
                            }
                    } else if (this.suoNodeList[e].active = !1, this.lockList.splice(t, 1), this.lockList.length < this.canLockNum)
                        for (i = 0; i < this.lockNodeList.length; i++)
                            this.lockNodeList[i].active = !0;
                    this.refreshLbl()
                }, t.prototype.refreshWantAttri = function() {
                    this.scrollViewRight.content.removeAllChildren();
                    for (var e = 0; e < this.wantList.length; e++) {
                        var t = cc.instantiate(this.itemNode);
                        t.active = !0, this.scrollViewRight.content.addChild(t);
                        var i = t.getChildByName("lockItem").getChildByName("lockNode");
                        i.active = !0;
                        var n = i.getChildByName("suoNode");
                        -1 != this.lockList.indexOf(e) ? n.active = !0 : (n.active = !1, i.active = !1), t.setPosition(0, 0);
                        var o = this.wantList[e],
                            a = t.getChildByName("txtDesc").getComponent(cc.Label);
                        a.string = g.MagicNameConfig.getDesc(o.magicId) + ":" + h.default.formatMagicValue(o.magicId, o.magicValue), a.node.color = l.EquipConfig.getColorByCurrAndMax(o.magicValue, o.max)
                    }
                }, t.prototype.onAddEventOnly = function(e, t, i, n) {
                    void 0 === n && (n = !1);
                    var o = this.getChild(e, "" + t);
                    n && o.off("click"), o.on("click", function() {
                        i(), p.MusicHelper.play_click()
                    }.bind(this), this)
                }, t.prototype.refreshLbl = function() {
                    this.stoneAmount = this.getStoneAmount(), this.coin = this.getCoin();
                    var e = u.default.instance.getChuiLianStoneAmount(),
                        t = this.getChild(this.cuilianPanel, "pnlPanel/pnlLbl/pnlCoin/lblCoin", cc.Label);
                    t.string = this.coin + "", u.default.instance.getCoin() >= this.coin ? t.node.color = v.ColorConfig.GreenColor : t.node.color = v.ColorConfig.RedColor;
                    var i = this.getChild(this.cuilianPanel, "pnlPanel/pnlLbl/pnlStone/lblStone", cc.RichText);
                    C.Logger.log("lblStone====", this.coin, e), e >= this.stoneAmount ? i.string = "<color=#00ff00>" + e + "</color><color=#ffffff>/" + this.stoneAmount + "</color>" : i.string = "<color=#FF0000>" + e + "</color><color=#ffffff>/" + this.stoneAmount + "</color>", this.config.world == E.MapConfig.WORLD.FanRen ? this.txtNowFight.string = l.EquipConfig.getFanRenZhiLi(this.model.itemType, this.model.baseAddAttrList, this.model.randAttrList) + "" : this.config.world == E.MapConfig.WORLD.LunHui && (this.txtNowFight.string = l.EquipConfig.getLunHuiZhiLi(this.model.itemType, this.model.baseAddAttrList, this.model.fuwenAtriList) + ""), this.wantList.length > 0 ? this.config.world == E.MapConfig.WORLD.FanRen ? this.txtWantFight.string = l.EquipConfig.getFanRenZhiLi(this.model.itemType, this.model.baseAddAttrList, this.model.randAttrList) + "" : this.config.world == E.MapConfig.WORLD.LunHui && (this.txtWantFight.string = l.EquipConfig.getLunHuiZhiLi(this.model.itemType, this.model.baseAddAttrList, this.wantList) + "") : this.txtWantFight.string = "0"
                }, t.prototype.getStoneAmount = function() {
                    return this.model.fuwenAtriList.length <= 2 ? this.quenchingCostConfig.quality2[1] : this.model.fuwenAtriList.length <= 3 ? this.quenchingCostConfig.quality3[1] : this.model.fuwenAtriList.length <= 4 ? this.quenchingCostConfig.quality4[1] : (this.model.fuwenAtriList.length, this.quenchingCostConfig.quality5[1])
                }, t.prototype.getCoin = function() {
                    return this.model.fuwenAtriList.length <= 2 ? this.quenchingCostConfig.quality2[0] : this.model.fuwenAtriList.length <= 3 ? this.quenchingCostConfig.quality3[0] : this.model.fuwenAtriList.length <= 4 ? this.quenchingCostConfig.quality4[0] : (this.model.fuwenAtriList.length, this.quenchingCostConfig.quality5[0])
                }, t.prototype.onDisplay = function() {
                    this.pageType == i.TYPE_REFINE ? s.default.instance.createView(f.default.gameView.cuilianRuleView) : this.pageType == i.TYPE_XIANJI && this.xianjiPanel.getComponent("xianjiPrefab").showXianjiRule()
                }, t.prototype.onClickRefine = function() {
                    !this.isSave && !this.isNotTips && this.wantList.length > 0 ? this.showTips(1) : this.clickingRefine || this.onRefine()
                }, t.prototype.onRefine = function() {
                    if (u.default.instance.getCoin() < this.coin)
                        I.GameConfig.platform === cc.sys.WECHAT_GAME ? L.default.getAdLostTimes(L.Ad_Type.Coin) > 0 ? s.default.instance.createView(f.default.gameView.buyMoney) : m.UIHelper.showTip("\u91d1\u5e01\u4e0d\u8db3") : m.UIHelper.showCoinNoEnough();
                    else {
                        var e = 0,
                            t = u.default.instance.getChuiLianStoneAmount(),
                            i = this.stoneAmount;
                        if (t < this.stoneAmount)
                            return I.GameConfig.platform, cc.sys.WECHAT_GAME, void m.UIHelper.showTip("\u6dec\u7ec3\u77f3\u4e0d\u8db3");
                        if (!I.GameConfig.connectServer) {
                            var n = d.default.getItem(c.ItemId.REFINE);
                            e > 0 && u.default.instance.decGold(e), n && n.useArticle(i), u.default.instance.decCoin(this.coin)
                        }
                        this.isSave = !1, this.refine(), this.refreshLbl()
                    }
                }, t.prototype.refine = function() {
                    if (I.GameConfig.connectServer) {
                        for (var e = 0; e < this.lockList.length; e++)
                            this.lockList[e]++;
                        this.clickingRefine = !0, _.default.s_seq_quench(this.model.itemId, this.lockList);
                        for (e = 0; e < this.lockList.length; e++)
                            this.lockList[e]--
                    } else {
                        this.wantList = [];
                        var t = [],
                            i = [g.MagicNameConfig.MagicId.atk, g.MagicNameConfig.MagicId.mag, g.MagicNameConfig.MagicId.spt, g.MagicNameConfig.MagicId.def, g.MagicNameConfig.MagicId.speed, g.MagicNameConfig.MagicId.DamageReduction, g.MagicNameConfig.MagicId.BonusDamage, g.MagicNameConfig.MagicId.HpDrain, g.MagicNameConfig.MagicId.MpDrain, g.MagicNameConfig.MagicId.magic_find1, g.MagicNameConfig.MagicId.equip_times, g.MagicNameConfig.MagicId.lucky, g.MagicNameConfig.MagicId.hp, g.MagicNameConfig.MagicId.mp, g.MagicNameConfig.MagicId.atk_p, g.MagicNameConfig.MagicId.mag_p, g.MagicNameConfig.MagicId.spt_p, g.MagicNameConfig.MagicId.hp_p, g.MagicNameConfig.MagicId.mp_p];
                        for (e = 0; e < i.length; e++)
                            t[e] = 0;
                        var n = this.model.fuwenAtriList;
                        for (e = 0; e < n.length; e++) {
                            if (-1 != this.lockList.indexOf(e)) {
                                var o = n[e];
                                this.wantList[e] = o, t[i.indexOf(o.magicId)] += 1
                            }
                        }
                        var a = l.EquipConfig.randomAddAttrList(this.model.randAttrList.length - this.lockList.length, this.model.getConfig(), t);
                        for (e = 0; e < this.wantList.length; e++)
                            this.wantList[e] || (this.wantList[e] = a.shift());
                        this.wantList = this.wantList.concat(a), this.refreshWantAttri()
                    }
                }, t.prototype.onSave = function() {
                    0 != this.wantList.length && (I.GameConfig.connectServer ? _.default.s_seq_saverune(this.model.itemId) : (this.model.fuwenAtriList = this.wantList, u.default.instance.updateBagEquip(this.model), u.default.saveToLocalStorage(), this.initLeftRandomAttr(), this.wantList = [], this.scrollViewRight.content.removeAllChildren()))
                }, t.prototype.onUseGold = function(e) {
                    var t = this.getChild(this.node, "panel/pnlBtn/btnUseGold", cc.Toggle);
                    I.GameConfig.platform == cc.sys.WECHAT_GAME && (t.enabled = !1), this.useGold = t.isChecked
                }, t.prototype.initTipFrame = function() {
                    var e = this,
                        t = this.getChild(this.node, "pnlTips"),
                        n = this.getChild(t, "pnlBtn");
                    this.findChild(n, "btnAgree").on(cc.Node.EventType.TOUCH_END, function() {
                        if (0 == e.showId)
                            s.default.instance.closeView(f.default.gameView.cuilian);
                        else if (1 == e.showId) {
                            e.onRefine();
                            var n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            e.isNotTips = n.isChecked, t.active = !1
                        } else if (2 == e.showId) {
                            n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            e.isNotTips = n.isChecked, t.active = !1, e.pageType = i.TYPE_XIANJI, e.changePage()
                        } else if (3 == e.showId) {
                            n = e.getChild(t, "pnlBtn/tipsCheck", cc.Toggle);
                            t.active = !1, e.pageType = i.TYPE_REFINE, e.changePage()
                        } else
                            4 == e.showId && s.default.instance.closeView(f.default.gameView.cuilian)
                    }), this.findChild(n, "btnCancel").on(cc.Node.EventType.TOUCH_END, function() {
                        t.active = !1
                    })
                }, t.prototype.showTips = function(e) {
                    if (void 0 === e && (e = 1), C.Logger.log("showTips=======", e), this.pageType == i.TYPE_REFINE) {
                        if (1 == e && this.isNotTips)
                            return;
                        this.showId = e, (t = this.getChild(this.node, "pnlTips")).active = !0, t.x = 0;
                        this.getChild(t, "pnlLbl/content", cc.Label).string = "" + ["\u60a8\u8fd8\u6709\u6dec\u70bc\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u6dec\u7ec3", "\u60a8\u8fd8\u6709\u6dec\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\u3002\u662f\u5426\u8981\u653e\u5f03\u5f53\u524d\u5c5e\u6027\u7ee7\u7eed\u6dec\u7ec3\uff1f", "\u60a8\u8fd8\u6709\u6dec\u70bc\u7ec3\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u6dec\u7ec3"][e];
                        this.getChild(t, "pnlBtn");
                        this.getChild(t, "pnlBtn/tipsCheck", cc.Toggle).node.active = 0 != e && 3 != e
                    } else if (this.pageType == i.TYPE_XIANJI) {
                        var t;
                        C.Logger.log("\u5728\u732e\u796d\u6807\u7b7e\u9875====\u5173\u95ed\u9875\u9762====\u63d0\u793a====="), this.showId = e, (t = this.getChild(this.node, "pnlTips")).active = !0, t.x = 0, this.getChild(t, "pnlLbl/content", cc.Label).string = "\u60a8\u8fd8\u6709\u732e\u796d\u5c5e\u6027\u6ca1\u6709\u4fdd\u5b58\uff0c\u662f\u5426\u9000\u51fa\u732e\u796d";
                        this.getChild(t, "pnlBtn");
                        this.getChild(t, "pnlBtn/tipsCheck", cc.Toggle).node.active = !1
                    }
                }, t.prototype.onClose = function() {
                    if (this.pageType == i.TYPE_REFINE) {
                        if (!this.isSave && !this.isNotTips && this.wantList.length > 0)
                            return void this.showTips(0);
                        s.default.instance.closeView(f.default.gameView.cuilian)
                    } else if (this.pageType == i.TYPE_XIANJI) {
                        if (this.xianjiPanel.getComponent(k.default).xianjistate != k.default.xianji_IDLE && this.xianjiPanel.getComponent(k.default).wantList.length > 0)
                            return void this.showTips(4);
                        s.default.instance.closeView(f.default.gameView.cuilian)
                    }
                }, t.TYPE_REFINE = 0, t.TYPE_XIANJI = 1, t = i = o([N], t)
            }(r.default));
        i.default = R, cc._RF.pop()
    }, {
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ProtoConfig": "ProtoConfig",
        "../../../engine/ProtoUtils": "ProtoUtils",
        "../../../engine/UIManager": "UIManager",
        "../../../engine/ViewBase": "ViewBase",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/GameConfig": "GameConfig",
        "../../config/GameConst": "GameConst",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../config/MapConfig": "MapConfig",
        "../../config/QuenchingCostConfig": "QuenchingCostConfig",
        "../../config/RuneConfig": "RuneConfig",
        "../../config/ViewConfig": "ViewConfig",
        "../../model/AdModel": "AdModel",
        "../../model/ChargeActivityModel": "ChargeActivityModel",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/MagicModel": "MagicModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../sdk/SdkHelper": "SdkHelper",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper",
        "../BuyShopView": "BuyShopView",
        "./xianjiPrefab": "xianjiPrefab"
    }],
    gamecp: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "59f70iC4TNGDavSQGDm+qrs", "gamecp"), cc._RF.pop()
    }, {}],
    lngotsItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "7c7d9jprRRAu4KyZGVf6Ffl", "lngotsItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../model/TopUpModel"),
            s = e("../../../engine/ComponentBase"),
            r = e("../../../engine/Logger"),
            l = e("../../network/SocketClient"),
            c = cc._decorator,
            g = c.ccclass,
            f = (c.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.index = 0, t.xConfig = [-84.681, -75.681, -75.681, -75.681, -69.681, -69.681, -69.681], t.idsConfig = [101, 102, 103, 104, 105, 106, 107], t.img_shouchong = null, t
                }
                return n(t, e), t.prototype.init = function(e, t, i) {
                    this.bossView = e, this.config = t, this.index = i, this.initWidget()
                }, t.prototype.initWidget = function() {
                    this.img_shouchong = this.findChild(this.node, "img_shouchong"), this.img_shouchong.active = !1, this.iconYuanbao = this.findChild(this.node, "pnlSp/iconYuanbao2"), this.getChild(this.node, "pnlLbl/lblAmount", cc.Label).string = "" + this.config.name;
                    var e = this.getChild(this.node, "pnlLbl/lblDesc", cc.Label);
                    e.string = "" + this.config.des;
                    var t = this.config.id;
                    a.TopUpModel.hadCharge(t) || (this.img_shouchong.active = !0, e.string += "\n\u9996\u6b21\u8d2d\u4e70\u989d\u5916\u83b7\u5f97" + (this.config.gem * this.config.rate - this.config.gem) + "\u5143\u5b9d"), this.getChild(this.node, "pnlLbl/lblPrice", cc.Label).string = "" + parseInt(this.config.name), this.getChild(this.node, "btnBuy").on("click", this.onBuy, this), this.iconYuanbao.x = this.xConfig[this.index - 6]
                }, t.prototype.onBuy = function() {
                    r.Logger.log("onBuy========", this.config), this.bossView.closeView(), l.default.req_charge(this.config.id)
                }, t = o([g], t)
            }(s.default));
        i.default = f, cc._RF.pop()
    }, {
        "../../../engine/ComponentBase": "ComponentBase",
        "../../../engine/Logger": "Logger",
        "../../model/TopUpModel": "TopUpModel",
        "../../network/SocketClient": "SocketClient"
    }],
    skillEffectItem: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "5f072tqr4xP/YBNGuXwYHwA", "skillEffectItem");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../engine/ComponentBase"),
            s = e("../utils/MusicHelper"),
            r = e("../config/SkinConfig"),
            l = e("../../engine/Logger"),
            c = e("../network/SocketClient"),
            g = e("../config/FangShopConfig"),
            f = e("../config/ColorConfig"),
            d = e("../../engine/UIManager"),
            h = e("../config/ViewConfig"),
            u = e("../model/FangShiModel"),
            p = e("../model/SkillModel"),
            m = e("../utils/UIHelper"),
            C = cc._decorator,
            v = C.ccclass,
            _ = C.property,
            y = function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.spriteFrameList = [], t
                }
                return n(t, e), t.prototype.init = function(e) {
                    this.shopId = e, this.skinId = Number(g.default.getConfigById(this.shopId).item_id), this.config = r.default.getConfigById(this.skinId), this.onAddEventOnly(this.node, "buyBtn", this.clickBuy.bind(this)), this.onAddEventOnly(this.node, "showDescBtn", this.showDesc.bind(this));
                    r.default.getConfigById(this.skinId);
                    var t = this.skinId - 1,
                        i = u.default.getNumById(this.shopId);
                    l.Logger.log("\u73cd\u5b9d\u574a\u5e02===this.config====", this.config, "  ===== this.itemId====", this.skinId, "this.shopId==", this.shopId, i), this.findChild(this.node, "icon").getComponent(cc.Sprite).spriteFrame = this.spriteFrameList[t], this.findChild(this.node, "effectName").getComponent(cc.Label).string = this.config.name, this.findChild(this.node, "effectName").color = f.ColorConfig.getQualityColor(this.config.quality), this.findChild(this.node, "effectValue").getComponent(cc.Label).string = this.config.des, this.findChild(this.node, "buyBtn/money").getComponent(cc.Label).string = g.default.getConfigById(this.shopId).unit_price + "", i > 0 ? (this.findChild(this.node, "buyBtn").active = !0, this.findChild(this.node, "fontclib_shouqing").active = !1) : (this.findChild(this.node, "buyBtn").active = !1, this.findChild(this.node, "fontclib_shouqing").active = !0)
                }, t.prototype.onAddEventOnly = function(e, t, i, n) {
                    void 0 === n && (n = !1);
                    var o = this.getChild(e, "" + t);
                    n && o.off("click"), o.on("click", function() {
                        i(), s.MusicHelper.play_click()
                    }.bind(this), this)
                }, t.prototype.clickBuy = function() {
                    if (l.Logger.log("\u73cd\u5b9d\u574a\u5e02===\u70b9\u51fb\u8d2d\u4e70===itemId", this.shopId), g.default.getConfigById(this.shopId).price_type == g.default.PRICE_RMB) {
                        for (var e = p.SkillModel.getMyActiveSkillList(), t = !1, i = 0; i < e.length; i++)
                            e[i].skillId == this.config.type_value && (t = !0);
                        t ? c.default.s_seq_fangbuy(this.shopId, 1) : m.UIHelper.showTip("\u8fd8\u6ca1\u6709\u5b66\u4f1a\u8be5\u6280\u80fd")
                    }
                }, t.prototype.showDesc = function() {
                    d.default.instance.createView(h.default.gameView.ZhenBaoDes, null, this.shopId)
                }, o([_({
                    type: [cc.SpriteFrame]
                })], t.prototype, "spriteFrameList", void 0), t = o([v], t)
            }(a.default);
        i.default = y, cc._RF.pop()
    }, {
        "../../engine/ComponentBase": "ComponentBase",
        "../../engine/Logger": "Logger",
        "../../engine/UIManager": "UIManager",
        "../config/ColorConfig": "ColorConfig",
        "../config/FangShopConfig": "FangShopConfig",
        "../config/SkinConfig": "SkinConfig",
        "../config/ViewConfig": "ViewConfig",
        "../model/FangShiModel": "FangShiModel",
        "../model/SkillModel": "SkillModel",
        "../network/SocketClient": "SocketClient",
        "../utils/MusicHelper": "MusicHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    tttool: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "c79fapOkBRCK7eO1KvUIKZB", "tttool"), Object.defineProperty(i, "__esModule", {
            value: !0
        });
        e("../../engine/EventManager"), e("../event/CommonEvent");
        var n = e("../utils/UIHelper"),
            o = e("../../engine/Logger"),
            a = e("../network/SocketClient"),
            s = e("../sdk/SdkHelper"),
            r = e("../../engine/HttpUtil"),
            l = function() {
                function e() {}
                return e.ttLogin = function() {
                    tt.login({
                        force: !0,
                        success: e.loginSuccess,
                        complete: e.loginComplete,
                        fail: e.loginFail
                    })
                }, e.loginSuccess = function(e) {
                    o.Logger.log("loginSuccess======", e);
                    var t = new r.default;
                    t.setMethod(r.default.methodTypeOption.GET), t.requestByForm("https://developer.toutiao.com/api/apps/jscode2session?appid=ttadd3db6e32e980fe&secret=44a4124b5c8beb8148301d4c17993b90d06f8492&code=" + e.code, function(e, t) {
                        e && (o.Logger.log("\u8bf7\u6c42openid=====", t), t.openid ? (s.default.uId = t.openid, a.default.login(2)) : o.Logger.log("tt\u767b\u5f55\u5931\u8d25========="))
                    })
                }, e.loginComplete = function() {
                    o.Logger.log("tt.loginComplete========")
                }, e.loginFail = function() {}, e.getUserInfoSuccess = function(e) {
                    o.Logger.log("getUserInfoSuccess======", e)
                }, e.getUserInfoComplete = function() {
                    o.Logger.log("getUserInfoComplete======")
                }, e.getUserInfoFail = function() {}, e.OpenAD = function(e) {
                    void 0 === e && (e = 1), n.UIHelper.showTip("\u6682\u65e0\u5e7f\u544a\uff01")
                }, e.OpenBanner = function(e) {
                    var t = tt.createBannerAd({
                        adUnitId: e,
                        adIntervals: 30,
                        style: {
                            left: 10,
                            top: 76,
                            width: 320
                        }
                    });
                    t.onLoad(function() {
                        console.log("banner \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"), t.style.width = 400, t.show()
                    }), t.onError(function(e) {
                        console.log("banner \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25" + e)
                    })
                }, e.gameRecorderManager = function() {
                    var t = tt.getGameRecorderManager();
                    return t.onStart(function() {
                        console.log("\u5f00\u59cb\u5f55\u5c4f")
                    }), t.onResume(function() {
                        console.log("\u7ee7\u7eed\u5f55\u5c4f")
                    }), t.onPause(function() {
                        console.log("\u6682\u505c\u5f55\u5c4f")
                    }), t.onStop(function(t) {
                        console.log("\u5f55\u5c4f\u7ed3\u675f" + t.videoPath), e.videoPath = t.videoPath
                    }), t.onError(function(e) {
                        console.log("\u5f55\u5c4f\u51fa\u9519" + e)
                    }), t
                }, e.startRecorder = function() {
                    this.gameRecorderManager().start({
                        duration: 30
                    })
                }, e.stopRecorder = function() {
                    this.gameRecorderManager().stop()
                }, e.prototype.share = function() {
                    e.videoPath && tt.shareAppMessage({
                        channel: "video",
                        title: "\u6218\u795e\u98ce\u4e91",
                        extra: {
                            videoPath: e.videoPath
                        },
                        success: function(t) {
                            console.log("\u89c6\u9891\u5206\u4eab\u6210\u529f", t), e.videoPath = null
                        },
                        fail: function(e) {
                            console.log("\u89c6\u9891\u5206\u4eab\u5931\u8d25", e)
                        },
                        complete: function(e) {
                            console.log("\u89c6\u9891\u5206\u4eab\u5b8c\u6210", e)
                        }
                    })
                }, e.videoPath = null, e
            }();
        i.tttool = l, cc._RF.pop()
    }, {
        "../../engine/EventManager": "EventManager",
        "../../engine/HttpUtil": "HttpUtil",
        "../../engine/Logger": "Logger",
        "../event/CommonEvent": "CommonEvent",
        "../network/SocketClient": "SocketClient",
        "../sdk/SdkHelper": "SdkHelper",
        "../utils/UIHelper": "UIHelper"
    }],
    tt: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "4b995sGY9pBf7hc6nLZ3p3G", "tt"), cc._RF.pop()
    }, {}],
    xianjiPrefab: [function(e, t, i) {
        "use strict";
        cc._RF.push(t, "f15b66pz5tE6bBgXHzqwuu7", "xianjiPrefab");
        var n = this && this.__extends || function() {
                var e = function(t, i) {
                    return (e = Object.setPrototypeOf || {
                        __proto__: []
                    } instanceof Array && function(e, t) {
                        e.__proto__ = t
                    } || function(e, t) {
                        for (var i in t)
                            t.hasOwnProperty(i) && (e[i] = t[i])
                    })(t, i)
                };
                return function(t, i) {
                    function n() {
                        this.constructor = t
                    }
                    e(t, i), t.prototype = null === i ? Object.create(i) : (n.prototype = i.prototype, new n)
                }
            }(),
            o = this && this.__decorate || function(e, t, i, n) {
                var o,
                    a = arguments.length,
                    s = a < 3 ? t : null === n ? n = Object.getOwnPropertyDescriptor(t, i) : n;
                if ("object" == typeof Reflect && "function" == typeof Reflect.decorate)
                    s = Reflect.decorate(e, t, i, n);
                else
                    for (var r = e.length - 1; r >= 0; r--)
                        (o = e[r]) && (s = (a < 3 ? o(s) : a > 3 ? o(t, i, s) : o(t, i)) || s);
                return a > 3 && s && Object.defineProperty(t, i, s), s
            };
        Object.defineProperty(i, "__esModule", {
            value: !0
        });
        var a = e("../../../engine/Logger"),
            s = e("../../model/ItemInfoModel"),
            r = e("../../config/EquipConfig"),
            l = e("../../config/MagicNameConfig"),
            c = e("../../prefab/ItemPrefab"),
            g = e("../../utils/MusicHelper"),
            f = e("../../model/RoleInfoModel"),
            d = e("../../config/ColorConfig"),
            h = e("../../model/MagicModel"),
            u = e("../../network/SocketClient"),
            p = e("../../../engine/ProtoConfig"),
            m = e("../../../engine/ProtoUtils"),
            C = e("../../../engine/ComponentBase"),
            v = e("../../../engine/EventManager"),
            _ = e("../../event/CommonEvent"),
            y = e("../../utils/UIHelper"),
            M = e("../../config/DefaultConfig"),
            I = cc._decorator,
            b = I.ccclass,
            L = (I.property, function(e) {
                function t() {
                    var t = null !== e && e.apply(this, arguments) || this;
                    return t.baseNodeList = [], t.wantList = [], t.resetCost = 0, t.xianjistate = 0, t
                }
                var i;
                return n(t, e), i = t, t.prototype.init = function(e) {
                    this.parent = this.node.parent.parent, this.model = e, this.itemId = this.model.itemId, this.scrollViewLeft = this.getChild(this.node, "scrollViewLeft", cc.ScrollView), this.scrollViewRight = this.getChild(this.node, "scrollViewRight", cc.ScrollView), this.currItem = this.findChild(this.node, "currItem").getComponent(c.default), this.seletItem = this.findChild(this.node, "seletItem"), this.seletItem.active = !1, this.giveUpTip = this.parent.getChildByName("giveUpTip"), this.giveUpTip.active = !1, this.scrollViewLeft.content.removeAllChildren(), this.scrollViewRight.content.removeAllChildren(), this.itemNode = this.findChild(this.node, "itemInfo"), this.itemNode.active = !1, this.seletPanal = this.parent.getChildByName("seletPanal"), this.xianjiRule = this.parent.getChildByName("xianjiRule"), this.xianjiRule.active = !1, this.seletPanalScrollView = this.seletPanal.getChildByName("scrollView").getComponent(cc.ScrollView), this.seletItemPrefab = this.seletPanal.getChildByName("item"), this.seletItemPrefab.active = !1, this.seletPanal.active = !1, this.jipin1 = this.findChild(this.node, "jipin1"), this.jipin2 = this.findChild(this.node, "jipin2"), this.btn_selet = this.getChild(this.node, "btn_selet"), this.findChild(this.node, "2").active = !this.btn_selet.active, this.jipin2.active = !this.btn_selet.active, this.btn_xianji = this.getChild(this.node, "btn_xianji"), this.findChild(this.node, "xianjiFinish").active = !1, this.findChild(this.node, "xianjiBtnPanal").active = !1, this.xianjiCost = this.findChild(this.node, "xianjiBtnPanal/btn_busuan/xianjiCost"), this.btn_xianji.active = !0, this.getChild(this.node, "txtWantFight", cc.Label).string = "0", this.refreshLeft(), a.Logger.log("xianjiPrefab-----init-----------", e), this.onEvent(), this.initNoSeletModel()
                }, t.prototype.onEnable = function() {
                    v.EventManager.instance.on(_.CommonEvent.Event_SocketRespMsg, this.onSocketRespMsg, this)
                }, t.prototype.onEvent = function() {
                    this.onAddEventOnly(this.node, "btn_selet", this.showSeletPanal.bind(this)), this.onAddEventOnly(this.node, "seletItem", this.showSeletPanal.bind(this)), this.onAddEventOnly(this.parent, "seletPanal/btn_guanbi", this.hideSeletPanal.bind(this)), this.onAddEventOnly(this.parent, "seletPanal/darkLayer", this.hideSeletPanal.bind(this)), this.onAddEventOnly(this.parent, "xianjiRule/btnClose", this.hideXianjiRule.bind(this)), this.onAddEventOnly(this.node, "btn_xianji", this.onClickXianji.bind(this)), this.onAddEventOnly(this.node, "xianjiBtnPanal/btn_baocun", this.onClickSave.bind(this)), this.onAddEventOnly(this.node, "xianjiBtnPanal/btn_fanqi", this.showGiveUpTip.bind(this)), this.onAddEventOnly(this.node, "xianjiBtnPanal/btn_busuan", this.onClickReSet.bind(this)), this.onAddEventOnly(this.giveUpTip, "btnAgree", this.onClickGiveUp.bind(this)), this.onAddEventOnly(this.giveUpTip, "btnCancel", this.hideGiveUpTip.bind(this))
                }, t.prototype.onAddEventOnly = function(e, t, i, n) {
                    void 0 === n && (n = !1);
                    var o = this.getChild(e, "" + t);
                    n && o.off("click"), o.on("click", function() {
                        i(), g.MusicHelper.play_click()
                    }.bind(this), this)
                }, t.prototype.onClickXianji = function() {
                    a.Logger.log("click---xianji-----"), this.xianji()
                }, t.prototype.onClickSave = function() {
                    a.Logger.log("click---save-----"), u.default.s_seq_xianji_save(this.model.itemId, this.seletModel.itemId)
                }, t.prototype.showGiveUpTip = function() {
                    this.giveUpTip.active = !0
                }, t.prototype.hideGiveUpTip = function() {
                    this.giveUpTip.active = !1
                }, t.prototype.onClickGiveUp = function() {
                    a.Logger.log("click---GiveUp-----"), this.initNoSeletModel(), this.giveUpTip.active && (this.giveUpTip.active = !1)
                }, t.prototype.onClickReSet = function() {
                    a.Logger.log("click---ReSet-----"), u.default.s_seq_xianji_regret(this.model.itemId)
                }, t.prototype.xianji = function() {
                    a.Logger.log("------xianji-----start-----"), this.seletModel ? (u.default.s_seq_xianji(this.model.itemId, this.seletModel.itemId), this.xianjistate = i.xianji_START) : y.UIHelper.showTip("\u8fd8\u6ca1\u6709\u9009\u62e9\u796d\u54c1")
                }, t.prototype.xianjiFinish = function() {
                    a.Logger.log("------xianji-----finish-----"), this.xianjistate = i.xianji_FINISH, this.findChild(this.node, "xianjiFinish").active = !0, this.findChild(this.node, "xianjiBtnPanal").active = !0, f.default.instance.getGold() < this.resetCost ? this.xianjiCost.color = d.ColorConfig.RedColor : this.xianjiCost.color = d.ColorConfig.YellowColor, this.xianjiCost.getComponent(cc.Label).string = this.resetCost + "", this.btn_xianji.active = !1
                }, t.prototype.onSocketRespMsg = function(e, t) {
                    if (a.Logger.log("xianji-------------protoName", e), e == p.ProtoConfig.c_seq_xianji) {
                        var i = m.ProtoUtils.DeserializeBinary(p.ProtoConfig.c_seq_xianji, t),
                            n = i.getItemid1(),
                            o = i.getDiamond(),
                            s = i.getBaseaddattrlistList();
                        a.Logger.log("c_seq_xianji=======itemId1===", n, "    baseAddAttrList========", s), this.wantList = [];
                        for (var r = 0; r < s.length; r++) {
                            var l = new h.default;
                            l.magicId = s[r].getK(), l.magicValue = s[r].getV(), this.wantList[r] = l
                        }
                        a.Logger.log("c_seq_xianji=======wantList===", this.wantList), this.resetCost = o, this.xianjiCost.getComponent(cc.Label).string = this.resetCost + "", this.xianjiFinish(), this.refreshRight()
                    } else
                        e == p.ProtoConfig.c_seq_xianji_save ? (a.Logger.log("c_seq_xianji_save=======", t), this.wantList.length > 0 && (this.scrollViewRight.content.removeAllChildren(), this.getChild(this.node, "txtWantFight", cc.Label).string = "0", this.model.baseAddAttrList = this.wantList, this.refreshLeft(), this.initNoSeletModel())) : e == p.ProtoConfig.c_update_item_info || p.ProtoConfig.c_seq_xianji_regret
                }, t.prototype.initNoSeletModel = function() {
                    a.Logger.log("\u5237\u65b0\u732e\u796d\u9875\u9762\u663e\u793a"), this.resetCost = M.DefaultConfig.getConfigById(45).value[1], this.wantList = [], this.refreshRight(), this.refreshLeftIcon(), this.seletModel = null, this.findChild(this.node, "xianjiFinish").active = !1, this.findChild(this.node, "xianjiBtnPanal").active = !1, this.btn_xianji.active = !0, this.xianjistate = i.xianji_IDLE
                }, t.prototype.refreshLeft = function() {
                    this.currItem.init(this.model), this.scrollViewLeft.content.removeAllChildren(), this.model = s.default.getItemByid(this.itemId), this.jipin1.getComponent(cc.Label).string = this.model.getCurrBaseAddAttrValue() + "(" + this.model.getJiPinPersent() + "%)", this.jipin1.color = d.ColorConfig.getQualityColor(this.model.quality);
                    for (var e = r.EquipConfig.getEquipConfigById(this.model.itemType), t = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def, l.MagicNameConfig.MagicId.hp], i = 0; i < t.length; i++) {
                        var n = this.model.getBaseAddValue(t[i]),
                            o = n;
                        if (t[i] == l.MagicNameConfig.MagicId.atk ? o += e.atk : t[i] == l.MagicNameConfig.MagicId.mag ? o += e.mag : t[i] == l.MagicNameConfig.MagicId.spt ? o += e.spt : t[i] == l.MagicNameConfig.MagicId.def ? o += e.def : t[i] == l.MagicNameConfig.MagicId.hp && (o += e.hp), o > 0) {
                            var a = void 0;
                            this.baseNodeList[i] ? a = this.baseNodeList[i] : (a = cc.instantiate(this.itemNode), this.baseNodeList[i] = a), a.parent = this.scrollViewLeft.content, a.active = !0, a.getChildByName("txtDesc").getComponent(cc.Label).string = l.MagicNameConfig.getDesc(t[i]) + ":", a.getChildByName("txtDefaultValue").getComponent(cc.Label).string = "" + o;
                            var c = a.getChildByName("txtExtra").getComponent(cc.Label);
                            c.string = "(" + n + ")", c.node.active = n > 0
                        }
                    }
                    this.getChild(this.node, "txtNowFight", cc.Label).string = r.EquipConfig.getFanRenZhiLi(this.model.itemType, this.model.baseAddAttrList, this.model.randAttrList) + ""
                }, t.prototype.refreshRight = function() {
                    if (this.model = s.default.getItemByid(this.itemId), this.scrollViewRight.content.removeAllChildren(), this.wantList.length > 0) {
                        this.getChild(this.node, "txtWantFight", cc.Label).string = r.EquipConfig.getFanRenZhiLi(this.model.itemType, this.wantList, this.model.randAttrList) + "";
                        for (var e = [l.MagicNameConfig.MagicId.atk, l.MagicNameConfig.MagicId.mag, l.MagicNameConfig.MagicId.spt, l.MagicNameConfig.MagicId.def, l.MagicNameConfig.MagicId.hp], t = r.EquipConfig.getEquipConfigById(this.model.itemType), i = 0; i < e.length; i++) {
                            var n = this.getXianjiBaseAddValue(e[i], this.wantList),
                                o = this.model.getBaseAddValue(e[i]),
                                a = n;
                            if (e[i] == l.MagicNameConfig.MagicId.atk ? a += t.atk : e[i] == l.MagicNameConfig.MagicId.mag ? a += t.mag : e[i] == l.MagicNameConfig.MagicId.spt ? a += t.spt : e[i] == l.MagicNameConfig.MagicId.def ? a += t.def : e[i] == l.MagicNameConfig.MagicId.hp && (a += t.hp), a > 0) {
                                var c = void 0;
                                (c = cc.instantiate(this.itemNode)).parent = this.scrollViewRight.content, c.active = !0, c.getChildByName("txtDesc").getComponent(cc.Label).string = l.MagicNameConfig.getDesc(e[i]) + ":", c.getChildByName("txtDefaultValue").getComponent(cc.Label).string = "" + a;
                                var g = c.getChildByName("txtExtra").getComponent(cc.Label),
                                    f = n - o;
                                g.string = f > 0 ? "(" + o + "+" + f + ")" : "(" + o + ")", g.node.active = n > 0
                            }
                        }
                    }
                }, t.prototype.refreshLeftIcon = function(e) {
                    void 0 === e && (e = null), null != e ? (this.seletItem.getComponent(c.default).init(e), this.seletItem.active = !0, this.btn_selet.active = !1, this.jipin2.getComponent(cc.Label).string = e.getCurrBaseAddAttrValue() + "(" + e.getJiPinPersent() + "%)", this.jipin2.color = d.ColorConfig.getQualityColor(e.quality)) : (this.seletItem.active = !1, this.btn_selet.active = !0), this.findChild(this.node, "2").active = !this.btn_selet.active, this.jipin2.active = !this.btn_selet.active
                }, t.prototype.showSeletPanal = function() {
                    if (a.Logger.log("xianjistate====", this.xianjistate), this.xianjistate != i.xianji_FINISH && this.xianjistate != i.xianji_START) {
                        if (this.canSeletEquipList = this.getCanSeletEquip(), this.canSeletEquipList.length <= 0)
                            return void y.UIHelper.showTip("\u6ca1\u6709\u53ef\u7528\u796d\u54c1");
                        this.seletPanal.active = !0, this.refreshSeletPanal()
                    }
                }, t.prototype.refreshSeletPanal = function() {
                    a.Logger.log("this.canSeletEquipList==========this.canSeletEquipList", this.canSeletEquipList), this.seletPanalScrollView.content.removeAllChildren();
                    for (var e = 0; e < this.canSeletEquipList.length; e++) {
                        var t = cc.instantiate(this.seletItemPrefab);
                        t.active = !0, t.getChildByName("currItem").getComponent(c.default).init(this.canSeletEquipList[e]), t.on(cc.Node.EventType.TOUCH_END, this.selet.bind(this, e)), t.getChildByName("value").getComponent(cc.Label).string = this.canSeletEquipList[e].getCurrBaseAddAttrValue() + "(" + this.canSeletEquipList[e].getJiPinPersent() + "%)", t.getChildByName("value").color = d.ColorConfig.getQualityColor(this.canSeletEquipList[e].quality), this.seletPanalScrollView.content.addChild(t)
                    }
                }, t.prototype.selet = function(e) {
                    this.xianjistate != i.xianji_FINISH && this.xianjistate != i.xianji_START && (a.Logger.log("seletPanal======selet====i========", e, "seletItemInfoModel======", this.canSeletEquipList[e]), this.hideSeletPanal(), this.xianjistate = i.xianji_SELET, this.seletModel = this.canSeletEquipList[e], this.refreshLeftIcon(this.canSeletEquipList[e]))
                }, t.prototype.hideSeletPanal = function() {
                    this.seletPanal.active = !1
                }, t.prototype.getCanSeletEquip = function() {
                    for (var e = [], t = 0; t < f.default.instance.itemInfoList.length; t++)
                        f.default.instance.itemInfoList[t].itemType == this.model.itemType && f.default.instance.itemInfoList[t].quality == this.model.quality && f.default.instance.itemInfoList[t].getCurrBaseAddAttrValue() > this.model.getCurrBaseAddAttrValue() && !f.default.instance.itemInfoList[t].isLock && f.default.instance.itemInfoList[t].gridId < 0 && Number(f.default.instance.itemInfoList[t].getJiPinPersent()) <= 100 && e.push(f.default.instance.itemInfoList[t]);
                    return e.sort(function(e, t) {
                        return e.getCurrBaseAddAttrValue() - t.getCurrBaseAddAttrValue()
                    }), e
                }, t.prototype.showXianjiRule = function() {
                    this.xianjiRule.active = !0
                }, t.prototype.hideXianjiRule = function() {
                    this.xianjiRule.active = !1
                }, t.prototype.getXianjiBaseAddValue = function(e, t) {
                    for (var i = 0, n = 0; n < t.length; n++) {
                        var o = t[n];
                        if (o.magicId == e) {
                            i = o.magicValue;
                            break
                        }
                    }
                    return i
                }, t.xianji_IDLE = 0, t.xianji_SELET = 1, t.xianji_START = 2, t.xianji_FINISH = 3, t = i = o([b], t)
            }(C.default));
        i.default = L, cc._RF.pop()
    }, {
        "../../../engine/ComponentBase": "ComponentBase",
        "../../../engine/EventManager": "EventManager",
        "../../../engine/Logger": "Logger",
        "../../../engine/ProtoConfig": "ProtoConfig",
        "../../../engine/ProtoUtils": "ProtoUtils",
        "../../config/ColorConfig": "ColorConfig",
        "../../config/DefaultConfig": "DefaultConfig",
        "../../config/EquipConfig": "EquipConfig",
        "../../config/MagicNameConfig": "MagicNameConfig",
        "../../event/CommonEvent": "CommonEvent",
        "../../model/ItemInfoModel": "ItemInfoModel",
        "../../model/MagicModel": "MagicModel",
        "../../model/RoleInfoModel": "RoleInfoModel",
        "../../network/SocketClient": "SocketClient",
        "../../prefab/ItemPrefab": "ItemPrefab",
        "../../utils/MusicHelper": "MusicHelper",
        "../../utils/UIHelper": "UIHelper"
    }]
}, {}, ["Main", "AdapterHelper", "Astar", "ComponentBase", "DateUtil", "EventManager", "GameSocket", "GameWebSocket", "HaoEncrypt", "HotUpdate", "HttpUtil", "LocalStorage", "Logger", "ManifestConfig", "MathUtils", "MusicPrefab", "ProtoConfig", "ProtoUtils", "RandomUtil", "ResourcesManager", "SafeDataModelBase", "ShaderHelper", "SocketRequestData", "SoundPrefab", "UIManager", "Uint8ArrayHelper", "VersionManager", "ViewBase", "GameController", "ActivityCodeConfig", "BagConfig", "ChiXueMoJianConfig", "ChongZhiConfig", "ColorConfig", "ComplexConfig", "DefaultConfig", "EquipConfig", "EquipGatherConfig", "FangShopConfig", "GameConfig", "GameConst", "GoldsConfig", "GuideConfig", "HeroConfig", "ITemsConfig", "IntensifyBuffConfig", "IntensifyConfig", "JingJieConfig", "JsonConfigBase", "MagicNameConfig", "MapConfig", "MingYunZhiRenConfig", "MonsterConfig", "MusicConfig", "NameConfig", "QuenchingCostConfig", "RandomFuMoConfig", "RandomFuMoEntryConfig", "RebirthConfig", "RuneConfig", "ShenCiConfig", "ShenbingskillAllConfig", "ShopAllConfig", "ShopConfig", "ShopRecoverConfig", "SkillConfig", "SkinConfig", "SpriteFrameConfig", "ViewConfig", "WordConfig", "Xilianexpendconfig", "YaoShopConfig", "CommonEvent", "LanguageHelper", "MapManager", "MonsterManager", "ScoreManager", "SkillEffectManager", "SkillManager", "StatisticsManager", "SummonedManager", "tt", "tttool", "AdModel", "BlessModel", "BossModel", "BusinessModel", "ChargeActivityModel", "ChatModel", "EquipGridModel", "FangShiModel", "FightModel", "Grid", "GuideModel", "HelpGiftModel", "ItemInfoModel", "JingJieModel", "MagicModel", "MakeEquipModel", "MapStatisticsModel", "NotifyModel", "PrivilegeModel", "RedDotModel", "ResModel", "RoleInfoModel", "RolePrefabInfo", "ServerTime", "SettingModel", "ShenBinModel", "ShenBinSkillModel", "SkillEffectModel", "SkillModel", "SpiritsModel", "TaskModel", "TopUpModel", "ZoneModel", "HttpHelper", "SocketClient", "AudioPrefab", "ChatPrefab", "GameManager", "ItemPrefab", "MiniMapPrefab", "RolePrefab", "ShaderMaterialPrefab", "SdkHelper", "MusicHelper", "NameHelper", "UIHelper", "BusinessView", "BuyShopView", "ChangeWorldGiftView", "ChargeSucView", "CheckDeleteRoleView", "CityView", "ComoensationView", "ComplexView", "CompoundView", "DialogCheckView", "DisCountConfig", "DisCountModel", "DiscountView", "EquipContrastView", "EquipMakeView", "FangShopView", "FightChangeView", "FightRoleInfoView", "GamePrivilegeView", "GameUIView", "GameView", "GmView", "GuideView", "JingJieView", "LoadingView", "LoginView", "MapInfoView", "MapView", "MsginfoView", "NoBossPrivilegeView", "NotityView", "OfflineGiftView", "OfflineView", "PrivilegeFightGodView", "PrivilegeRecoveryView", "RefineRuleView", "RefineHelpView", "RefineView", "cuilianHelpView", "cuilianRuleView", "cuilianView", "xianjiPrefab", "RegisterView", "ReviveView", "BagAddView", "BagEqItemInfo", "BagItem", "BagItemInfo", "BagView", "ButtomView", "KillBossTip", "ShenBinRuleView", "WeaponView", "ServerWeiHuView", "DropDownBox", "SetConBox", "SetSkill", "SettingView", "SkillEffectSeletItem", "SkillEffectView", "SkillIUp", "SkillItem", "SkillStudy", "SkillView", "StrengthenInfoView", "StrengthenView", "TempView", "TipView", "TopUpView", "lngotsItem", "UserInfoView", "ZhenBaoDes", "ZoneServerView", "buyItem", "buyMoney", "skillEffectItem", "LoadingTipView", "XianShiActivityView", "XianShiGoldView", "XianShi_XiLianShi", "Xianshi_ShuyeView", "ZuiQiangFangYuGiftView", "ZuiQiangJiNengGiftView", "gamecp"]);
